var H5=Object.defineProperty;var G5=(r,t,e)=>t in r?H5(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e;var dr=(r,t,e)=>G5(r,typeof t!="symbol"?t+"":t,e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function e(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(s){if(s.ep)return;s.ep=!0;const l=e(s);fetch(s.href,l)}})();var KS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function s1(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Ih={exports:{}},nd={},Eh={exports:{}},Dt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o0;function K5(){if(o0)return Dt;o0=1;var r=Symbol.for("react.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),d=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),j=Symbol.iterator;function _(Q){return Q===null||typeof Q!="object"?null:(Q=j&&Q[j]||Q["@@iterator"],typeof Q=="function"?Q:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,A={};function C(Q,L,U){this.props=Q,this.context=L,this.refs=A,this.updater=U||x}C.prototype.isReactComponent={},C.prototype.setState=function(Q,L){if(typeof Q!="object"&&typeof Q!="function"&&Q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Q,L,"setState")},C.prototype.forceUpdate=function(Q){this.updater.enqueueForceUpdate(this,Q,"forceUpdate")};function S(){}S.prototype=C.prototype;function F(Q,L,U){this.props=Q,this.context=L,this.refs=A,this.updater=U||x}var O=F.prototype=new S;O.constructor=F,P(O,C.prototype),O.isPureReactComponent=!0;var B=Array.isArray,H=Object.prototype.hasOwnProperty,ee={current:null},ce={key:!0,ref:!0,__self:!0,__source:!0};function W(Q,L,U){var M,K={},Z=null,ae=null;if(L!=null)for(M in L.ref!==void 0&&(ae=L.ref),L.key!==void 0&&(Z=""+L.key),L)H.call(L,M)&&!ce.hasOwnProperty(M)&&(K[M]=L[M]);var he=arguments.length-2;if(he===1)K.children=U;else if(1<he){for(var pe=Array(he),ue=0;ue<he;ue++)pe[ue]=arguments[ue+2];K.children=pe}if(Q&&Q.defaultProps)for(M in he=Q.defaultProps,he)K[M]===void 0&&(K[M]=he[M]);return{$$typeof:r,type:Q,key:Z,ref:ae,props:K,_owner:ee.current}}function I(Q,L){return{$$typeof:r,type:Q.type,key:L,ref:Q.ref,props:Q.props,_owner:Q._owner}}function J(Q){return typeof Q=="object"&&Q!==null&&Q.$$typeof===r}function D(Q){var L={"=":"=0",":":"=2"};return"$"+Q.replace(/[=:]/g,function(U){return L[U]})}var k=/\/+/g;function X(Q,L){return typeof Q=="object"&&Q!==null&&Q.key!=null?D(""+Q.key):L.toString(36)}function R(Q,L,U,M,K){var Z=typeof Q;(Z==="undefined"||Z==="boolean")&&(Q=null);var ae=!1;if(Q===null)ae=!0;else switch(Z){case"string":case"number":ae=!0;break;case"object":switch(Q.$$typeof){case r:case t:ae=!0}}if(ae)return ae=Q,K=K(ae),Q=M===""?"."+X(ae,0):M,B(K)?(U="",Q!=null&&(U=Q.replace(k,"$&/")+"/"),R(K,L,U,"",function(ue){return ue})):K!=null&&(J(K)&&(K=I(K,U+(!K.key||ae&&ae.key===K.key?"":(""+K.key).replace(k,"$&/")+"/")+Q)),L.push(K)),1;if(ae=0,M=M===""?".":M+":",B(Q))for(var he=0;he<Q.length;he++){Z=Q[he];var pe=M+X(Z,he);ae+=R(Z,L,U,pe,K)}else if(pe=_(Q),typeof pe=="function")for(Q=pe.call(Q),he=0;!(Z=Q.next()).done;)Z=Z.value,pe=M+X(Z,he++),ae+=R(Z,L,U,pe,K);else if(Z==="object")throw L=String(Q),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(Q).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.");return ae}function se(Q,L,U){if(Q==null)return Q;var M=[],K=0;return R(Q,M,"","",function(Z){return L.call(U,Z,K++)}),M}function xe(Q){if(Q._status===-1){var L=Q._result;L=L(),L.then(function(U){(Q._status===0||Q._status===-1)&&(Q._status=1,Q._result=U)},function(U){(Q._status===0||Q._status===-1)&&(Q._status=2,Q._result=U)}),Q._status===-1&&(Q._status=0,Q._result=L)}if(Q._status===1)return Q._result.default;throw Q._result}var de={current:null},oe={transition:null},be={ReactCurrentDispatcher:de,ReactCurrentBatchConfig:oe,ReactCurrentOwner:ee};function je(){throw Error("act(...) is not supported in production builds of React.")}return Dt.Children={map:se,forEach:function(Q,L,U){se(Q,function(){L.apply(this,arguments)},U)},count:function(Q){var L=0;return se(Q,function(){L++}),L},toArray:function(Q){return se(Q,function(L){return L})||[]},only:function(Q){if(!J(Q))throw Error("React.Children.only expected to receive a single React element child.");return Q}},Dt.Component=C,Dt.Fragment=e,Dt.Profiler=s,Dt.PureComponent=F,Dt.StrictMode=a,Dt.Suspense=m,Dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=be,Dt.act=je,Dt.cloneElement=function(Q,L,U){if(Q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Q+".");var M=P({},Q.props),K=Q.key,Z=Q.ref,ae=Q._owner;if(L!=null){if(L.ref!==void 0&&(Z=L.ref,ae=ee.current),L.key!==void 0&&(K=""+L.key),Q.type&&Q.type.defaultProps)var he=Q.type.defaultProps;for(pe in L)H.call(L,pe)&&!ce.hasOwnProperty(pe)&&(M[pe]=L[pe]===void 0&&he!==void 0?he[pe]:L[pe])}var pe=arguments.length-2;if(pe===1)M.children=U;else if(1<pe){he=Array(pe);for(var ue=0;ue<pe;ue++)he[ue]=arguments[ue+2];M.children=he}return{$$typeof:r,type:Q.type,key:K,ref:Z,props:M,_owner:ae}},Dt.createContext=function(Q){return Q={$$typeof:d,_currentValue:Q,_currentValue2:Q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Q.Provider={$$typeof:l,_context:Q},Q.Consumer=Q},Dt.createElement=W,Dt.createFactory=function(Q){var L=W.bind(null,Q);return L.type=Q,L},Dt.createRef=function(){return{current:null}},Dt.forwardRef=function(Q){return{$$typeof:u,render:Q}},Dt.isValidElement=J,Dt.lazy=function(Q){return{$$typeof:y,_payload:{_status:-1,_result:Q},_init:xe}},Dt.memo=function(Q,L){return{$$typeof:p,type:Q,compare:L===void 0?null:L}},Dt.startTransition=function(Q){var L=oe.transition;oe.transition={};try{Q()}finally{oe.transition=L}},Dt.unstable_act=je,Dt.useCallback=function(Q,L){return de.current.useCallback(Q,L)},Dt.useContext=function(Q){return de.current.useContext(Q)},Dt.useDebugValue=function(){},Dt.useDeferredValue=function(Q){return de.current.useDeferredValue(Q)},Dt.useEffect=function(Q,L){return de.current.useEffect(Q,L)},Dt.useId=function(){return de.current.useId()},Dt.useImperativeHandle=function(Q,L,U){return de.current.useImperativeHandle(Q,L,U)},Dt.useInsertionEffect=function(Q,L){return de.current.useInsertionEffect(Q,L)},Dt.useLayoutEffect=function(Q,L){return de.current.useLayoutEffect(Q,L)},Dt.useMemo=function(Q,L){return de.current.useMemo(Q,L)},Dt.useReducer=function(Q,L,U){return de.current.useReducer(Q,L,U)},Dt.useRef=function(Q){return de.current.useRef(Q)},Dt.useState=function(Q){return de.current.useState(Q)},Dt.useSyncExternalStore=function(Q,L,U){return de.current.useSyncExternalStore(Q,L,U)},Dt.useTransition=function(){return de.current.useTransition()},Dt.version="18.3.1",Dt}var a0;function Ff(){return a0||(a0=1,Eh.exports=K5()),Eh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s0;function Y5(){if(s0)return nd;s0=1;var r=Ff(),t=Symbol.for("react.element"),e=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function d(u,m,p){var y,j={},_=null,x=null;p!==void 0&&(_=""+p),m.key!==void 0&&(_=""+m.key),m.ref!==void 0&&(x=m.ref);for(y in m)a.call(m,y)&&!l.hasOwnProperty(y)&&(j[y]=m[y]);if(u&&u.defaultProps)for(y in m=u.defaultProps,m)j[y]===void 0&&(j[y]=m[y]);return{$$typeof:t,type:u,key:_,ref:x,props:j,_owner:s.current}}return nd.Fragment=e,nd.jsx=d,nd.jsxs=d,nd}var l0;function J5(){return l0||(l0=1,Ih.exports=Y5()),Ih.exports}var n=J5(),ve=Ff();const fc=s1(ve);var su={},zh={exports:{}},Ci={},Fh={exports:{}},Oh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c0;function X5(){return c0||(c0=1,(function(r){function t(oe,be){var je=oe.length;oe.push(be);e:for(;0<je;){var Q=je-1>>>1,L=oe[Q];if(0<s(L,be))oe[Q]=be,oe[je]=L,je=Q;else break e}}function e(oe){return oe.length===0?null:oe[0]}function a(oe){if(oe.length===0)return null;var be=oe[0],je=oe.pop();if(je!==be){oe[0]=je;e:for(var Q=0,L=oe.length,U=L>>>1;Q<U;){var M=2*(Q+1)-1,K=oe[M],Z=M+1,ae=oe[Z];if(0>s(K,je))Z<L&&0>s(ae,K)?(oe[Q]=ae,oe[Z]=je,Q=Z):(oe[Q]=K,oe[M]=je,Q=M);else if(Z<L&&0>s(ae,je))oe[Q]=ae,oe[Z]=je,Q=Z;else break e}}return be}function s(oe,be){var je=oe.sortIndex-be.sortIndex;return je!==0?je:oe.id-be.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var d=Date,u=d.now();r.unstable_now=function(){return d.now()-u}}var m=[],p=[],y=1,j=null,_=3,x=!1,P=!1,A=!1,C=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(oe){for(var be=e(p);be!==null;){if(be.callback===null)a(p);else if(be.startTime<=oe)a(p),be.sortIndex=be.expirationTime,t(m,be);else break;be=e(p)}}function B(oe){if(A=!1,O(oe),!P)if(e(m)!==null)P=!0,xe(H);else{var be=e(p);be!==null&&de(B,be.startTime-oe)}}function H(oe,be){P=!1,A&&(A=!1,S(W),W=-1),x=!0;var je=_;try{for(O(be),j=e(m);j!==null&&(!(j.expirationTime>be)||oe&&!D());){var Q=j.callback;if(typeof Q=="function"){j.callback=null,_=j.priorityLevel;var L=Q(j.expirationTime<=be);be=r.unstable_now(),typeof L=="function"?j.callback=L:j===e(m)&&a(m),O(be)}else a(m);j=e(m)}if(j!==null)var U=!0;else{var M=e(p);M!==null&&de(B,M.startTime-be),U=!1}return U}finally{j=null,_=je,x=!1}}var ee=!1,ce=null,W=-1,I=5,J=-1;function D(){return!(r.unstable_now()-J<I)}function k(){if(ce!==null){var oe=r.unstable_now();J=oe;var be=!0;try{be=ce(!0,oe)}finally{be?X():(ee=!1,ce=null)}}else ee=!1}var X;if(typeof F=="function")X=function(){F(k)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,se=R.port2;R.port1.onmessage=k,X=function(){se.postMessage(null)}}else X=function(){C(k,0)};function xe(oe){ce=oe,ee||(ee=!0,X())}function de(oe,be){W=C(function(){oe(r.unstable_now())},be)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(oe){oe.callback=null},r.unstable_continueExecution=function(){P||x||(P=!0,xe(H))},r.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<oe?Math.floor(1e3/oe):5},r.unstable_getCurrentPriorityLevel=function(){return _},r.unstable_getFirstCallbackNode=function(){return e(m)},r.unstable_next=function(oe){switch(_){case 1:case 2:case 3:var be=3;break;default:be=_}var je=_;_=be;try{return oe()}finally{_=je}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(oe,be){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var je=_;_=oe;try{return be()}finally{_=je}},r.unstable_scheduleCallback=function(oe,be,je){var Q=r.unstable_now();switch(typeof je=="object"&&je!==null?(je=je.delay,je=typeof je=="number"&&0<je?Q+je:Q):je=Q,oe){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=je+L,oe={id:y++,callback:be,priorityLevel:oe,startTime:je,expirationTime:L,sortIndex:-1},je>Q?(oe.sortIndex=je,t(p,oe),e(m)===null&&oe===e(p)&&(A?(S(W),W=-1):A=!0,de(B,je-Q))):(oe.sortIndex=L,t(m,oe),P||x||(P=!0,xe(H))),oe},r.unstable_shouldYield=D,r.unstable_wrapCallback=function(oe){var be=_;return function(){var je=_;_=be;try{return oe.apply(this,arguments)}finally{_=je}}}})(Oh)),Oh}var d0;function Z5(){return d0||(d0=1,Fh.exports=X5()),Fh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u0;function Q5(){if(u0)return Ci;u0=1;var r=Ff(),t=Z5();function e(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,c=1;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(i,o){d(i,o),d(i+"Capture",o)}function d(i,o){for(s[i]=o,i=0;i<o.length;i++)a.add(o[i])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},j={};function _(i){return m.call(j,i)?!0:m.call(y,i)?!1:p.test(i)?j[i]=!0:(y[i]=!0,!1)}function x(i,o,c,f){if(c!==null&&c.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return f?!1:c!==null?!c.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function P(i,o,c,f){if(o===null||typeof o>"u"||x(i,o,c,f))return!0;if(f)return!1;if(c!==null)switch(c.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function A(i,o,c,f,b,T,$){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=f,this.attributeNamespace=b,this.mustUseProperty=c,this.propertyName=i,this.type=o,this.sanitizeURL=T,this.removeEmptyString=$}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){C[i]=new A(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];C[o]=new A(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){C[i]=new A(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){C[i]=new A(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){C[i]=new A(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){C[i]=new A(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){C[i]=new A(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){C[i]=new A(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){C[i]=new A(i,5,!1,i.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function F(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(S,F);C[o]=new A(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(S,F);C[o]=new A(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(S,F);C[o]=new A(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){C[i]=new A(i,1,!1,i.toLowerCase(),null,!1,!1)}),C.xlinkHref=new A("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){C[i]=new A(i,1,!1,i.toLowerCase(),null,!0,!0)});function O(i,o,c,f){var b=C.hasOwnProperty(o)?C[o]:null;(b!==null?b.type!==0:f||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(P(o,c,b,f)&&(c=null),f||b===null?_(o)&&(c===null?i.removeAttribute(o):i.setAttribute(o,""+c)):b.mustUseProperty?i[b.propertyName]=c===null?b.type===3?!1:"":c:(o=b.attributeName,f=b.attributeNamespace,c===null?i.removeAttribute(o):(b=b.type,c=b===3||b===4&&c===!0?"":""+c,f?i.setAttributeNS(f,o,c):i.setAttribute(o,c))))}var B=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,H=Symbol.for("react.element"),ee=Symbol.for("react.portal"),ce=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),J=Symbol.for("react.provider"),D=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),se=Symbol.for("react.memo"),xe=Symbol.for("react.lazy"),de=Symbol.for("react.offscreen"),oe=Symbol.iterator;function be(i){return i===null||typeof i!="object"?null:(i=oe&&i[oe]||i["@@iterator"],typeof i=="function"?i:null)}var je=Object.assign,Q;function L(i){if(Q===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);Q=o&&o[1]||""}return`
`+Q+i}var U=!1;function M(i,o){if(!i||U)return"";U=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(Ne){var f=Ne}Reflect.construct(i,[],o)}else{try{o.call()}catch(Ne){f=Ne}i.call(o.prototype)}else{try{throw Error()}catch(Ne){f=Ne}i()}}catch(Ne){if(Ne&&f&&typeof Ne.stack=="string"){for(var b=Ne.stack.split(`
`),T=f.stack.split(`
`),$=b.length-1,le=T.length-1;1<=$&&0<=le&&b[$]!==T[le];)le--;for(;1<=$&&0<=le;$--,le--)if(b[$]!==T[le]){if($!==1||le!==1)do if($--,le--,0>le||b[$]!==T[le]){var ge=`
`+b[$].replace(" at new "," at ");return i.displayName&&ge.includes("<anonymous>")&&(ge=ge.replace("<anonymous>",i.displayName)),ge}while(1<=$&&0<=le);break}}}finally{U=!1,Error.prepareStackTrace=c}return(i=i?i.displayName||i.name:"")?L(i):""}function K(i){switch(i.tag){case 5:return L(i.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return i=M(i.type,!1),i;case 11:return i=M(i.type.render,!1),i;case 1:return i=M(i.type,!0),i;default:return""}}function Z(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case ce:return"Fragment";case ee:return"Portal";case I:return"Profiler";case W:return"StrictMode";case X:return"Suspense";case R:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case D:return(i.displayName||"Context")+".Consumer";case J:return(i._context.displayName||"Context")+".Provider";case k:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case se:return o=i.displayName||null,o!==null?o:Z(i.type)||"Memo";case xe:o=i._payload,i=i._init;try{return Z(i(o))}catch{}}return null}function ae(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Z(o);case 8:return o===W?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function he(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function pe(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function ue(i){var o=pe(i)?"checked":"value",c=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),f=""+i[o];if(!i.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var b=c.get,T=c.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return b.call(this)},set:function($){f=""+$,T.call(this,$)}}),Object.defineProperty(i,o,{enumerable:c.enumerable}),{getValue:function(){return f},setValue:function($){f=""+$},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Te(i){i._valueTracker||(i._valueTracker=ue(i))}function Oe(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var c=o.getValue(),f="";return i&&(f=pe(i)?i.checked?"true":"false":i.value),i=f,i!==c?(o.setValue(i),!0):!1}function We(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Le(i,o){var c=o.checked;return je({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??i._wrapperState.initialChecked})}function ne(i,o){var c=o.defaultValue==null?"":o.defaultValue,f=o.checked!=null?o.checked:o.defaultChecked;c=he(o.value!=null?o.value:c),i._wrapperState={initialChecked:f,initialValue:c,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Ye(i,o){o=o.checked,o!=null&&O(i,"checked",o,!1)}function Ke(i,o){Ye(i,o);var c=he(o.value),f=o.type;if(c!=null)f==="number"?(c===0&&i.value===""||i.value!=c)&&(i.value=""+c):i.value!==""+c&&(i.value=""+c);else if(f==="submit"||f==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?Ve(i,o.type,c):o.hasOwnProperty("defaultValue")&&Ve(i,o.type,he(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function Je(i,o,c){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var f=o.type;if(!(f!=="submit"&&f!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,c||o===i.value||(i.value=o),i.defaultValue=o}c=i.name,c!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,c!==""&&(i.name=c)}function Ve(i,o,c){(o!=="number"||We(i.ownerDocument)!==i)&&(c==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+c&&(i.defaultValue=""+c))}var ot=Array.isArray;function Ge(i,o,c,f){if(i=i.options,o){o={};for(var b=0;b<c.length;b++)o["$"+c[b]]=!0;for(c=0;c<i.length;c++)b=o.hasOwnProperty("$"+i[c].value),i[c].selected!==b&&(i[c].selected=b),b&&f&&(i[c].defaultSelected=!0)}else{for(c=""+he(c),o=null,b=0;b<i.length;b++){if(i[b].value===c){i[b].selected=!0,f&&(i[b].defaultSelected=!0);return}o!==null||i[b].disabled||(o=i[b])}o!==null&&(o.selected=!0)}}function Nt(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(e(91));return je({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function pt(i,o){var c=o.value;if(c==null){if(c=o.children,o=o.defaultValue,c!=null){if(o!=null)throw Error(e(92));if(ot(c)){if(1<c.length)throw Error(e(93));c=c[0]}o=c}o==null&&(o=""),c=o}i._wrapperState={initialValue:he(c)}}function Vt(i,o){var c=he(o.value),f=he(o.defaultValue);c!=null&&(c=""+c,c!==i.value&&(i.value=c),o.defaultValue==null&&i.defaultValue!==c&&(i.defaultValue=c)),f!=null&&(i.defaultValue=""+f)}function Lt(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function Rt(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qt(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?Rt(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Tt,ht=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,c,f,b){MSApp.execUnsafeLocalFunction(function(){return i(o,c,f,b)})}:i})(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(Tt=Tt||document.createElement("div"),Tt.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Tt.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function gt(i,o){if(o){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=o;return}}i.textContent=o}var st={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hr=["Webkit","ms","Moz","O"];Object.keys(st).forEach(function(i){hr.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),st[o]=st[i]})});function Ut(i,o,c){return o==null||typeof o=="boolean"||o===""?"":c||typeof o!="number"||o===0||st.hasOwnProperty(i)&&st[i]?(""+o).trim():o+"px"}function lt(i,o){i=i.style;for(var c in o)if(o.hasOwnProperty(c)){var f=c.indexOf("--")===0,b=Ut(c,o[c],f);c==="float"&&(c="cssFloat"),f?i.setProperty(c,b):i[c]=b}}var It=je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tr(i,o){if(o){if(It[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(e(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(e(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(e(61))}if(o.style!=null&&typeof o.style!="object")throw Error(e(62))}}function mt(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ot=null;function At(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var kr=null,br=null,qt=null;function jt(i){if(i=xs(i)){if(typeof kr!="function")throw Error(e(280));var o=i.stateNode;o&&(o=ll(o),kr(i.stateNode,i.type,o))}}function Gt(i){br?qt?qt.push(i):qt=[i]:br=i}function Wo(){if(br){var i=br,o=qt;if(qt=br=null,jt(i),o)for(i=0;i<o.length;i++)jt(o[i])}}function fn(i,o){return i(o)}function qi(){}var li=!1;function xt(i,o,c){if(li)return i(o,c);li=!0;try{return fn(i,o,c)}finally{li=!1,(br!==null||qt!==null)&&(qi(),Wo())}}function Yn(i,o){var c=i.stateNode;if(c===null)return null;var f=ll(c);if(f===null)return null;c=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(e(231,o,typeof c));return c}var Ai=!1;if(u)try{var vn={};Object.defineProperty(vn,"passive",{get:function(){Ai=!0}}),window.addEventListener("test",vn,vn),window.removeEventListener("test",vn,vn)}catch{Ai=!1}function ci(i,o,c,f,b,T,$,le,ge){var Ne=Array.prototype.slice.call(arguments,3);try{o.apply(c,Ne)}catch($e){this.onError($e)}}var fr=!1,zr=null,qr=!1,ho=null,Mo={onError:function(i){fr=!0,zr=i}};function _i(i,o,c,f,b,T,$,le,ge){fr=!1,zr=null,ci.apply(Mo,arguments)}function Hi(i,o,c,f,b,T,$,le,ge){if(_i.apply(this,arguments),fr){if(fr){var Ne=zr;fr=!1,zr=null}else throw Error(e(198));qr||(qr=!0,ho=Ne)}}function pn(i){var o=i,c=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(c=o.return),i=o.return;while(i)}return o.tag===3?c:null}function di(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function Jn(i){if(pn(i)!==i)throw Error(e(188))}function ca(i){var o=i.alternate;if(!o){if(o=pn(i),o===null)throw Error(e(188));return o!==i?null:i}for(var c=i,f=o;;){var b=c.return;if(b===null)break;var T=b.alternate;if(T===null){if(f=b.return,f!==null){c=f;continue}break}if(b.child===T.child){for(T=b.child;T;){if(T===c)return Jn(b),i;if(T===f)return Jn(b),o;T=T.sibling}throw Error(e(188))}if(c.return!==f.return)c=b,f=T;else{for(var $=!1,le=b.child;le;){if(le===c){$=!0,c=b,f=T;break}if(le===f){$=!0,f=b,c=T;break}le=le.sibling}if(!$){for(le=T.child;le;){if(le===c){$=!0,c=T,f=b;break}if(le===f){$=!0,f=T,c=b;break}le=le.sibling}if(!$)throw Error(e(189))}}if(c.alternate!==f)throw Error(e(190))}if(c.tag!==3)throw Error(e(188));return c.stateNode.current===c?i:o}function Bi(i){return i=ca(i),i!==null?Do(i):null}function Do(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=Do(i);if(o!==null)return o;i=i.sibling}return null}var da=t.unstable_scheduleCallback,ua=t.unstable_cancelCallback,Za=t.unstable_shouldYield,Nc=t.unstable_requestPaint,gr=t.unstable_now,Rl=t.unstable_getCurrentPriorityLevel,Qa=t.unstable_ImmediatePriority,Xn=t.unstable_UserBlockingPriority,$o=t.unstable_NormalPriority,Pl=t.unstable_LowPriority,es=t.unstable_IdlePriority,ha=null,Zn=null;function Il(i){if(Zn&&typeof Zn.onCommitFiberRoot=="function")try{Zn.onCommitFiberRoot(ha,i,void 0,(i.current.flags&128)===128)}catch{}}var bn=Math.clz32?Math.clz32:El,Lc=Math.log,Hr=Math.LN2;function El(i){return i>>>=0,i===0?32:31-(Lc(i)/Hr|0)|0}var fa=64,ui=4194304;function Ni(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function In(i,o){var c=i.pendingLanes;if(c===0)return 0;var f=0,b=i.suspendedLanes,T=i.pingedLanes,$=c&268435455;if($!==0){var le=$&~b;le!==0?f=Ni(le):(T&=$,T!==0&&(f=Ni(T)))}else $=c&~b,$!==0?f=Ni($):T!==0&&(f=Ni(T));if(f===0)return 0;if(o!==0&&o!==f&&(o&b)===0&&(b=f&-f,T=o&-o,b>=T||b===16&&(T&4194240)!==0))return o;if((f&4)!==0&&(f|=c&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=f;0<o;)c=31-bn(o),b=1<<c,f|=i[c],o&=~b;return f}function pa(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fr(i,o){for(var c=i.suspendedLanes,f=i.pingedLanes,b=i.expirationTimes,T=i.pendingLanes;0<T;){var $=31-bn(T),le=1<<$,ge=b[$];ge===-1?((le&c)===0||(le&f)!==0)&&(b[$]=pa(le,o)):ge<=o&&(i.expiredLanes|=le),T&=~le}}function ma(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function zl(){var i=fa;return fa<<=1,(fa&4194240)===0&&(fa=64),i}function Us(i){for(var o=[],c=0;31>c;c++)o.push(i);return o}function ga(i,o,c){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-bn(o),i[o]=c}function Gi(i,o){var c=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var f=i.eventTimes;for(i=i.expirationTimes;0<c;){var b=31-bn(c),T=1<<b;o[b]=0,f[b]=-1,i[b]=-1,c&=~T}}function ts(i,o){var c=i.entangledLanes|=o;for(i=i.entanglements;c;){var f=31-bn(c),b=1<<f;b&o|i[f]&o&&(i[f]|=o),c&=~b}}var Ht=0;function fo(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var rs,qs,Fl,Ol,ns,po=!1,Li=[],Ki=null,En=null,hi=null,bt=new Map,xa=new Map,Yi=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wl(i,o){switch(i){case"focusin":case"focusout":Ki=null;break;case"dragenter":case"dragleave":En=null;break;case"mouseover":case"mouseout":hi=null;break;case"pointerover":case"pointerout":bt.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":xa.delete(o.pointerId)}}function Qn(i,o,c,f,b,T){return i===null||i.nativeEvent!==T?(i={blockedOn:o,domEventName:c,eventSystemFlags:f,nativeEvent:T,targetContainers:[b]},o!==null&&(o=xs(o),o!==null&&qs(o)),i):(i.eventSystemFlags|=f,o=i.targetContainers,b!==null&&o.indexOf(b)===-1&&o.push(b),i)}function mo(i,o,c,f,b){switch(o){case"focusin":return Ki=Qn(Ki,i,o,c,f,b),!0;case"dragenter":return En=Qn(En,i,o,c,f,b),!0;case"mouseover":return hi=Qn(hi,i,o,c,f,b),!0;case"pointerover":var T=b.pointerId;return bt.set(T,Qn(bt.get(T)||null,i,o,c,f,b)),!0;case"gotpointercapture":return T=b.pointerId,xa.set(T,Qn(xa.get(T)||null,i,o,c,f,b)),!0}return!1}function Ml(i){var o=Zo(i.target);if(o!==null){var c=pn(o);if(c!==null){if(o=c.tag,o===13){if(o=di(c),o!==null){i.blockedOn=o,ns(i.priority,function(){Fl(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function is(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var c=va(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(c===null){c=i.nativeEvent;var f=new c.constructor(c.type,c);Ot=f,c.target.dispatchEvent(f),Ot=null}else return o=xs(c),o!==null&&qs(o),i.blockedOn=c,!1;o.shift()}return!0}function ya(i,o,c){is(i)&&c.delete(o)}function Hs(){po=!1,Ki!==null&&is(Ki)&&(Ki=null),En!==null&&is(En)&&(En=null),hi!==null&&is(hi)&&(hi=null),bt.forEach(ya),xa.forEach(ya)}function Ri(i,o){i.blockedOn===o&&(i.blockedOn=null,po||(po=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Hs)))}function Ji(i){function o(b){return Ri(b,i)}if(0<Li.length){Ri(Li[0],i);for(var c=1;c<Li.length;c++){var f=Li[c];f.blockedOn===i&&(f.blockedOn=null)}}for(Ki!==null&&Ri(Ki,i),En!==null&&Ri(En,i),hi!==null&&Ri(hi,i),bt.forEach(o),xa.forEach(o),c=0;c<Yi.length;c++)f=Yi[c],f.blockedOn===i&&(f.blockedOn=null);for(;0<Yi.length&&(c=Yi[0],c.blockedOn===null);)Ml(c),c.blockedOn===null&&Yi.shift()}var Pi=B.ReactCurrentBatchConfig,os=!0;function Gs(i,o,c,f){var b=Ht,T=Pi.transition;Pi.transition=null;try{Ht=1,go(i,o,c,f)}finally{Ht=b,Pi.transition=T}}function Ks(i,o,c,f){var b=Ht,T=Pi.transition;Pi.transition=null;try{Ht=4,go(i,o,c,f)}finally{Ht=b,Pi.transition=T}}function go(i,o,c,f){if(os){var b=va(i,o,c,f);if(b===null)ol(i,o,f,Xi,c),Wl(i,f);else if(mo(b,i,o,c,f))f.stopPropagation();else if(Wl(i,f),o&4&&-1<Rc.indexOf(i)){for(;b!==null;){var T=xs(b);if(T!==null&&rs(T),T=va(i,o,c,f),T===null&&ol(i,o,f,Xi,c),T===b)break;b=T}b!==null&&f.stopPropagation()}else ol(i,o,f,null,c)}}var Xi=null;function va(i,o,c,f){if(Xi=null,i=At(f),i=Zo(i),i!==null)if(o=pn(i),o===null)i=null;else if(c=o.tag,c===13){if(i=di(o),i!==null)return i;i=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return Xi=i,null}function ba(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Rl()){case Qa:return 1;case Xn:return 4;case $o:case Pl:return 16;case es:return 536870912;default:return 16}default:return 16}}var fi=null,xo=null,wa=null;function Ys(){if(wa)return wa;var i,o=xo,c=o.length,f,b="value"in fi?fi.value:fi.textContent,T=b.length;for(i=0;i<c&&o[i]===b[i];i++);var $=c-i;for(f=1;f<=$&&o[c-f]===b[T-f];f++);return wa=b.slice(i,1<f?1-f:void 0)}function pi(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function mi(){return!0}function Js(){return!1}function wn(i){function o(c,f,b,T,$){this._reactName=c,this._targetInst=b,this.type=f,this.nativeEvent=T,this.target=$,this.currentTarget=null;for(var le in i)i.hasOwnProperty(le)&&(c=i[le],this[le]=c?c(T):T[le]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?mi:Js,this.isPropagationStopped=Js,this}return je(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=mi)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=mi)},persist:function(){},isPersistent:mi}),o}var gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},as=wn(gi),v=je({},gi,{view:0,detail:0}),z=wn(v),ie,fe,Se,Ee=je({},v,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vo,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Se&&(Se&&i.type==="mousemove"?(ie=i.screenX-Se.screenX,fe=i.screenY-Se.screenY):fe=ie=0,Se=i),ie)},movementY:function(i){return"movementY"in i?i.movementY:fe}}),Me=wn(Ee),tt=je({},Ee,{dataTransfer:0}),ct=wn(tt),kt=je({},v,{relatedTarget:0}),Ct=wn(kt),Kt=je({},gi,{animationName:0,elapsedTime:0,pseudoElement:0}),Cr=wn(Kt),Gr=je({},gi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),pr=wn(Gr),tn=je({},gi,{data:0}),Or=wn(tn),mn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dl(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=zn[i])?!!o[i]:!1}function Vo(){return Dl}var Sa=je({},v,{key:function(i){if(i.key){var o=mn[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=pi(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?xi[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vo,charCode:function(i){return i.type==="keypress"?pi(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?pi(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Uo=wn(Sa),ja=je({},Ee,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qo=wn(ja),ka=je({},v,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vo}),Sn=wn(ka),Ca=je({},gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ta=wn(Ca),Xs=je({},Ee,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Zs=wn(Xs),_r=[9,13,27,32],Ii=u&&"CompositionEvent"in window,Zi=null;u&&"documentMode"in document&&(Zi=document.documentMode);var $l=u&&"TextEvent"in window&&!Zi,ei=u&&(!Ii||Zi&&8<Zi&&11>=Zi),Ho=" ",ss=!1;function ls(i,o){switch(i){case"keyup":return _r.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yo(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var yi=!1;function ti(i,o){switch(i){case"compositionend":return yo(o);case"keypress":return o.which!==32?null:(ss=!0,Ho);case"textInput":return i=o.data,i===Ho&&ss?null:i;default:return null}}function ri(i,o){if(yi)return i==="compositionend"||!Ii&&ls(i,o)?(i=Ys(),wa=xo=fi=null,yi=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return ei&&o.locale!=="ko"?null:o.data;default:return null}}var Go={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qi(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!Go[i.type]:o==="textarea"}function vo(i,o,c,f){Gt(f),o=Gl(o,"onChange"),0<o.length&&(c=new as("onChange","change",null,c,f),i.push({event:c,listeners:o}))}var bo=null,eo=null;function Wr(i){nl(i,0)}function Aa(i){var o=Fa(i);if(Oe(o))return i}function to(i,o){if(i==="change")return o}var Ei=!1;if(u){var _a;if(u){var Ba="oninput"in document;if(!Ba){var cs=document.createElement("div");cs.setAttribute("oninput","return;"),Ba=typeof cs.oninput=="function"}_a=Ba}else _a=!1;Ei=_a&&(!document.documentMode||9<document.documentMode)}function ds(){bo&&(bo.detachEvent("onpropertychange",wo),eo=bo=null)}function wo(i){if(i.propertyName==="value"&&Aa(eo)){var o=[];vo(o,eo,i,At(i)),xt(Wr,o)}}function Ko(i,o,c){i==="focusin"?(ds(),bo=o,eo=c,bo.attachEvent("onpropertychange",wo)):i==="focusout"&&ds()}function Yo(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Aa(eo)}function Na(i,o){if(i==="click")return Aa(o)}function Jo(i,o){if(i==="input"||i==="change")return Aa(o)}function La(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Br=typeof Object.is=="function"?Object.is:La;function Fn(i,o){if(Br(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var c=Object.keys(i),f=Object.keys(o);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var b=c[f];if(!m.call(o,b)||!Br(i[b],o[b]))return!1}return!0}function Yt(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function nr(i,o){var c=Yt(i);i=0;for(var f;c;){if(c.nodeType===3){if(f=i+c.textContent.length,i<=o&&f>=o)return{node:c,offset:o-i};i=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Yt(c)}}function Nr(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?Nr(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function Kr(){for(var i=window,o=We();o instanceof i.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)i=o.contentWindow;else break;o=We(i.document)}return o}function zi(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function Qs(i){var o=Kr(),c=i.focusedElem,f=i.selectionRange;if(o!==c&&c&&c.ownerDocument&&Nr(c.ownerDocument.documentElement,c)){if(f!==null&&zi(c)){if(o=f.start,i=f.end,i===void 0&&(i=o),"selectionStart"in c)c.selectionStart=o,c.selectionEnd=Math.min(i,c.value.length);else if(i=(o=c.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var b=c.textContent.length,T=Math.min(f.start,b);f=f.end===void 0?T:Math.min(f.end,b),!i.extend&&T>f&&(b=f,f=T,T=b),b=nr(c,T);var $=nr(c,f);b&&$&&(i.rangeCount!==1||i.anchorNode!==b.node||i.anchorOffset!==b.offset||i.focusNode!==$.node||i.focusOffset!==$.offset)&&(o=o.createRange(),o.setStart(b.node,b.offset),i.removeAllRanges(),T>f?(i.addRange(o),i.extend($.node,$.offset)):(o.setEnd($.node,$.offset),i.addRange(o)))}}for(o=[],i=c;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<o.length;c++)i=o[c],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var us=u&&"documentMode"in document&&11>=document.documentMode,So=null,Vl=null,hs=null,Ul=!1;function Pc(i,o,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Ul||So==null||So!==We(f)||(f=So,"selectionStart"in f&&zi(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),hs&&Fn(hs,f)||(hs=f,f=Gl(Vl,"onSelect"),0<f.length&&(o=new as("onSelect","select",null,o,c),i.push({event:o,listeners:f}),o.target=So)))}function el(i,o){var c={};return c[i.toLowerCase()]=o.toLowerCase(),c["Webkit"+i]="webkit"+o,c["Moz"+i]="moz"+o,c}var Ra={animationend:el("Animation","AnimationEnd"),animationiteration:el("Animation","AnimationIteration"),animationstart:el("Animation","AnimationStart"),transitionend:el("Transition","TransitionEnd")},Pa={},Ic={};u&&(Ic=document.createElement("div").style,"AnimationEvent"in window||(delete Ra.animationend.animation,delete Ra.animationiteration.animation,delete Ra.animationstart.animation),"TransitionEvent"in window||delete Ra.transitionend.transition);function tl(i){if(Pa[i])return Pa[i];if(!Ra[i])return i;var o=Ra[i],c;for(c in o)if(o.hasOwnProperty(c)&&c in Ic)return Pa[i]=o[c];return i}var Ec=tl("animationend"),zc=tl("animationiteration"),Fc=tl("animationstart"),Oc=tl("transitionend"),Wc=new Map,Mc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ro(i,o){Wc.set(i,o),l(o,[i])}for(var fs=0;fs<Mc.length;fs++){var Nn=Mc[fs],vi=Nn.toLowerCase(),ql=Nn[0].toUpperCase()+Nn.slice(1);ro(vi,"on"+ql)}ro(Ec,"onAnimationEnd"),ro(zc,"onAnimationIteration"),ro(Fc,"onAnimationStart"),ro("dblclick","onDoubleClick"),ro("focusin","onFocus"),ro("focusout","onBlur"),ro(Oc,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ad=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xo));function rl(i,o,c){var f=i.type||"unknown-event";i.currentTarget=c,Hi(f,o,void 0,i),i.currentTarget=null}function nl(i,o){o=(o&4)!==0;for(var c=0;c<i.length;c++){var f=i[c],b=f.event;f=f.listeners;e:{var T=void 0;if(o)for(var $=f.length-1;0<=$;$--){var le=f[$],ge=le.instance,Ne=le.currentTarget;if(le=le.listener,ge!==T&&b.isPropagationStopped())break e;rl(b,le,Ne),T=ge}else for($=0;$<f.length;$++){if(le=f[$],ge=le.instance,Ne=le.currentTarget,le=le.listener,ge!==T&&b.isPropagationStopped())break e;rl(b,le,Ne),T=ge}}}if(qr)throw i=ho,qr=!1,ho=null,i}function ar(i,o){var c=o[Wn];c===void 0&&(c=o[Wn]=new Set);var f=i+"__bubble";c.has(f)||(il(o,i,2,!1),c.add(f))}function Hl(i,o,c){var f=0;o&&(f|=4),il(c,i,f,o)}var ps="_reactListening"+Math.random().toString(36).slice(2);function Ia(i){if(!i[ps]){i[ps]=!0,a.forEach(function(c){c!=="selectionchange"&&(Ad.has(c)||Hl(c,!1,i),Hl(c,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[ps]||(o[ps]=!0,Hl("selectionchange",!1,o))}}function il(i,o,c,f){switch(ba(o)){case 1:var b=Gs;break;case 4:b=Ks;break;default:b=go}c=b.bind(null,o,c,i),b=void 0,!Ai||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(b=!0),f?b!==void 0?i.addEventListener(o,c,{capture:!0,passive:b}):i.addEventListener(o,c,!0):b!==void 0?i.addEventListener(o,c,{passive:b}):i.addEventListener(o,c,!1)}function ol(i,o,c,f,b){var T=f;if((o&1)===0&&(o&2)===0&&f!==null)e:for(;;){if(f===null)return;var $=f.tag;if($===3||$===4){var le=f.stateNode.containerInfo;if(le===b||le.nodeType===8&&le.parentNode===b)break;if($===4)for($=f.return;$!==null;){var ge=$.tag;if((ge===3||ge===4)&&(ge=$.stateNode.containerInfo,ge===b||ge.nodeType===8&&ge.parentNode===b))return;$=$.return}for(;le!==null;){if($=Zo(le),$===null)return;if(ge=$.tag,ge===5||ge===6){f=T=$;continue e}le=le.parentNode}}f=f.return}xt(function(){var Ne=T,$e=At(c),Ue=[];e:{var De=Wc.get(i);if(De!==void 0){var Xe=as,nt=i;switch(i){case"keypress":if(pi(c)===0)break e;case"keydown":case"keyup":Xe=Uo;break;case"focusin":nt="focus",Xe=Ct;break;case"focusout":nt="blur",Xe=Ct;break;case"beforeblur":case"afterblur":Xe=Ct;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Xe=Me;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Xe=ct;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Xe=Sn;break;case Ec:case zc:case Fc:Xe=Cr;break;case Oc:Xe=Ta;break;case"scroll":Xe=z;break;case"wheel":Xe=Zs;break;case"copy":case"cut":case"paste":Xe=pr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Xe=qo}var at=(o&4)!==0,on=!at&&i==="scroll",Ae=at?De!==null?De+"Capture":null:De;at=[];for(var we=Ne,Be;we!==null;){Be=we;var qe=Be.stateNode;if(Be.tag===5&&qe!==null&&(Be=qe,Ae!==null&&(qe=Yn(we,Ae),qe!=null&&at.push(al(we,qe,Be)))),on)break;we=we.return}0<at.length&&(De=new Xe(De,nt,null,c,$e),Ue.push({event:De,listeners:at}))}}if((o&7)===0){e:{if(De=i==="mouseover"||i==="pointerover",Xe=i==="mouseout"||i==="pointerout",De&&c!==Ot&&(nt=c.relatedTarget||c.fromElement)&&(Zo(nt)||nt[jn]))break e;if((Xe||De)&&(De=$e.window===$e?$e:(De=$e.ownerDocument)?De.defaultView||De.parentWindow:window,Xe?(nt=c.relatedTarget||c.toElement,Xe=Ne,nt=nt?Zo(nt):null,nt!==null&&(on=pn(nt),nt!==on||nt.tag!==5&&nt.tag!==6)&&(nt=null)):(Xe=null,nt=Ne),Xe!==nt)){if(at=Me,qe="onMouseLeave",Ae="onMouseEnter",we="mouse",(i==="pointerout"||i==="pointerover")&&(at=qo,qe="onPointerLeave",Ae="onPointerEnter",we="pointer"),on=Xe==null?De:Fa(Xe),Be=nt==null?De:Fa(nt),De=new at(qe,we+"leave",Xe,c,$e),De.target=on,De.relatedTarget=Be,qe=null,Zo($e)===Ne&&(at=new at(Ae,we+"enter",nt,c,$e),at.target=Be,at.relatedTarget=on,qe=at),on=qe,Xe&&nt)t:{for(at=Xe,Ae=nt,we=0,Be=at;Be;Be=Ea(Be))we++;for(Be=0,qe=Ae;qe;qe=Ea(qe))Be++;for(;0<we-Be;)at=Ea(at),we--;for(;0<Be-we;)Ae=Ea(Ae),Be--;for(;we--;){if(at===Ae||Ae!==null&&at===Ae.alternate)break t;at=Ea(at),Ae=Ea(Ae)}at=null}else at=null;Xe!==null&&_d(Ue,De,Xe,at,!1),nt!==null&&on!==null&&_d(Ue,on,nt,at,!0)}}e:{if(De=Ne?Fa(Ne):window,Xe=De.nodeName&&De.nodeName.toLowerCase(),Xe==="select"||Xe==="input"&&De.type==="file")var ut=to;else if(Qi(De))if(Ei)ut=Jo;else{ut=Yo;var yt=Ko}else(Xe=De.nodeName)&&Xe.toLowerCase()==="input"&&(De.type==="checkbox"||De.type==="radio")&&(ut=Na);if(ut&&(ut=ut(i,Ne))){vo(Ue,ut,c,$e);break e}yt&&yt(i,De,Ne),i==="focusout"&&(yt=De._wrapperState)&&yt.controlled&&De.type==="number"&&Ve(De,"number",De.value)}switch(yt=Ne?Fa(Ne):window,i){case"focusin":(Qi(yt)||yt.contentEditable==="true")&&(So=yt,Vl=Ne,hs=null);break;case"focusout":hs=Vl=So=null;break;case"mousedown":Ul=!0;break;case"contextmenu":case"mouseup":case"dragend":Ul=!1,Pc(Ue,c,$e);break;case"selectionchange":if(us)break;case"keydown":case"keyup":Pc(Ue,c,$e)}var vt;if(Ii)e:{switch(i){case"compositionstart":var _t="onCompositionStart";break e;case"compositionend":_t="onCompositionEnd";break e;case"compositionupdate":_t="onCompositionUpdate";break e}_t=void 0}else yi?ls(i,c)&&(_t="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(_t="onCompositionStart");_t&&(ei&&c.locale!=="ko"&&(yi||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&yi&&(vt=Ys()):(fi=$e,xo="value"in fi?fi.value:fi.textContent,yi=!0)),yt=Gl(Ne,_t),0<yt.length&&(_t=new Or(_t,i,null,c,$e),Ue.push({event:_t,listeners:yt}),vt?_t.data=vt:(vt=yo(c),vt!==null&&(_t.data=vt)))),(vt=$l?ti(i,c):ri(i,c))&&(Ne=Gl(Ne,"onBeforeInput"),0<Ne.length&&($e=new Or("onBeforeInput","beforeinput",null,c,$e),Ue.push({event:$e,listeners:Ne}),$e.data=vt))}nl(Ue,o)})}function al(i,o,c){return{instance:i,listener:o,currentTarget:c}}function Gl(i,o){for(var c=o+"Capture",f=[];i!==null;){var b=i,T=b.stateNode;b.tag===5&&T!==null&&(b=T,T=Yn(i,c),T!=null&&f.unshift(al(i,T,b)),T=Yn(i,o),T!=null&&f.push(al(i,T,b))),i=i.return}return f}function Ea(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function _d(i,o,c,f,b){for(var T=o._reactName,$=[];c!==null&&c!==f;){var le=c,ge=le.alternate,Ne=le.stateNode;if(ge!==null&&ge===f)break;le.tag===5&&Ne!==null&&(le=Ne,b?(ge=Yn(c,T),ge!=null&&$.unshift(al(c,ge,le))):b||(ge=Yn(c,T),ge!=null&&$.push(al(c,ge,le)))),c=c.return}$.length!==0&&i.push({event:o,listeners:$})}var Ku=/\r\n?/g,Yu=/\u0000|\uFFFD/g;function Bd(i){return(typeof i=="string"?i:""+i).replace(Ku,`
`).replace(Yu,"")}function Kl(i,o,c){if(o=Bd(o),Bd(i)!==o&&c)throw Error(e(425))}function ms(){}var sl=null,za=null;function Dc(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var $c=typeof setTimeout=="function"?setTimeout:void 0,Nd=typeof clearTimeout=="function"?clearTimeout:void 0,Ld=typeof Promise=="function"?Promise:void 0,Ju=typeof queueMicrotask=="function"?queueMicrotask:typeof Ld<"u"?function(i){return Ld.resolve(null).then(i).catch(Xu)}:$c;function Xu(i){setTimeout(function(){throw i})}function Vc(i,o){var c=o,f=0;do{var b=c.nextSibling;if(i.removeChild(c),b&&b.nodeType===8)if(c=b.data,c==="/$"){if(f===0){i.removeChild(b),Ji(o);return}f--}else c!=="$"&&c!=="$?"&&c!=="$!"||f++;c=b}while(c);Ji(o)}function Ln(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function bi(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return i;o--}else c==="/$"&&o++}i=i.previousSibling}return null}var On=Math.random().toString(36).slice(2),no="__reactFiber$"+On,gs="__reactProps$"+On,jn="__reactContainer$"+On,Wn="__reactEvents$"+On,Zu="__reactListeners$"+On,Qu="__reactHandles$"+On;function Zo(i){var o=i[no];if(o)return o;for(var c=i.parentNode;c;){if(o=c[jn]||c[no]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(i=bi(i);i!==null;){if(c=i[no])return c;i=bi(i)}return o}i=c,c=i.parentNode}return null}function xs(i){return i=i[no]||i[jn],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Fa(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(e(33))}function ll(i){return i[gs]||null}var Uc=[],jo=-1;function Fi(i){return{current:i}}function rr(i){0>jo||(i.current=Uc[jo],Uc[jo]=null,jo--)}function ir(i,o){jo++,Uc[jo]=i.current,i.current=o}var Qo={},gn=Fi(Qo),Mn=Fi(!1),Oa=Qo;function ys(i,o){var c=i.type.contextTypes;if(!c)return Qo;var f=i.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===o)return f.__reactInternalMemoizedMaskedChildContext;var b={},T;for(T in c)b[T]=o[T];return f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=b),b}function Dn(i){return i=i.childContextTypes,i!=null}function Yl(){rr(Mn),rr(gn)}function Rd(i,o,c){if(gn.current!==Qo)throw Error(e(168));ir(gn,o),ir(Mn,c)}function qc(i,o,c){var f=i.stateNode;if(o=o.childContextTypes,typeof f.getChildContext!="function")return c;f=f.getChildContext();for(var b in f)if(!(b in o))throw Error(e(108,ae(i)||"Unknown",b));return je({},c,f)}function Wa(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Qo,Oa=gn.current,ir(gn,i),ir(Mn,Mn.current),!0}function Pd(i,o,c){var f=i.stateNode;if(!f)throw Error(e(169));c?(i=qc(i,o,Oa),f.__reactInternalMemoizedMergedChildContext=i,rr(Mn),rr(gn),ir(gn,i)):rr(Mn),ir(Mn,c)}var ko=null,cl=!1,h=!1;function g(i){ko===null?ko=[i]:ko.push(i)}function w(i){cl=!0,g(i)}function N(){if(!h&&ko!==null){h=!0;var i=0,o=Ht;try{var c=ko;for(Ht=1;i<c.length;i++){var f=c[i];do f=f(!0);while(f!==null)}ko=null,cl=!1}catch(b){throw ko!==null&&(ko=ko.slice(i+1)),da(Qa,N),b}finally{Ht=o,h=!1}}return null}var E=[],V=0,q=null,G=0,Y=[],te=0,me=null,Ce=1,re="";function ye(i,o){E[V++]=G,E[V++]=q,q=i,G=o}function ke(i,o,c){Y[te++]=Ce,Y[te++]=re,Y[te++]=me,me=i;var f=Ce;i=re;var b=32-bn(f)-1;f&=~(1<<b),c+=1;var T=32-bn(o)+b;if(30<T){var $=b-b%5;T=(f&(1<<$)-1).toString(32),f>>=$,b-=$,Ce=1<<32-bn(o)+b|c<<b|f,re=T+i}else Ce=1<<T|c<<b|f,re=i}function Ie(i){i.return!==null&&(ye(i,1),ke(i,1,0))}function _e(i){for(;i===q;)q=E[--V],E[V]=null,G=E[--V],E[V]=null;for(;i===me;)me=Y[--te],Y[te]=null,re=Y[--te],Y[te]=null,Ce=Y[--te],Y[te]=null}var Re=null,Pe=null,ze=!1,Fe=null;function dt(i,o){var c=lo(5,null,null,0);c.elementType="DELETED",c.stateNode=o,c.return=i,o=i.deletions,o===null?(i.deletions=[c],i.flags|=16):o.push(c)}function Ze(i,o){switch(i.tag){case 5:var c=i.type;return o=o.nodeType!==1||c.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,Re=i,Pe=Ln(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,Re=i,Pe=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(c=me!==null?{id:Ce,overflow:re}:null,i.memoizedState={dehydrated:o,treeContext:c,retryLane:1073741824},c=lo(18,null,null,0),c.stateNode=o,c.return=i,i.child=c,Re=i,Pe=null,!0):!1;default:return!1}}function Et(i){return(i.mode&1)!==0&&(i.flags&128)===0}function rt(i){if(ze){var o=Pe;if(o){var c=o;if(!Ze(i,o)){if(Et(i))throw Error(e(418));o=Ln(c.nextSibling);var f=Re;o&&Ze(i,o)?dt(f,c):(i.flags=i.flags&-4097|2,ze=!1,Re=i)}}else{if(Et(i))throw Error(e(418));i.flags=i.flags&-4097|2,ze=!1,Re=i}}}function Mt(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Re=i}function Lr(i){if(i!==Re)return!1;if(!ze)return Mt(i),ze=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!Dc(i.type,i.memoizedProps)),o&&(o=Pe)){if(Et(i))throw zt(),Error(e(418));for(;o;)dt(i,o),o=Ln(o.nextSibling)}if(Mt(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(e(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var c=i.data;if(c==="/$"){if(o===0){Pe=Ln(i.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++}i=i.nextSibling}Pe=null}}else Pe=Re?Ln(i.stateNode.nextSibling):null;return!0}function zt(){for(var i=Pe;i;)i=Ln(i.nextSibling)}function Qe(){Pe=Re=null,ze=!1}function He(i){Fe===null?Fe=[i]:Fe.push(i)}var Mr=B.ReactCurrentBatchConfig;function wt(i,o,c){if(i=c.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(e(309));var f=c.stateNode}if(!f)throw Error(e(147,i));var b=f,T=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===T?o.ref:(o=function($){var le=b.refs;$===null?delete le[T]:le[T]=$},o._stringRef=T,o)}if(typeof i!="string")throw Error(e(284));if(!c._owner)throw Error(e(290,i))}return i}function Wt(i,o){throw i=Object.prototype.toString.call(o),Error(e(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function mr(i){var o=i._init;return o(i._payload)}function cn(i){function o(Ae,we){if(i){var Be=Ae.deletions;Be===null?(Ae.deletions=[we],Ae.flags|=16):Be.push(we)}}function c(Ae,we){if(!i)return null;for(;we!==null;)o(Ae,we),we=we.sibling;return null}function f(Ae,we){for(Ae=new Map;we!==null;)we.key!==null?Ae.set(we.key,we):Ae.set(we.index,we),we=we.sibling;return Ae}function b(Ae,we){return Ae=_s(Ae,we),Ae.index=0,Ae.sibling=null,Ae}function T(Ae,we,Be){return Ae.index=Be,i?(Be=Ae.alternate,Be!==null?(Be=Be.index,Be<we?(Ae.flags|=2,we):Be):(Ae.flags|=2,we)):(Ae.flags|=1048576,we)}function $(Ae){return i&&Ae.alternate===null&&(Ae.flags|=2),Ae}function le(Ae,we,Be,qe){return we===null||we.tag!==6?(we=_h(Be,Ae.mode,qe),we.return=Ae,we):(we=b(we,Be),we.return=Ae,we)}function ge(Ae,we,Be,qe){var ut=Be.type;return ut===ce?$e(Ae,we,Be.props.children,qe,Be.key):we!==null&&(we.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===xe&&mr(ut)===we.type)?(qe=b(we,Be.props),qe.ref=wt(Ae,we,Be),qe.return=Ae,qe):(qe=Qd(Be.type,Be.key,Be.props,null,Ae.mode,qe),qe.ref=wt(Ae,we,Be),qe.return=Ae,qe)}function Ne(Ae,we,Be,qe){return we===null||we.tag!==4||we.stateNode.containerInfo!==Be.containerInfo||we.stateNode.implementation!==Be.implementation?(we=Bh(Be,Ae.mode,qe),we.return=Ae,we):(we=b(we,Be.children||[]),we.return=Ae,we)}function $e(Ae,we,Be,qe,ut){return we===null||we.tag!==7?(we=xl(Be,Ae.mode,qe,ut),we.return=Ae,we):(we=b(we,Be),we.return=Ae,we)}function Ue(Ae,we,Be){if(typeof we=="string"&&we!==""||typeof we=="number")return we=_h(""+we,Ae.mode,Be),we.return=Ae,we;if(typeof we=="object"&&we!==null){switch(we.$$typeof){case H:return Be=Qd(we.type,we.key,we.props,null,Ae.mode,Be),Be.ref=wt(Ae,null,we),Be.return=Ae,Be;case ee:return we=Bh(we,Ae.mode,Be),we.return=Ae,we;case xe:var qe=we._init;return Ue(Ae,qe(we._payload),Be)}if(ot(we)||be(we))return we=xl(we,Ae.mode,Be,null),we.return=Ae,we;Wt(Ae,we)}return null}function De(Ae,we,Be,qe){var ut=we!==null?we.key:null;if(typeof Be=="string"&&Be!==""||typeof Be=="number")return ut!==null?null:le(Ae,we,""+Be,qe);if(typeof Be=="object"&&Be!==null){switch(Be.$$typeof){case H:return Be.key===ut?ge(Ae,we,Be,qe):null;case ee:return Be.key===ut?Ne(Ae,we,Be,qe):null;case xe:return ut=Be._init,De(Ae,we,ut(Be._payload),qe)}if(ot(Be)||be(Be))return ut!==null?null:$e(Ae,we,Be,qe,null);Wt(Ae,Be)}return null}function Xe(Ae,we,Be,qe,ut){if(typeof qe=="string"&&qe!==""||typeof qe=="number")return Ae=Ae.get(Be)||null,le(we,Ae,""+qe,ut);if(typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case H:return Ae=Ae.get(qe.key===null?Be:qe.key)||null,ge(we,Ae,qe,ut);case ee:return Ae=Ae.get(qe.key===null?Be:qe.key)||null,Ne(we,Ae,qe,ut);case xe:var yt=qe._init;return Xe(Ae,we,Be,yt(qe._payload),ut)}if(ot(qe)||be(qe))return Ae=Ae.get(Be)||null,$e(we,Ae,qe,ut,null);Wt(we,qe)}return null}function nt(Ae,we,Be,qe){for(var ut=null,yt=null,vt=we,_t=we=0,_n=null;vt!==null&&_t<Be.length;_t++){vt.index>_t?(_n=vt,vt=null):_n=vt.sibling;var er=De(Ae,vt,Be[_t],qe);if(er===null){vt===null&&(vt=_n);break}i&&vt&&er.alternate===null&&o(Ae,vt),we=T(er,we,_t),yt===null?ut=er:yt.sibling=er,yt=er,vt=_n}if(_t===Be.length)return c(Ae,vt),ze&&ye(Ae,_t),ut;if(vt===null){for(;_t<Be.length;_t++)vt=Ue(Ae,Be[_t],qe),vt!==null&&(we=T(vt,we,_t),yt===null?ut=vt:yt.sibling=vt,yt=vt);return ze&&ye(Ae,_t),ut}for(vt=f(Ae,vt);_t<Be.length;_t++)_n=Xe(vt,Ae,_t,Be[_t],qe),_n!==null&&(i&&_n.alternate!==null&&vt.delete(_n.key===null?_t:_n.key),we=T(_n,we,_t),yt===null?ut=_n:yt.sibling=_n,yt=_n);return i&&vt.forEach(function(Bs){return o(Ae,Bs)}),ze&&ye(Ae,_t),ut}function at(Ae,we,Be,qe){var ut=be(Be);if(typeof ut!="function")throw Error(e(150));if(Be=ut.call(Be),Be==null)throw Error(e(151));for(var yt=ut=null,vt=we,_t=we=0,_n=null,er=Be.next();vt!==null&&!er.done;_t++,er=Be.next()){vt.index>_t?(_n=vt,vt=null):_n=vt.sibling;var Bs=De(Ae,vt,er.value,qe);if(Bs===null){vt===null&&(vt=_n);break}i&&vt&&Bs.alternate===null&&o(Ae,vt),we=T(Bs,we,_t),yt===null?ut=Bs:yt.sibling=Bs,yt=Bs,vt=_n}if(er.done)return c(Ae,vt),ze&&ye(Ae,_t),ut;if(vt===null){for(;!er.done;_t++,er=Be.next())er=Ue(Ae,er.value,qe),er!==null&&(we=T(er,we,_t),yt===null?ut=er:yt.sibling=er,yt=er);return ze&&ye(Ae,_t),ut}for(vt=f(Ae,vt);!er.done;_t++,er=Be.next())er=Xe(vt,Ae,_t,er.value,qe),er!==null&&(i&&er.alternate!==null&&vt.delete(er.key===null?_t:er.key),we=T(er,we,_t),yt===null?ut=er:yt.sibling=er,yt=er);return i&&vt.forEach(function(q5){return o(Ae,q5)}),ze&&ye(Ae,_t),ut}function on(Ae,we,Be,qe){if(typeof Be=="object"&&Be!==null&&Be.type===ce&&Be.key===null&&(Be=Be.props.children),typeof Be=="object"&&Be!==null){switch(Be.$$typeof){case H:e:{for(var ut=Be.key,yt=we;yt!==null;){if(yt.key===ut){if(ut=Be.type,ut===ce){if(yt.tag===7){c(Ae,yt.sibling),we=b(yt,Be.props.children),we.return=Ae,Ae=we;break e}}else if(yt.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===xe&&mr(ut)===yt.type){c(Ae,yt.sibling),we=b(yt,Be.props),we.ref=wt(Ae,yt,Be),we.return=Ae,Ae=we;break e}c(Ae,yt);break}else o(Ae,yt);yt=yt.sibling}Be.type===ce?(we=xl(Be.props.children,Ae.mode,qe,Be.key),we.return=Ae,Ae=we):(qe=Qd(Be.type,Be.key,Be.props,null,Ae.mode,qe),qe.ref=wt(Ae,we,Be),qe.return=Ae,Ae=qe)}return $(Ae);case ee:e:{for(yt=Be.key;we!==null;){if(we.key===yt)if(we.tag===4&&we.stateNode.containerInfo===Be.containerInfo&&we.stateNode.implementation===Be.implementation){c(Ae,we.sibling),we=b(we,Be.children||[]),we.return=Ae,Ae=we;break e}else{c(Ae,we);break}else o(Ae,we);we=we.sibling}we=Bh(Be,Ae.mode,qe),we.return=Ae,Ae=we}return $(Ae);case xe:return yt=Be._init,on(Ae,we,yt(Be._payload),qe)}if(ot(Be))return nt(Ae,we,Be,qe);if(be(Be))return at(Ae,we,Be,qe);Wt(Ae,Be)}return typeof Be=="string"&&Be!==""||typeof Be=="number"?(Be=""+Be,we!==null&&we.tag===6?(c(Ae,we.sibling),we=b(we,Be),we.return=Ae,Ae=we):(c(Ae,we),we=_h(Be,Ae.mode,qe),we.return=Ae,Ae=we),$(Ae)):c(Ae,we)}return on}var Yr=cn(!0),Tr=cn(!1),rn=Fi(null),dn=null,wr=null,$t=null;function Jt(){$t=wr=dn=null}function Sr(i){var o=rn.current;rr(rn),i._currentValue=o}function Xt(i,o,c){for(;i!==null;){var f=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),i===c)break;i=i.return}}function Rr(i,o){dn=i,$t=wr=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(Si=!0),i.firstContext=null)}function Pr(i){var o=i._currentValue;if($t!==i)if(i={context:i,memoizedValue:o,next:null},wr===null){if(dn===null)throw Error(e(308));wr=i,dn.dependencies={lanes:0,firstContext:i}}else wr=wr.next=i;return o}var sr=null;function kn(i){sr===null?sr=[i]:sr.push(i)}function or(i,o,c,f){var b=o.interleaved;return b===null?(c.next=c,kn(o)):(c.next=b.next,b.next=c),o.interleaved=c,lr(i,f)}function lr(i,o){i.lanes|=o;var c=i.alternate;for(c!==null&&(c.lanes|=o),c=i,i=i.return;i!==null;)i.childLanes|=o,c=i.alternate,c!==null&&(c.childLanes|=o),c=i,i=i.return;return c.tag===3?c.stateNode:null}var Jr=!1;function xn(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $n(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Dr(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function $r(i,o,c){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,(Zt&2)!==0){var b=f.pending;return b===null?o.next=o:(o.next=b.next,b.next=o),f.pending=o,lr(i,c)}return b=f.interleaved,b===null?(o.next=o,kn(f)):(o.next=b.next,b.next=o),f.interleaved=o,lr(i,c)}function Cn(i,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194240)!==0)){var f=o.lanes;f&=i.pendingLanes,c|=f,o.lanes=c,ts(i,c)}}function cr(i,o){var c=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var b=null,T=null;if(c=c.firstBaseUpdate,c!==null){do{var $={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};T===null?b=T=$:T=T.next=$,c=c.next}while(c!==null);T===null?b=T=o:T=T.next=o}else b=T=o;c={baseState:f.baseState,firstBaseUpdate:b,lastBaseUpdate:T,shared:f.shared,effects:f.effects},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=o:i.next=o,c.lastBaseUpdate=o}function Tn(i,o,c,f){var b=i.updateQueue;Jr=!1;var T=b.firstBaseUpdate,$=b.lastBaseUpdate,le=b.shared.pending;if(le!==null){b.shared.pending=null;var ge=le,Ne=ge.next;ge.next=null,$===null?T=Ne:$.next=Ne,$=ge;var $e=i.alternate;$e!==null&&($e=$e.updateQueue,le=$e.lastBaseUpdate,le!==$&&(le===null?$e.firstBaseUpdate=Ne:le.next=Ne,$e.lastBaseUpdate=ge))}if(T!==null){var Ue=b.baseState;$=0,$e=Ne=ge=null,le=T;do{var De=le.lane,Xe=le.eventTime;if((f&De)===De){$e!==null&&($e=$e.next={eventTime:Xe,lane:0,tag:le.tag,payload:le.payload,callback:le.callback,next:null});e:{var nt=i,at=le;switch(De=o,Xe=c,at.tag){case 1:if(nt=at.payload,typeof nt=="function"){Ue=nt.call(Xe,Ue,De);break e}Ue=nt;break e;case 3:nt.flags=nt.flags&-65537|128;case 0:if(nt=at.payload,De=typeof nt=="function"?nt.call(Xe,Ue,De):nt,De==null)break e;Ue=je({},Ue,De);break e;case 2:Jr=!0}}le.callback!==null&&le.lane!==0&&(i.flags|=64,De=b.effects,De===null?b.effects=[le]:De.push(le))}else Xe={eventTime:Xe,lane:De,tag:le.tag,payload:le.payload,callback:le.callback,next:null},$e===null?(Ne=$e=Xe,ge=Ue):$e=$e.next=Xe,$|=De;if(le=le.next,le===null){if(le=b.shared.pending,le===null)break;De=le,le=De.next,De.next=null,b.lastBaseUpdate=De,b.shared.pending=null}}while(!0);if($e===null&&(ge=Ue),b.baseState=ge,b.firstBaseUpdate=Ne,b.lastBaseUpdate=$e,o=b.shared.interleaved,o!==null){b=o;do $|=b.lane,b=b.next;while(b!==o)}else T===null&&(b.shared.lanes=0);fl|=$,i.lanes=$,i.memoizedState=Ue}}function wi(i,o,c){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var f=i[o],b=f.callback;if(b!==null){if(f.callback=null,f=c,typeof b!="function")throw Error(e(191,b));b.call(f)}}}var Oi={},un=Fi(Oi),Vr=Fi(Oi),ea=Fi(Oi);function Co(i){if(i===Oi)throw Error(e(174));return i}function vs(i,o){switch(ir(ea,o),ir(Vr,i),ir(un,Oi),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Qt(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=Qt(o,i)}rr(un),ir(un,o)}function io(){rr(un),rr(Vr),rr(ea)}function Id(i){Co(ea.current);var o=Co(un.current),c=Qt(o,i.type);o!==c&&(ir(Vr,i),ir(un,c))}function Hc(i){Vr.current===i&&(rr(un),rr(Vr))}var xr=Fi(0);function Wi(i){for(var o=i;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Gc=[];function Kc(){for(var i=0;i<Gc.length;i++)Gc[i]._workInProgressVersionPrimary=null;Gc.length=0}var Jl=B.ReactCurrentDispatcher,Xl=B.ReactCurrentBatchConfig,oo=0,jr=null,Xr=null,Ur=null,bs=!1,To=!1,ws=0,eh=0;function nn(){throw Error(e(321))}function Zl(i,o){if(o===null)return!1;for(var c=0;c<o.length&&c<i.length;c++)if(!Br(i[c],o[c]))return!1;return!0}function dl(i,o,c,f,b,T){if(oo=T,jr=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Jl.current=i===null||i.memoizedState===null?x5:y5,i=c(f,b),To){T=0;do{if(To=!1,ws=0,25<=T)throw Error(e(301));T+=1,Ur=Xr=null,o.updateQueue=null,Jl.current=v5,i=c(f,b)}while(To)}if(Jl.current=Wd,o=Xr!==null&&Xr.next!==null,oo=0,Ur=Xr=jr=null,bs=!1,o)throw Error(e(300));return i}function ao(){var i=ws!==0;return ws=0,i}function Mi(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ur===null?jr.memoizedState=Ur=i:Ur=Ur.next=i,Ur}function ni(){if(Xr===null){var i=jr.alternate;i=i!==null?i.memoizedState:null}else i=Xr.next;var o=Ur===null?jr.memoizedState:Ur.next;if(o!==null)Ur=o,Xr=i;else{if(i===null)throw Error(e(310));Xr=i,i={memoizedState:Xr.memoizedState,baseState:Xr.baseState,baseQueue:Xr.baseQueue,queue:Xr.queue,next:null},Ur===null?jr.memoizedState=Ur=i:Ur=Ur.next=i}return Ur}function ul(i,o){return typeof o=="function"?o(i):o}function Ql(i){var o=ni(),c=o.queue;if(c===null)throw Error(e(311));c.lastRenderedReducer=i;var f=Xr,b=f.baseQueue,T=c.pending;if(T!==null){if(b!==null){var $=b.next;b.next=T.next,T.next=$}f.baseQueue=b=T,c.pending=null}if(b!==null){T=b.next,f=f.baseState;var le=$=null,ge=null,Ne=T;do{var $e=Ne.lane;if((oo&$e)===$e)ge!==null&&(ge=ge.next={lane:0,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null}),f=Ne.hasEagerState?Ne.eagerState:i(f,Ne.action);else{var Ue={lane:$e,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null};ge===null?(le=ge=Ue,$=f):ge=ge.next=Ue,jr.lanes|=$e,fl|=$e}Ne=Ne.next}while(Ne!==null&&Ne!==T);ge===null?$=f:ge.next=le,Br(f,o.memoizedState)||(Si=!0),o.memoizedState=f,o.baseState=$,o.baseQueue=ge,c.lastRenderedState=f}if(i=c.interleaved,i!==null){b=i;do T=b.lane,jr.lanes|=T,fl|=T,b=b.next;while(b!==i)}else b===null&&(c.lanes=0);return[o.memoizedState,c.dispatch]}function ta(i){var o=ni(),c=o.queue;if(c===null)throw Error(e(311));c.lastRenderedReducer=i;var f=c.dispatch,b=c.pending,T=o.memoizedState;if(b!==null){c.pending=null;var $=b=b.next;do T=i(T,$.action),$=$.next;while($!==b);Br(T,o.memoizedState)||(Si=!0),o.memoizedState=T,o.baseQueue===null&&(o.baseState=T),c.lastRenderedState=T}return[T,f]}function Ed(){}function Yc(i,o){var c=jr,f=ni(),b=o(),T=!Br(f.memoizedState,b);if(T&&(f.memoizedState=b,Si=!0),f=f.queue,rc(Fd.bind(null,c,f,i),[i]),f.getSnapshot!==o||T||Ur!==null&&Ur.memoizedState.tag&1){if(c.flags|=2048,ii(9,Jc.bind(null,c,f,b,o),void 0,null),An===null)throw Error(e(349));(oo&30)!==0||zd(c,o,b)}return b}function zd(i,o,c){i.flags|=16384,i={getSnapshot:o,value:c},o=jr.updateQueue,o===null?(o={lastEffect:null,stores:null},jr.updateQueue=o,o.stores=[i]):(c=o.stores,c===null?o.stores=[i]:c.push(i))}function Jc(i,o,c,f){o.value=c,o.getSnapshot=f,Ss(o)&&ec(i)}function Fd(i,o,c){return c(function(){Ss(o)&&ec(i)})}function Ss(i){var o=i.getSnapshot;i=i.value;try{var c=o();return!Br(i,c)}catch{return!0}}function ec(i){var o=lr(i,1);o!==null&&Lo(o,i,1,-1)}function hl(i){var o=Mi();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ul,lastRenderedState:i},o.queue=i,i=i.dispatch=g5.bind(null,jr,i),[o.memoizedState,i]}function ii(i,o,c,f){return i={tag:i,create:o,destroy:c,deps:f,next:null},o=jr.updateQueue,o===null?(o={lastEffect:null,stores:null},jr.updateQueue=o,o.lastEffect=i.next=i):(c=o.lastEffect,c===null?o.lastEffect=i.next=i:(f=c.next,c.next=i,i.next=f,o.lastEffect=i)),i}function Ao(){return ni().memoizedState}function Di(i,o,c,f){var b=Mi();jr.flags|=i,b.memoizedState=ii(1|o,c,void 0,f===void 0?null:f)}function Ma(i,o,c,f){var b=ni();f=f===void 0?null:f;var T=void 0;if(Xr!==null){var $=Xr.memoizedState;if(T=$.destroy,f!==null&&Zl(f,$.deps)){b.memoizedState=ii(o,c,T,f);return}}jr.flags|=i,b.memoizedState=ii(1|o,c,T,f)}function tc(i,o){return Di(8390656,8,i,o)}function rc(i,o){return Ma(2048,8,i,o)}function Od(i,o){return Ma(4,2,i,o)}function nc(i,o){return Ma(4,4,i,o)}function ic(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function np(i,o,c){return c=c!=null?c.concat([i]):null,Ma(4,4,ic.bind(null,o,i),c)}function th(){}function ip(i,o){var c=ni();o=o===void 0?null:o;var f=c.memoizedState;return f!==null&&o!==null&&Zl(o,f[1])?f[0]:(c.memoizedState=[i,o],i)}function op(i,o){var c=ni();o=o===void 0?null:o;var f=c.memoizedState;return f!==null&&o!==null&&Zl(o,f[1])?f[0]:(i=i(),c.memoizedState=[i,o],i)}function ap(i,o,c){return(oo&21)===0?(i.baseState&&(i.baseState=!1,Si=!0),i.memoizedState=c):(Br(c,o)||(c=zl(),jr.lanes|=c,fl|=c,i.baseState=!0),o)}function p5(i,o){var c=Ht;Ht=c!==0&&4>c?c:4,i(!0);var f=Xl.transition;Xl.transition={};try{i(!1),o()}finally{Ht=c,Xl.transition=f}}function sp(){return ni().memoizedState}function m5(i,o,c){var f=Ts(i);if(c={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null},lp(i))cp(o,c);else if(c=or(i,o,c,f),c!==null){var b=ai();Lo(c,i,f,b),dp(c,o,f)}}function g5(i,o,c){var f=Ts(i),b={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null};if(lp(i))cp(o,b);else{var T=i.alternate;if(i.lanes===0&&(T===null||T.lanes===0)&&(T=o.lastRenderedReducer,T!==null))try{var $=o.lastRenderedState,le=T($,c);if(b.hasEagerState=!0,b.eagerState=le,Br(le,$)){var ge=o.interleaved;ge===null?(b.next=b,kn(o)):(b.next=ge.next,ge.next=b),o.interleaved=b;return}}catch{}finally{}c=or(i,o,b,f),c!==null&&(b=ai(),Lo(c,i,f,b),dp(c,o,f))}}function lp(i){var o=i.alternate;return i===jr||o!==null&&o===jr}function cp(i,o){To=bs=!0;var c=i.pending;c===null?o.next=o:(o.next=c.next,c.next=o),i.pending=o}function dp(i,o,c){if((c&4194240)!==0){var f=o.lanes;f&=i.pendingLanes,c|=f,o.lanes=c,ts(i,c)}}var Wd={readContext:Pr,useCallback:nn,useContext:nn,useEffect:nn,useImperativeHandle:nn,useInsertionEffect:nn,useLayoutEffect:nn,useMemo:nn,useReducer:nn,useRef:nn,useState:nn,useDebugValue:nn,useDeferredValue:nn,useTransition:nn,useMutableSource:nn,useSyncExternalStore:nn,useId:nn,unstable_isNewReconciler:!1},x5={readContext:Pr,useCallback:function(i,o){return Mi().memoizedState=[i,o===void 0?null:o],i},useContext:Pr,useEffect:tc,useImperativeHandle:function(i,o,c){return c=c!=null?c.concat([i]):null,Di(4194308,4,ic.bind(null,o,i),c)},useLayoutEffect:function(i,o){return Di(4194308,4,i,o)},useInsertionEffect:function(i,o){return Di(4,2,i,o)},useMemo:function(i,o){var c=Mi();return o=o===void 0?null:o,i=i(),c.memoizedState=[i,o],i},useReducer:function(i,o,c){var f=Mi();return o=c!==void 0?c(o):o,f.memoizedState=f.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},f.queue=i,i=i.dispatch=m5.bind(null,jr,i),[f.memoizedState,i]},useRef:function(i){var o=Mi();return i={current:i},o.memoizedState=i},useState:hl,useDebugValue:th,useDeferredValue:function(i){return Mi().memoizedState=i},useTransition:function(){var i=hl(!1),o=i[0];return i=p5.bind(null,i[1]),Mi().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,c){var f=jr,b=Mi();if(ze){if(c===void 0)throw Error(e(407));c=c()}else{if(c=o(),An===null)throw Error(e(349));(oo&30)!==0||zd(f,o,c)}b.memoizedState=c;var T={value:c,getSnapshot:o};return b.queue=T,tc(Fd.bind(null,f,T,i),[i]),f.flags|=2048,ii(9,Jc.bind(null,f,T,c,o),void 0,null),c},useId:function(){var i=Mi(),o=An.identifierPrefix;if(ze){var c=re,f=Ce;c=(f&~(1<<32-bn(f)-1)).toString(32)+c,o=":"+o+"R"+c,c=ws++,0<c&&(o+="H"+c.toString(32)),o+=":"}else c=eh++,o=":"+o+"r"+c.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},y5={readContext:Pr,useCallback:ip,useContext:Pr,useEffect:rc,useImperativeHandle:np,useInsertionEffect:Od,useLayoutEffect:nc,useMemo:op,useReducer:Ql,useRef:Ao,useState:function(){return Ql(ul)},useDebugValue:th,useDeferredValue:function(i){var o=ni();return ap(o,Xr.memoizedState,i)},useTransition:function(){var i=Ql(ul)[0],o=ni().memoizedState;return[i,o]},useMutableSource:Ed,useSyncExternalStore:Yc,useId:sp,unstable_isNewReconciler:!1},v5={readContext:Pr,useCallback:ip,useContext:Pr,useEffect:rc,useImperativeHandle:np,useInsertionEffect:Od,useLayoutEffect:nc,useMemo:op,useReducer:ta,useRef:Ao,useState:function(){return ta(ul)},useDebugValue:th,useDeferredValue:function(i){var o=ni();return Xr===null?o.memoizedState=i:ap(o,Xr.memoizedState,i)},useTransition:function(){var i=ta(ul)[0],o=ni().memoizedState;return[i,o]},useMutableSource:Ed,useSyncExternalStore:Yc,useId:sp,unstable_isNewReconciler:!1};function _o(i,o){if(i&&i.defaultProps){o=je({},o),i=i.defaultProps;for(var c in i)o[c]===void 0&&(o[c]=i[c]);return o}return o}function rh(i,o,c,f){o=i.memoizedState,c=c(f,o),c=c==null?o:je({},o,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var Md={isMounted:function(i){return(i=i._reactInternals)?pn(i)===i:!1},enqueueSetState:function(i,o,c){i=i._reactInternals;var f=ai(),b=Ts(i),T=Dr(f,b);T.payload=o,c!=null&&(T.callback=c),o=$r(i,T,b),o!==null&&(Lo(o,i,b,f),Cn(o,i,b))},enqueueReplaceState:function(i,o,c){i=i._reactInternals;var f=ai(),b=Ts(i),T=Dr(f,b);T.tag=1,T.payload=o,c!=null&&(T.callback=c),o=$r(i,T,b),o!==null&&(Lo(o,i,b,f),Cn(o,i,b))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var c=ai(),f=Ts(i),b=Dr(c,f);b.tag=2,o!=null&&(b.callback=o),o=$r(i,b,f),o!==null&&(Lo(o,i,f,c),Cn(o,i,f))}};function up(i,o,c,f,b,T,$){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,T,$):o.prototype&&o.prototype.isPureReactComponent?!Fn(c,f)||!Fn(b,T):!0}function hp(i,o,c){var f=!1,b=Qo,T=o.contextType;return typeof T=="object"&&T!==null?T=Pr(T):(b=Dn(o)?Oa:gn.current,f=o.contextTypes,T=(f=f!=null)?ys(i,b):Qo),o=new o(c,T),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Md,i.stateNode=o,o._reactInternals=i,f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=b,i.__reactInternalMemoizedMaskedChildContext=T),o}function fp(i,o,c,f){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,f),o.state!==i&&Md.enqueueReplaceState(o,o.state,null)}function nh(i,o,c,f){var b=i.stateNode;b.props=c,b.state=i.memoizedState,b.refs={},xn(i);var T=o.contextType;typeof T=="object"&&T!==null?b.context=Pr(T):(T=Dn(o)?Oa:gn.current,b.context=ys(i,T)),b.state=i.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(rh(i,o,T,c),b.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(o=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),o!==b.state&&Md.enqueueReplaceState(b,b.state,null),Tn(i,c,b,f),b.state=i.memoizedState),typeof b.componentDidMount=="function"&&(i.flags|=4194308)}function oc(i,o){try{var c="",f=o;do c+=K(f),f=f.return;while(f);var b=c}catch(T){b=`
Error generating stack: `+T.message+`
`+T.stack}return{value:i,source:o,stack:b,digest:null}}function ih(i,o,c){return{value:i,source:null,stack:c??null,digest:o??null}}function oh(i,o){try{console.error(o.value)}catch(c){setTimeout(function(){throw c})}}var b5=typeof WeakMap=="function"?WeakMap:Map;function pp(i,o,c){c=Dr(-1,c),c.tag=3,c.payload={element:null};var f=o.value;return c.callback=function(){Gd||(Gd=!0,bh=f),oh(i,o)},c}function mp(i,o,c){c=Dr(-1,c),c.tag=3;var f=i.type.getDerivedStateFromError;if(typeof f=="function"){var b=o.value;c.payload=function(){return f(b)},c.callback=function(){oh(i,o)}}var T=i.stateNode;return T!==null&&typeof T.componentDidCatch=="function"&&(c.callback=function(){oh(i,o),typeof f!="function"&&(ks===null?ks=new Set([this]):ks.add(this));var $=o.stack;this.componentDidCatch(o.value,{componentStack:$!==null?$:""})}),c}function gp(i,o,c){var f=i.pingCache;if(f===null){f=i.pingCache=new b5;var b=new Set;f.set(o,b)}else b=f.get(o),b===void 0&&(b=new Set,f.set(o,b));b.has(c)||(b.add(c),i=I5.bind(null,i,o,c),o.then(i,i))}function xp(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function yp(i,o,c,f,b){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(o=Dr(-1,1),o.tag=2,$r(c,o,1))),c.lanes|=1),i):(i.flags|=65536,i.lanes=b,i)}var w5=B.ReactCurrentOwner,Si=!1;function oi(i,o,c,f){o.child=i===null?Tr(o,null,c,f):Yr(o,i.child,c,f)}function vp(i,o,c,f,b){c=c.render;var T=o.ref;return Rr(o,b),f=dl(i,o,c,f,T,b),c=ao(),i!==null&&!Si?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~b,Da(i,o,b)):(ze&&c&&Ie(o),o.flags|=1,oi(i,o,f,b),o.child)}function bp(i,o,c,f,b){if(i===null){var T=c.type;return typeof T=="function"&&!Ah(T)&&T.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(o.tag=15,o.type=T,wp(i,o,T,f,b)):(i=Qd(c.type,null,f,o,o.mode,b),i.ref=o.ref,i.return=o,o.child=i)}if(T=i.child,(i.lanes&b)===0){var $=T.memoizedProps;if(c=c.compare,c=c!==null?c:Fn,c($,f)&&i.ref===o.ref)return Da(i,o,b)}return o.flags|=1,i=_s(T,f),i.ref=o.ref,i.return=o,o.child=i}function wp(i,o,c,f,b){if(i!==null){var T=i.memoizedProps;if(Fn(T,f)&&i.ref===o.ref)if(Si=!1,o.pendingProps=f=T,(i.lanes&b)!==0)(i.flags&131072)!==0&&(Si=!0);else return o.lanes=i.lanes,Da(i,o,b)}return ah(i,o,c,f,b)}function Sp(i,o,c){var f=o.pendingProps,b=f.children,T=i!==null?i.memoizedState:null;if(f.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},ir(sc,$i),$i|=c;else{if((c&1073741824)===0)return i=T!==null?T.baseLanes|c:c,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,ir(sc,$i),$i|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=T!==null?T.baseLanes:c,ir(sc,$i),$i|=f}else T!==null?(f=T.baseLanes|c,o.memoizedState=null):f=c,ir(sc,$i),$i|=f;return oi(i,o,b,c),o.child}function jp(i,o){var c=o.ref;(i===null&&c!==null||i!==null&&i.ref!==c)&&(o.flags|=512,o.flags|=2097152)}function ah(i,o,c,f,b){var T=Dn(c)?Oa:gn.current;return T=ys(o,T),Rr(o,b),c=dl(i,o,c,f,T,b),f=ao(),i!==null&&!Si?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~b,Da(i,o,b)):(ze&&f&&Ie(o),o.flags|=1,oi(i,o,c,b),o.child)}function kp(i,o,c,f,b){if(Dn(c)){var T=!0;Wa(o)}else T=!1;if(Rr(o,b),o.stateNode===null)$d(i,o),hp(o,c,f),nh(o,c,f,b),f=!0;else if(i===null){var $=o.stateNode,le=o.memoizedProps;$.props=le;var ge=$.context,Ne=c.contextType;typeof Ne=="object"&&Ne!==null?Ne=Pr(Ne):(Ne=Dn(c)?Oa:gn.current,Ne=ys(o,Ne));var $e=c.getDerivedStateFromProps,Ue=typeof $e=="function"||typeof $.getSnapshotBeforeUpdate=="function";Ue||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(le!==f||ge!==Ne)&&fp(o,$,f,Ne),Jr=!1;var De=o.memoizedState;$.state=De,Tn(o,f,$,b),ge=o.memoizedState,le!==f||De!==ge||Mn.current||Jr?(typeof $e=="function"&&(rh(o,c,$e,f),ge=o.memoizedState),(le=Jr||up(o,c,le,f,De,ge,Ne))?(Ue||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount()),typeof $.componentDidMount=="function"&&(o.flags|=4194308)):(typeof $.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=ge),$.props=f,$.state=ge,$.context=Ne,f=le):(typeof $.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{$=o.stateNode,$n(i,o),le=o.memoizedProps,Ne=o.type===o.elementType?le:_o(o.type,le),$.props=Ne,Ue=o.pendingProps,De=$.context,ge=c.contextType,typeof ge=="object"&&ge!==null?ge=Pr(ge):(ge=Dn(c)?Oa:gn.current,ge=ys(o,ge));var Xe=c.getDerivedStateFromProps;($e=typeof Xe=="function"||typeof $.getSnapshotBeforeUpdate=="function")||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(le!==Ue||De!==ge)&&fp(o,$,f,ge),Jr=!1,De=o.memoizedState,$.state=De,Tn(o,f,$,b);var nt=o.memoizedState;le!==Ue||De!==nt||Mn.current||Jr?(typeof Xe=="function"&&(rh(o,c,Xe,f),nt=o.memoizedState),(Ne=Jr||up(o,c,Ne,f,De,nt,ge)||!1)?($e||typeof $.UNSAFE_componentWillUpdate!="function"&&typeof $.componentWillUpdate!="function"||(typeof $.componentWillUpdate=="function"&&$.componentWillUpdate(f,nt,ge),typeof $.UNSAFE_componentWillUpdate=="function"&&$.UNSAFE_componentWillUpdate(f,nt,ge)),typeof $.componentDidUpdate=="function"&&(o.flags|=4),typeof $.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof $.componentDidUpdate!="function"||le===i.memoizedProps&&De===i.memoizedState||(o.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||le===i.memoizedProps&&De===i.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=nt),$.props=f,$.state=nt,$.context=ge,f=Ne):(typeof $.componentDidUpdate!="function"||le===i.memoizedProps&&De===i.memoizedState||(o.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||le===i.memoizedProps&&De===i.memoizedState||(o.flags|=1024),f=!1)}return sh(i,o,c,f,T,b)}function sh(i,o,c,f,b,T){jp(i,o);var $=(o.flags&128)!==0;if(!f&&!$)return b&&Pd(o,c,!1),Da(i,o,T);f=o.stateNode,w5.current=o;var le=$&&typeof c.getDerivedStateFromError!="function"?null:f.render();return o.flags|=1,i!==null&&$?(o.child=Yr(o,i.child,null,T),o.child=Yr(o,null,le,T)):oi(i,o,le,T),o.memoizedState=f.state,b&&Pd(o,c,!0),o.child}function Cp(i){var o=i.stateNode;o.pendingContext?Rd(i,o.pendingContext,o.pendingContext!==o.context):o.context&&Rd(i,o.context,!1),vs(i,o.containerInfo)}function Tp(i,o,c,f,b){return Qe(),He(b),o.flags|=256,oi(i,o,c,f),o.child}var lh={dehydrated:null,treeContext:null,retryLane:0};function ch(i){return{baseLanes:i,cachePool:null,transitions:null}}function Ap(i,o,c){var f=o.pendingProps,b=xr.current,T=!1,$=(o.flags&128)!==0,le;if((le=$)||(le=i!==null&&i.memoizedState===null?!1:(b&2)!==0),le?(T=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(b|=1),ir(xr,b&1),i===null)return rt(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):($=f.children,i=f.fallback,T?(f=o.mode,T=o.child,$={mode:"hidden",children:$},(f&1)===0&&T!==null?(T.childLanes=0,T.pendingProps=$):T=eu($,f,0,null),i=xl(i,f,c,null),T.return=o,i.return=o,T.sibling=i,o.child=T,o.child.memoizedState=ch(c),o.memoizedState=lh,i):dh(o,$));if(b=i.memoizedState,b!==null&&(le=b.dehydrated,le!==null))return S5(i,o,$,f,le,b,c);if(T){T=f.fallback,$=o.mode,b=i.child,le=b.sibling;var ge={mode:"hidden",children:f.children};return($&1)===0&&o.child!==b?(f=o.child,f.childLanes=0,f.pendingProps=ge,o.deletions=null):(f=_s(b,ge),f.subtreeFlags=b.subtreeFlags&14680064),le!==null?T=_s(le,T):(T=xl(T,$,c,null),T.flags|=2),T.return=o,f.return=o,f.sibling=T,o.child=f,f=T,T=o.child,$=i.child.memoizedState,$=$===null?ch(c):{baseLanes:$.baseLanes|c,cachePool:null,transitions:$.transitions},T.memoizedState=$,T.childLanes=i.childLanes&~c,o.memoizedState=lh,f}return T=i.child,i=T.sibling,f=_s(T,{mode:"visible",children:f.children}),(o.mode&1)===0&&(f.lanes=c),f.return=o,f.sibling=null,i!==null&&(c=o.deletions,c===null?(o.deletions=[i],o.flags|=16):c.push(i)),o.child=f,o.memoizedState=null,f}function dh(i,o){return o=eu({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function Dd(i,o,c,f){return f!==null&&He(f),Yr(o,i.child,null,c),i=dh(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function S5(i,o,c,f,b,T,$){if(c)return o.flags&256?(o.flags&=-257,f=ih(Error(e(422))),Dd(i,o,$,f)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(T=f.fallback,b=o.mode,f=eu({mode:"visible",children:f.children},b,0,null),T=xl(T,b,$,null),T.flags|=2,f.return=o,T.return=o,f.sibling=T,o.child=f,(o.mode&1)!==0&&Yr(o,i.child,null,$),o.child.memoizedState=ch($),o.memoizedState=lh,T);if((o.mode&1)===0)return Dd(i,o,$,null);if(b.data==="$!"){if(f=b.nextSibling&&b.nextSibling.dataset,f)var le=f.dgst;return f=le,T=Error(e(419)),f=ih(T,f,void 0),Dd(i,o,$,f)}if(le=($&i.childLanes)!==0,Si||le){if(f=An,f!==null){switch($&-$){case 4:b=2;break;case 16:b=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:b=32;break;case 536870912:b=268435456;break;default:b=0}b=(b&(f.suspendedLanes|$))!==0?0:b,b!==0&&b!==T.retryLane&&(T.retryLane=b,lr(i,b),Lo(f,i,b,-1))}return Th(),f=ih(Error(e(421))),Dd(i,o,$,f)}return b.data==="$?"?(o.flags|=128,o.child=i.child,o=E5.bind(null,i),b._reactRetry=o,null):(i=T.treeContext,Pe=Ln(b.nextSibling),Re=o,ze=!0,Fe=null,i!==null&&(Y[te++]=Ce,Y[te++]=re,Y[te++]=me,Ce=i.id,re=i.overflow,me=o),o=dh(o,f.children),o.flags|=4096,o)}function _p(i,o,c){i.lanes|=o;var f=i.alternate;f!==null&&(f.lanes|=o),Xt(i.return,o,c)}function uh(i,o,c,f,b){var T=i.memoizedState;T===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:b}:(T.isBackwards=o,T.rendering=null,T.renderingStartTime=0,T.last=f,T.tail=c,T.tailMode=b)}function Bp(i,o,c){var f=o.pendingProps,b=f.revealOrder,T=f.tail;if(oi(i,o,f.children,c),f=xr.current,(f&2)!==0)f=f&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&_p(i,c,o);else if(i.tag===19)_p(i,c,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}f&=1}if(ir(xr,f),(o.mode&1)===0)o.memoizedState=null;else switch(b){case"forwards":for(c=o.child,b=null;c!==null;)i=c.alternate,i!==null&&Wi(i)===null&&(b=c),c=c.sibling;c=b,c===null?(b=o.child,o.child=null):(b=c.sibling,c.sibling=null),uh(o,!1,b,c,T);break;case"backwards":for(c=null,b=o.child,o.child=null;b!==null;){if(i=b.alternate,i!==null&&Wi(i)===null){o.child=b;break}i=b.sibling,b.sibling=c,c=b,b=i}uh(o,!0,c,null,T);break;case"together":uh(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function $d(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function Da(i,o,c){if(i!==null&&(o.dependencies=i.dependencies),fl|=o.lanes,(c&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(e(153));if(o.child!==null){for(i=o.child,c=_s(i,i.pendingProps),o.child=c,c.return=o;i.sibling!==null;)i=i.sibling,c=c.sibling=_s(i,i.pendingProps),c.return=o;c.sibling=null}return o.child}function j5(i,o,c){switch(o.tag){case 3:Cp(o),Qe();break;case 5:Id(o);break;case 1:Dn(o.type)&&Wa(o);break;case 4:vs(o,o.stateNode.containerInfo);break;case 10:var f=o.type._context,b=o.memoizedProps.value;ir(rn,f._currentValue),f._currentValue=b;break;case 13:if(f=o.memoizedState,f!==null)return f.dehydrated!==null?(ir(xr,xr.current&1),o.flags|=128,null):(c&o.child.childLanes)!==0?Ap(i,o,c):(ir(xr,xr.current&1),i=Da(i,o,c),i!==null?i.sibling:null);ir(xr,xr.current&1);break;case 19:if(f=(c&o.childLanes)!==0,(i.flags&128)!==0){if(f)return Bp(i,o,c);o.flags|=128}if(b=o.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),ir(xr,xr.current),f)break;return null;case 22:case 23:return o.lanes=0,Sp(i,o,c)}return Da(i,o,c)}var Np,hh,Lp,Rp;Np=function(i,o){for(var c=o.child;c!==null;){if(c.tag===5||c.tag===6)i.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},hh=function(){},Lp=function(i,o,c,f){var b=i.memoizedProps;if(b!==f){i=o.stateNode,Co(un.current);var T=null;switch(c){case"input":b=Le(i,b),f=Le(i,f),T=[];break;case"select":b=je({},b,{value:void 0}),f=je({},f,{value:void 0}),T=[];break;case"textarea":b=Nt(i,b),f=Nt(i,f),T=[];break;default:typeof b.onClick!="function"&&typeof f.onClick=="function"&&(i.onclick=ms)}tr(c,f);var $;c=null;for(Ne in b)if(!f.hasOwnProperty(Ne)&&b.hasOwnProperty(Ne)&&b[Ne]!=null)if(Ne==="style"){var le=b[Ne];for($ in le)le.hasOwnProperty($)&&(c||(c={}),c[$]="")}else Ne!=="dangerouslySetInnerHTML"&&Ne!=="children"&&Ne!=="suppressContentEditableWarning"&&Ne!=="suppressHydrationWarning"&&Ne!=="autoFocus"&&(s.hasOwnProperty(Ne)?T||(T=[]):(T=T||[]).push(Ne,null));for(Ne in f){var ge=f[Ne];if(le=b!=null?b[Ne]:void 0,f.hasOwnProperty(Ne)&&ge!==le&&(ge!=null||le!=null))if(Ne==="style")if(le){for($ in le)!le.hasOwnProperty($)||ge&&ge.hasOwnProperty($)||(c||(c={}),c[$]="");for($ in ge)ge.hasOwnProperty($)&&le[$]!==ge[$]&&(c||(c={}),c[$]=ge[$])}else c||(T||(T=[]),T.push(Ne,c)),c=ge;else Ne==="dangerouslySetInnerHTML"?(ge=ge?ge.__html:void 0,le=le?le.__html:void 0,ge!=null&&le!==ge&&(T=T||[]).push(Ne,ge)):Ne==="children"?typeof ge!="string"&&typeof ge!="number"||(T=T||[]).push(Ne,""+ge):Ne!=="suppressContentEditableWarning"&&Ne!=="suppressHydrationWarning"&&(s.hasOwnProperty(Ne)?(ge!=null&&Ne==="onScroll"&&ar("scroll",i),T||le===ge||(T=[])):(T=T||[]).push(Ne,ge))}c&&(T=T||[]).push("style",c);var Ne=T;(o.updateQueue=Ne)&&(o.flags|=4)}},Rp=function(i,o,c,f){c!==f&&(o.flags|=4)};function Xc(i,o){if(!ze)switch(i.tailMode){case"hidden":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function Vn(i){var o=i.alternate!==null&&i.alternate.child===i.child,c=0,f=0;if(o)for(var b=i.child;b!==null;)c|=b.lanes|b.childLanes,f|=b.subtreeFlags&14680064,f|=b.flags&14680064,b.return=i,b=b.sibling;else for(b=i.child;b!==null;)c|=b.lanes|b.childLanes,f|=b.subtreeFlags,f|=b.flags,b.return=i,b=b.sibling;return i.subtreeFlags|=f,i.childLanes=c,o}function k5(i,o,c){var f=o.pendingProps;switch(_e(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vn(o),null;case 1:return Dn(o.type)&&Yl(),Vn(o),null;case 3:return f=o.stateNode,io(),rr(Mn),rr(gn),Kc(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(i===null||i.child===null)&&(Lr(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Fe!==null&&(jh(Fe),Fe=null))),hh(i,o),Vn(o),null;case 5:Hc(o);var b=Co(ea.current);if(c=o.type,i!==null&&o.stateNode!=null)Lp(i,o,c,f,b),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!f){if(o.stateNode===null)throw Error(e(166));return Vn(o),null}if(i=Co(un.current),Lr(o)){f=o.stateNode,c=o.type;var T=o.memoizedProps;switch(f[no]=o,f[gs]=T,i=(o.mode&1)!==0,c){case"dialog":ar("cancel",f),ar("close",f);break;case"iframe":case"object":case"embed":ar("load",f);break;case"video":case"audio":for(b=0;b<Xo.length;b++)ar(Xo[b],f);break;case"source":ar("error",f);break;case"img":case"image":case"link":ar("error",f),ar("load",f);break;case"details":ar("toggle",f);break;case"input":ne(f,T),ar("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!T.multiple},ar("invalid",f);break;case"textarea":pt(f,T),ar("invalid",f)}tr(c,T),b=null;for(var $ in T)if(T.hasOwnProperty($)){var le=T[$];$==="children"?typeof le=="string"?f.textContent!==le&&(T.suppressHydrationWarning!==!0&&Kl(f.textContent,le,i),b=["children",le]):typeof le=="number"&&f.textContent!==""+le&&(T.suppressHydrationWarning!==!0&&Kl(f.textContent,le,i),b=["children",""+le]):s.hasOwnProperty($)&&le!=null&&$==="onScroll"&&ar("scroll",f)}switch(c){case"input":Te(f),Je(f,T,!0);break;case"textarea":Te(f),Lt(f);break;case"select":case"option":break;default:typeof T.onClick=="function"&&(f.onclick=ms)}f=b,o.updateQueue=f,f!==null&&(o.flags|=4)}else{$=b.nodeType===9?b:b.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Rt(c)),i==="http://www.w3.org/1999/xhtml"?c==="script"?(i=$.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof f.is=="string"?i=$.createElement(c,{is:f.is}):(i=$.createElement(c),c==="select"&&($=i,f.multiple?$.multiple=!0:f.size&&($.size=f.size))):i=$.createElementNS(i,c),i[no]=o,i[gs]=f,Np(i,o,!1,!1),o.stateNode=i;e:{switch($=mt(c,f),c){case"dialog":ar("cancel",i),ar("close",i),b=f;break;case"iframe":case"object":case"embed":ar("load",i),b=f;break;case"video":case"audio":for(b=0;b<Xo.length;b++)ar(Xo[b],i);b=f;break;case"source":ar("error",i),b=f;break;case"img":case"image":case"link":ar("error",i),ar("load",i),b=f;break;case"details":ar("toggle",i),b=f;break;case"input":ne(i,f),b=Le(i,f),ar("invalid",i);break;case"option":b=f;break;case"select":i._wrapperState={wasMultiple:!!f.multiple},b=je({},f,{value:void 0}),ar("invalid",i);break;case"textarea":pt(i,f),b=Nt(i,f),ar("invalid",i);break;default:b=f}tr(c,b),le=b;for(T in le)if(le.hasOwnProperty(T)){var ge=le[T];T==="style"?lt(i,ge):T==="dangerouslySetInnerHTML"?(ge=ge?ge.__html:void 0,ge!=null&&ht(i,ge)):T==="children"?typeof ge=="string"?(c!=="textarea"||ge!=="")&&gt(i,ge):typeof ge=="number"&&gt(i,""+ge):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(s.hasOwnProperty(T)?ge!=null&&T==="onScroll"&&ar("scroll",i):ge!=null&&O(i,T,ge,$))}switch(c){case"input":Te(i),Je(i,f,!1);break;case"textarea":Te(i),Lt(i);break;case"option":f.value!=null&&i.setAttribute("value",""+he(f.value));break;case"select":i.multiple=!!f.multiple,T=f.value,T!=null?Ge(i,!!f.multiple,T,!1):f.defaultValue!=null&&Ge(i,!!f.multiple,f.defaultValue,!0);break;default:typeof b.onClick=="function"&&(i.onclick=ms)}switch(c){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Vn(o),null;case 6:if(i&&o.stateNode!=null)Rp(i,o,i.memoizedProps,f);else{if(typeof f!="string"&&o.stateNode===null)throw Error(e(166));if(c=Co(ea.current),Co(un.current),Lr(o)){if(f=o.stateNode,c=o.memoizedProps,f[no]=o,(T=f.nodeValue!==c)&&(i=Re,i!==null))switch(i.tag){case 3:Kl(f.nodeValue,c,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Kl(f.nodeValue,c,(i.mode&1)!==0)}T&&(o.flags|=4)}else f=(c.nodeType===9?c:c.ownerDocument).createTextNode(f),f[no]=o,o.stateNode=f}return Vn(o),null;case 13:if(rr(xr),f=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(ze&&Pe!==null&&(o.mode&1)!==0&&(o.flags&128)===0)zt(),Qe(),o.flags|=98560,T=!1;else if(T=Lr(o),f!==null&&f.dehydrated!==null){if(i===null){if(!T)throw Error(e(318));if(T=o.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(e(317));T[no]=o}else Qe(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Vn(o),T=!1}else Fe!==null&&(jh(Fe),Fe=null),T=!0;if(!T)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=c,o):(f=f!==null,f!==(i!==null&&i.memoizedState!==null)&&f&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(xr.current&1)!==0?yn===0&&(yn=3):Th())),o.updateQueue!==null&&(o.flags|=4),Vn(o),null);case 4:return io(),hh(i,o),i===null&&Ia(o.stateNode.containerInfo),Vn(o),null;case 10:return Sr(o.type._context),Vn(o),null;case 17:return Dn(o.type)&&Yl(),Vn(o),null;case 19:if(rr(xr),T=o.memoizedState,T===null)return Vn(o),null;if(f=(o.flags&128)!==0,$=T.rendering,$===null)if(f)Xc(T,!1);else{if(yn!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if($=Wi(i),$!==null){for(o.flags|=128,Xc(T,!1),f=$.updateQueue,f!==null&&(o.updateQueue=f,o.flags|=4),o.subtreeFlags=0,f=c,c=o.child;c!==null;)T=c,i=f,T.flags&=14680066,$=T.alternate,$===null?(T.childLanes=0,T.lanes=i,T.child=null,T.subtreeFlags=0,T.memoizedProps=null,T.memoizedState=null,T.updateQueue=null,T.dependencies=null,T.stateNode=null):(T.childLanes=$.childLanes,T.lanes=$.lanes,T.child=$.child,T.subtreeFlags=0,T.deletions=null,T.memoizedProps=$.memoizedProps,T.memoizedState=$.memoizedState,T.updateQueue=$.updateQueue,T.type=$.type,i=$.dependencies,T.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),c=c.sibling;return ir(xr,xr.current&1|2),o.child}i=i.sibling}T.tail!==null&&gr()>lc&&(o.flags|=128,f=!0,Xc(T,!1),o.lanes=4194304)}else{if(!f)if(i=Wi($),i!==null){if(o.flags|=128,f=!0,c=i.updateQueue,c!==null&&(o.updateQueue=c,o.flags|=4),Xc(T,!0),T.tail===null&&T.tailMode==="hidden"&&!$.alternate&&!ze)return Vn(o),null}else 2*gr()-T.renderingStartTime>lc&&c!==1073741824&&(o.flags|=128,f=!0,Xc(T,!1),o.lanes=4194304);T.isBackwards?($.sibling=o.child,o.child=$):(c=T.last,c!==null?c.sibling=$:o.child=$,T.last=$)}return T.tail!==null?(o=T.tail,T.rendering=o,T.tail=o.sibling,T.renderingStartTime=gr(),o.sibling=null,c=xr.current,ir(xr,f?c&1|2:c&1),o):(Vn(o),null);case 22:case 23:return Ch(),f=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==f&&(o.flags|=8192),f&&(o.mode&1)!==0?($i&1073741824)!==0&&(Vn(o),o.subtreeFlags&6&&(o.flags|=8192)):Vn(o),null;case 24:return null;case 25:return null}throw Error(e(156,o.tag))}function C5(i,o){switch(_e(o),o.tag){case 1:return Dn(o.type)&&Yl(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return io(),rr(Mn),rr(gn),Kc(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return Hc(o),null;case 13:if(rr(xr),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(e(340));Qe()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return rr(xr),null;case 4:return io(),null;case 10:return Sr(o.type._context),null;case 22:case 23:return Ch(),null;case 24:return null;default:return null}}var Vd=!1,Un=!1,T5=typeof WeakSet=="function"?WeakSet:Set,et=null;function ac(i,o){var c=i.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(f){Zr(i,o,f)}else c.current=null}function fh(i,o,c){try{c()}catch(f){Zr(i,o,f)}}var Pp=!1;function A5(i,o){if(sl=os,i=Kr(),zi(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else e:{c=(c=i.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var b=f.anchorOffset,T=f.focusNode;f=f.focusOffset;try{c.nodeType,T.nodeType}catch{c=null;break e}var $=0,le=-1,ge=-1,Ne=0,$e=0,Ue=i,De=null;t:for(;;){for(var Xe;Ue!==c||b!==0&&Ue.nodeType!==3||(le=$+b),Ue!==T||f!==0&&Ue.nodeType!==3||(ge=$+f),Ue.nodeType===3&&($+=Ue.nodeValue.length),(Xe=Ue.firstChild)!==null;)De=Ue,Ue=Xe;for(;;){if(Ue===i)break t;if(De===c&&++Ne===b&&(le=$),De===T&&++$e===f&&(ge=$),(Xe=Ue.nextSibling)!==null)break;Ue=De,De=Ue.parentNode}Ue=Xe}c=le===-1||ge===-1?null:{start:le,end:ge}}else c=null}c=c||{start:0,end:0}}else c=null;for(za={focusedElem:i,selectionRange:c},os=!1,et=o;et!==null;)if(o=et,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,et=i;else for(;et!==null;){o=et;try{var nt=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(nt!==null){var at=nt.memoizedProps,on=nt.memoizedState,Ae=o.stateNode,we=Ae.getSnapshotBeforeUpdate(o.elementType===o.type?at:_o(o.type,at),on);Ae.__reactInternalSnapshotBeforeUpdate=we}break;case 3:var Be=o.stateNode.containerInfo;Be.nodeType===1?Be.textContent="":Be.nodeType===9&&Be.documentElement&&Be.removeChild(Be.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(e(163))}}catch(qe){Zr(o,o.return,qe)}if(i=o.sibling,i!==null){i.return=o.return,et=i;break}et=o.return}return nt=Pp,Pp=!1,nt}function Zc(i,o,c){var f=o.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var b=f=f.next;do{if((b.tag&i)===i){var T=b.destroy;b.destroy=void 0,T!==void 0&&fh(o,c,T)}b=b.next}while(b!==f)}}function Ud(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var c=o=o.next;do{if((c.tag&i)===i){var f=c.create;c.destroy=f()}c=c.next}while(c!==o)}}function ph(i){var o=i.ref;if(o!==null){var c=i.stateNode;switch(i.tag){case 5:i=c;break;default:i=c}typeof o=="function"?o(i):o.current=i}}function Ip(i){var o=i.alternate;o!==null&&(i.alternate=null,Ip(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[no],delete o[gs],delete o[Wn],delete o[Zu],delete o[Qu])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Ep(i){return i.tag===5||i.tag===3||i.tag===4}function zp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Ep(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function mh(i,o,c){var f=i.tag;if(f===5||f===6)i=i.stateNode,o?c.nodeType===8?c.parentNode.insertBefore(i,o):c.insertBefore(i,o):(c.nodeType===8?(o=c.parentNode,o.insertBefore(i,c)):(o=c,o.appendChild(i)),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=ms));else if(f!==4&&(i=i.child,i!==null))for(mh(i,o,c),i=i.sibling;i!==null;)mh(i,o,c),i=i.sibling}function gh(i,o,c){var f=i.tag;if(f===5||f===6)i=i.stateNode,o?c.insertBefore(i,o):c.appendChild(i);else if(f!==4&&(i=i.child,i!==null))for(gh(i,o,c),i=i.sibling;i!==null;)gh(i,o,c),i=i.sibling}var Rn=null,Bo=!1;function js(i,o,c){for(c=c.child;c!==null;)Fp(i,o,c),c=c.sibling}function Fp(i,o,c){if(Zn&&typeof Zn.onCommitFiberUnmount=="function")try{Zn.onCommitFiberUnmount(ha,c)}catch{}switch(c.tag){case 5:Un||ac(c,o);case 6:var f=Rn,b=Bo;Rn=null,js(i,o,c),Rn=f,Bo=b,Rn!==null&&(Bo?(i=Rn,c=c.stateNode,i.nodeType===8?i.parentNode.removeChild(c):i.removeChild(c)):Rn.removeChild(c.stateNode));break;case 18:Rn!==null&&(Bo?(i=Rn,c=c.stateNode,i.nodeType===8?Vc(i.parentNode,c):i.nodeType===1&&Vc(i,c),Ji(i)):Vc(Rn,c.stateNode));break;case 4:f=Rn,b=Bo,Rn=c.stateNode.containerInfo,Bo=!0,js(i,o,c),Rn=f,Bo=b;break;case 0:case 11:case 14:case 15:if(!Un&&(f=c.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){b=f=f.next;do{var T=b,$=T.destroy;T=T.tag,$!==void 0&&((T&2)!==0||(T&4)!==0)&&fh(c,o,$),b=b.next}while(b!==f)}js(i,o,c);break;case 1:if(!Un&&(ac(c,o),f=c.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=c.memoizedProps,f.state=c.memoizedState,f.componentWillUnmount()}catch(le){Zr(c,o,le)}js(i,o,c);break;case 21:js(i,o,c);break;case 22:c.mode&1?(Un=(f=Un)||c.memoizedState!==null,js(i,o,c),Un=f):js(i,o,c);break;default:js(i,o,c)}}function Op(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var c=i.stateNode;c===null&&(c=i.stateNode=new T5),o.forEach(function(f){var b=z5.bind(null,i,f);c.has(f)||(c.add(f),f.then(b,b))})}}function No(i,o){var c=o.deletions;if(c!==null)for(var f=0;f<c.length;f++){var b=c[f];try{var T=i,$=o,le=$;e:for(;le!==null;){switch(le.tag){case 5:Rn=le.stateNode,Bo=!1;break e;case 3:Rn=le.stateNode.containerInfo,Bo=!0;break e;case 4:Rn=le.stateNode.containerInfo,Bo=!0;break e}le=le.return}if(Rn===null)throw Error(e(160));Fp(T,$,b),Rn=null,Bo=!1;var ge=b.alternate;ge!==null&&(ge.return=null),b.return=null}catch(Ne){Zr(b,o,Ne)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Wp(o,i),o=o.sibling}function Wp(i,o){var c=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(No(o,i),ra(i),f&4){try{Zc(3,i,i.return),Ud(3,i)}catch(at){Zr(i,i.return,at)}try{Zc(5,i,i.return)}catch(at){Zr(i,i.return,at)}}break;case 1:No(o,i),ra(i),f&512&&c!==null&&ac(c,c.return);break;case 5:if(No(o,i),ra(i),f&512&&c!==null&&ac(c,c.return),i.flags&32){var b=i.stateNode;try{gt(b,"")}catch(at){Zr(i,i.return,at)}}if(f&4&&(b=i.stateNode,b!=null)){var T=i.memoizedProps,$=c!==null?c.memoizedProps:T,le=i.type,ge=i.updateQueue;if(i.updateQueue=null,ge!==null)try{le==="input"&&T.type==="radio"&&T.name!=null&&Ye(b,T),mt(le,$);var Ne=mt(le,T);for($=0;$<ge.length;$+=2){var $e=ge[$],Ue=ge[$+1];$e==="style"?lt(b,Ue):$e==="dangerouslySetInnerHTML"?ht(b,Ue):$e==="children"?gt(b,Ue):O(b,$e,Ue,Ne)}switch(le){case"input":Ke(b,T);break;case"textarea":Vt(b,T);break;case"select":var De=b._wrapperState.wasMultiple;b._wrapperState.wasMultiple=!!T.multiple;var Xe=T.value;Xe!=null?Ge(b,!!T.multiple,Xe,!1):De!==!!T.multiple&&(T.defaultValue!=null?Ge(b,!!T.multiple,T.defaultValue,!0):Ge(b,!!T.multiple,T.multiple?[]:"",!1))}b[gs]=T}catch(at){Zr(i,i.return,at)}}break;case 6:if(No(o,i),ra(i),f&4){if(i.stateNode===null)throw Error(e(162));b=i.stateNode,T=i.memoizedProps;try{b.nodeValue=T}catch(at){Zr(i,i.return,at)}}break;case 3:if(No(o,i),ra(i),f&4&&c!==null&&c.memoizedState.isDehydrated)try{Ji(o.containerInfo)}catch(at){Zr(i,i.return,at)}break;case 4:No(o,i),ra(i);break;case 13:No(o,i),ra(i),b=i.child,b.flags&8192&&(T=b.memoizedState!==null,b.stateNode.isHidden=T,!T||b.alternate!==null&&b.alternate.memoizedState!==null||(vh=gr())),f&4&&Op(i);break;case 22:if($e=c!==null&&c.memoizedState!==null,i.mode&1?(Un=(Ne=Un)||$e,No(o,i),Un=Ne):No(o,i),ra(i),f&8192){if(Ne=i.memoizedState!==null,(i.stateNode.isHidden=Ne)&&!$e&&(i.mode&1)!==0)for(et=i,$e=i.child;$e!==null;){for(Ue=et=$e;et!==null;){switch(De=et,Xe=De.child,De.tag){case 0:case 11:case 14:case 15:Zc(4,De,De.return);break;case 1:ac(De,De.return);var nt=De.stateNode;if(typeof nt.componentWillUnmount=="function"){f=De,c=De.return;try{o=f,nt.props=o.memoizedProps,nt.state=o.memoizedState,nt.componentWillUnmount()}catch(at){Zr(f,c,at)}}break;case 5:ac(De,De.return);break;case 22:if(De.memoizedState!==null){$p(Ue);continue}}Xe!==null?(Xe.return=De,et=Xe):$p(Ue)}$e=$e.sibling}e:for($e=null,Ue=i;;){if(Ue.tag===5){if($e===null){$e=Ue;try{b=Ue.stateNode,Ne?(T=b.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none"):(le=Ue.stateNode,ge=Ue.memoizedProps.style,$=ge!=null&&ge.hasOwnProperty("display")?ge.display:null,le.style.display=Ut("display",$))}catch(at){Zr(i,i.return,at)}}}else if(Ue.tag===6){if($e===null)try{Ue.stateNode.nodeValue=Ne?"":Ue.memoizedProps}catch(at){Zr(i,i.return,at)}}else if((Ue.tag!==22&&Ue.tag!==23||Ue.memoizedState===null||Ue===i)&&Ue.child!==null){Ue.child.return=Ue,Ue=Ue.child;continue}if(Ue===i)break e;for(;Ue.sibling===null;){if(Ue.return===null||Ue.return===i)break e;$e===Ue&&($e=null),Ue=Ue.return}$e===Ue&&($e=null),Ue.sibling.return=Ue.return,Ue=Ue.sibling}}break;case 19:No(o,i),ra(i),f&4&&Op(i);break;case 21:break;default:No(o,i),ra(i)}}function ra(i){var o=i.flags;if(o&2){try{e:{for(var c=i.return;c!==null;){if(Ep(c)){var f=c;break e}c=c.return}throw Error(e(160))}switch(f.tag){case 5:var b=f.stateNode;f.flags&32&&(gt(b,""),f.flags&=-33);var T=zp(i);gh(i,T,b);break;case 3:case 4:var $=f.stateNode.containerInfo,le=zp(i);mh(i,le,$);break;default:throw Error(e(161))}}catch(ge){Zr(i,i.return,ge)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function _5(i,o,c){et=i,Mp(i)}function Mp(i,o,c){for(var f=(i.mode&1)!==0;et!==null;){var b=et,T=b.child;if(b.tag===22&&f){var $=b.memoizedState!==null||Vd;if(!$){var le=b.alternate,ge=le!==null&&le.memoizedState!==null||Un;le=Vd;var Ne=Un;if(Vd=$,(Un=ge)&&!Ne)for(et=b;et!==null;)$=et,ge=$.child,$.tag===22&&$.memoizedState!==null?Vp(b):ge!==null?(ge.return=$,et=ge):Vp(b);for(;T!==null;)et=T,Mp(T),T=T.sibling;et=b,Vd=le,Un=Ne}Dp(i)}else(b.subtreeFlags&8772)!==0&&T!==null?(T.return=b,et=T):Dp(i)}}function Dp(i){for(;et!==null;){var o=et;if((o.flags&8772)!==0){var c=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Un||Ud(5,o);break;case 1:var f=o.stateNode;if(o.flags&4&&!Un)if(c===null)f.componentDidMount();else{var b=o.elementType===o.type?c.memoizedProps:_o(o.type,c.memoizedProps);f.componentDidUpdate(b,c.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var T=o.updateQueue;T!==null&&wi(o,T,f);break;case 3:var $=o.updateQueue;if($!==null){if(c=null,o.child!==null)switch(o.child.tag){case 5:c=o.child.stateNode;break;case 1:c=o.child.stateNode}wi(o,$,c)}break;case 5:var le=o.stateNode;if(c===null&&o.flags&4){c=le;var ge=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":ge.autoFocus&&c.focus();break;case"img":ge.src&&(c.src=ge.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var Ne=o.alternate;if(Ne!==null){var $e=Ne.memoizedState;if($e!==null){var Ue=$e.dehydrated;Ue!==null&&Ji(Ue)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(e(163))}Un||o.flags&512&&ph(o)}catch(De){Zr(o,o.return,De)}}if(o===i){et=null;break}if(c=o.sibling,c!==null){c.return=o.return,et=c;break}et=o.return}}function $p(i){for(;et!==null;){var o=et;if(o===i){et=null;break}var c=o.sibling;if(c!==null){c.return=o.return,et=c;break}et=o.return}}function Vp(i){for(;et!==null;){var o=et;try{switch(o.tag){case 0:case 11:case 15:var c=o.return;try{Ud(4,o)}catch(ge){Zr(o,c,ge)}break;case 1:var f=o.stateNode;if(typeof f.componentDidMount=="function"){var b=o.return;try{f.componentDidMount()}catch(ge){Zr(o,b,ge)}}var T=o.return;try{ph(o)}catch(ge){Zr(o,T,ge)}break;case 5:var $=o.return;try{ph(o)}catch(ge){Zr(o,$,ge)}}}catch(ge){Zr(o,o.return,ge)}if(o===i){et=null;break}var le=o.sibling;if(le!==null){le.return=o.return,et=le;break}et=o.return}}var B5=Math.ceil,qd=B.ReactCurrentDispatcher,xh=B.ReactCurrentOwner,so=B.ReactCurrentBatchConfig,Zt=0,An=null,hn=null,Pn=0,$i=0,sc=Fi(0),yn=0,Qc=null,fl=0,Hd=0,yh=0,ed=null,ji=null,vh=0,lc=1/0,$a=null,Gd=!1,bh=null,ks=null,Kd=!1,Cs=null,Yd=0,td=0,wh=null,Jd=-1,Xd=0;function ai(){return(Zt&6)!==0?gr():Jd!==-1?Jd:Jd=gr()}function Ts(i){return(i.mode&1)===0?1:(Zt&2)!==0&&Pn!==0?Pn&-Pn:Mr.transition!==null?(Xd===0&&(Xd=zl()),Xd):(i=Ht,i!==0||(i=window.event,i=i===void 0?16:ba(i.type)),i)}function Lo(i,o,c,f){if(50<td)throw td=0,wh=null,Error(e(185));ga(i,c,f),((Zt&2)===0||i!==An)&&(i===An&&((Zt&2)===0&&(Hd|=c),yn===4&&As(i,Pn)),ki(i,f),c===1&&Zt===0&&(o.mode&1)===0&&(lc=gr()+500,cl&&N()))}function ki(i,o){var c=i.callbackNode;Fr(i,o);var f=In(i,i===An?Pn:0);if(f===0)c!==null&&ua(c),i.callbackNode=null,i.callbackPriority=0;else if(o=f&-f,i.callbackPriority!==o){if(c!=null&&ua(c),o===1)i.tag===0?w(qp.bind(null,i)):g(qp.bind(null,i)),Ju(function(){(Zt&6)===0&&N()}),c=null;else{switch(fo(f)){case 1:c=Qa;break;case 4:c=Xn;break;case 16:c=$o;break;case 536870912:c=es;break;default:c=$o}c=Qp(c,Up.bind(null,i))}i.callbackPriority=o,i.callbackNode=c}}function Up(i,o){if(Jd=-1,Xd=0,(Zt&6)!==0)throw Error(e(327));var c=i.callbackNode;if(cc()&&i.callbackNode!==c)return null;var f=In(i,i===An?Pn:0);if(f===0)return null;if((f&30)!==0||(f&i.expiredLanes)!==0||o)o=Zd(i,f);else{o=f;var b=Zt;Zt|=2;var T=Gp();(An!==i||Pn!==o)&&($a=null,lc=gr()+500,ml(i,o));do try{R5();break}catch(le){Hp(i,le)}while(!0);Jt(),qd.current=T,Zt=b,hn!==null?o=0:(An=null,Pn=0,o=yn)}if(o!==0){if(o===2&&(b=ma(i),b!==0&&(f=b,o=Sh(i,b))),o===1)throw c=Qc,ml(i,0),As(i,f),ki(i,gr()),c;if(o===6)As(i,f);else{if(b=i.current.alternate,(f&30)===0&&!N5(b)&&(o=Zd(i,f),o===2&&(T=ma(i),T!==0&&(f=T,o=Sh(i,T))),o===1))throw c=Qc,ml(i,0),As(i,f),ki(i,gr()),c;switch(i.finishedWork=b,i.finishedLanes=f,o){case 0:case 1:throw Error(e(345));case 2:gl(i,ji,$a);break;case 3:if(As(i,f),(f&130023424)===f&&(o=vh+500-gr(),10<o)){if(In(i,0)!==0)break;if(b=i.suspendedLanes,(b&f)!==f){ai(),i.pingedLanes|=i.suspendedLanes&b;break}i.timeoutHandle=$c(gl.bind(null,i,ji,$a),o);break}gl(i,ji,$a);break;case 4:if(As(i,f),(f&4194240)===f)break;for(o=i.eventTimes,b=-1;0<f;){var $=31-bn(f);T=1<<$,$=o[$],$>b&&(b=$),f&=~T}if(f=b,f=gr()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*B5(f/1960))-f,10<f){i.timeoutHandle=$c(gl.bind(null,i,ji,$a),f);break}gl(i,ji,$a);break;case 5:gl(i,ji,$a);break;default:throw Error(e(329))}}}return ki(i,gr()),i.callbackNode===c?Up.bind(null,i):null}function Sh(i,o){var c=ed;return i.current.memoizedState.isDehydrated&&(ml(i,o).flags|=256),i=Zd(i,o),i!==2&&(o=ji,ji=c,o!==null&&jh(o)),i}function jh(i){ji===null?ji=i:ji.push.apply(ji,i)}function N5(i){for(var o=i;;){if(o.flags&16384){var c=o.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var f=0;f<c.length;f++){var b=c[f],T=b.getSnapshot;b=b.value;try{if(!Br(T(),b))return!1}catch{return!1}}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function As(i,o){for(o&=~yh,o&=~Hd,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var c=31-bn(o),f=1<<c;i[c]=-1,o&=~f}}function qp(i){if((Zt&6)!==0)throw Error(e(327));cc();var o=In(i,0);if((o&1)===0)return ki(i,gr()),null;var c=Zd(i,o);if(i.tag!==0&&c===2){var f=ma(i);f!==0&&(o=f,c=Sh(i,f))}if(c===1)throw c=Qc,ml(i,0),As(i,o),ki(i,gr()),c;if(c===6)throw Error(e(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,gl(i,ji,$a),ki(i,gr()),null}function kh(i,o){var c=Zt;Zt|=1;try{return i(o)}finally{Zt=c,Zt===0&&(lc=gr()+500,cl&&N())}}function pl(i){Cs!==null&&Cs.tag===0&&(Zt&6)===0&&cc();var o=Zt;Zt|=1;var c=so.transition,f=Ht;try{if(so.transition=null,Ht=1,i)return i()}finally{Ht=f,so.transition=c,Zt=o,(Zt&6)===0&&N()}}function Ch(){$i=sc.current,rr(sc)}function ml(i,o){i.finishedWork=null,i.finishedLanes=0;var c=i.timeoutHandle;if(c!==-1&&(i.timeoutHandle=-1,Nd(c)),hn!==null)for(c=hn.return;c!==null;){var f=c;switch(_e(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&Yl();break;case 3:io(),rr(Mn),rr(gn),Kc();break;case 5:Hc(f);break;case 4:io();break;case 13:rr(xr);break;case 19:rr(xr);break;case 10:Sr(f.type._context);break;case 22:case 23:Ch()}c=c.return}if(An=i,hn=i=_s(i.current,null),Pn=$i=o,yn=0,Qc=null,yh=Hd=fl=0,ji=ed=null,sr!==null){for(o=0;o<sr.length;o++)if(c=sr[o],f=c.interleaved,f!==null){c.interleaved=null;var b=f.next,T=c.pending;if(T!==null){var $=T.next;T.next=b,f.next=$}c.pending=f}sr=null}return i}function Hp(i,o){do{var c=hn;try{if(Jt(),Jl.current=Wd,bs){for(var f=jr.memoizedState;f!==null;){var b=f.queue;b!==null&&(b.pending=null),f=f.next}bs=!1}if(oo=0,Ur=Xr=jr=null,To=!1,ws=0,xh.current=null,c===null||c.return===null){yn=1,Qc=o,hn=null;break}e:{var T=i,$=c.return,le=c,ge=o;if(o=Pn,le.flags|=32768,ge!==null&&typeof ge=="object"&&typeof ge.then=="function"){var Ne=ge,$e=le,Ue=$e.tag;if(($e.mode&1)===0&&(Ue===0||Ue===11||Ue===15)){var De=$e.alternate;De?($e.updateQueue=De.updateQueue,$e.memoizedState=De.memoizedState,$e.lanes=De.lanes):($e.updateQueue=null,$e.memoizedState=null)}var Xe=xp($);if(Xe!==null){Xe.flags&=-257,yp(Xe,$,le,T,o),Xe.mode&1&&gp(T,Ne,o),o=Xe,ge=Ne;var nt=o.updateQueue;if(nt===null){var at=new Set;at.add(ge),o.updateQueue=at}else nt.add(ge);break e}else{if((o&1)===0){gp(T,Ne,o),Th();break e}ge=Error(e(426))}}else if(ze&&le.mode&1){var on=xp($);if(on!==null){(on.flags&65536)===0&&(on.flags|=256),yp(on,$,le,T,o),He(oc(ge,le));break e}}T=ge=oc(ge,le),yn!==4&&(yn=2),ed===null?ed=[T]:ed.push(T),T=$;do{switch(T.tag){case 3:T.flags|=65536,o&=-o,T.lanes|=o;var Ae=pp(T,ge,o);cr(T,Ae);break e;case 1:le=ge;var we=T.type,Be=T.stateNode;if((T.flags&128)===0&&(typeof we.getDerivedStateFromError=="function"||Be!==null&&typeof Be.componentDidCatch=="function"&&(ks===null||!ks.has(Be)))){T.flags|=65536,o&=-o,T.lanes|=o;var qe=mp(T,le,o);cr(T,qe);break e}}T=T.return}while(T!==null)}Yp(c)}catch(ut){o=ut,hn===c&&c!==null&&(hn=c=c.return);continue}break}while(!0)}function Gp(){var i=qd.current;return qd.current=Wd,i===null?Wd:i}function Th(){(yn===0||yn===3||yn===2)&&(yn=4),An===null||(fl&268435455)===0&&(Hd&268435455)===0||As(An,Pn)}function Zd(i,o){var c=Zt;Zt|=2;var f=Gp();(An!==i||Pn!==o)&&($a=null,ml(i,o));do try{L5();break}catch(b){Hp(i,b)}while(!0);if(Jt(),Zt=c,qd.current=f,hn!==null)throw Error(e(261));return An=null,Pn=0,yn}function L5(){for(;hn!==null;)Kp(hn)}function R5(){for(;hn!==null&&!Za();)Kp(hn)}function Kp(i){var o=Zp(i.alternate,i,$i);i.memoizedProps=i.pendingProps,o===null?Yp(i):hn=o,xh.current=null}function Yp(i){var o=i;do{var c=o.alternate;if(i=o.return,(o.flags&32768)===0){if(c=k5(c,o,$i),c!==null){hn=c;return}}else{if(c=C5(c,o),c!==null){c.flags&=32767,hn=c;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{yn=6,hn=null;return}}if(o=o.sibling,o!==null){hn=o;return}hn=o=i}while(o!==null);yn===0&&(yn=5)}function gl(i,o,c){var f=Ht,b=so.transition;try{so.transition=null,Ht=1,P5(i,o,c,f)}finally{so.transition=b,Ht=f}return null}function P5(i,o,c,f){do cc();while(Cs!==null);if((Zt&6)!==0)throw Error(e(327));c=i.finishedWork;var b=i.finishedLanes;if(c===null)return null;if(i.finishedWork=null,i.finishedLanes=0,c===i.current)throw Error(e(177));i.callbackNode=null,i.callbackPriority=0;var T=c.lanes|c.childLanes;if(Gi(i,T),i===An&&(hn=An=null,Pn=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||Kd||(Kd=!0,Qp($o,function(){return cc(),null})),T=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||T){T=so.transition,so.transition=null;var $=Ht;Ht=1;var le=Zt;Zt|=4,xh.current=null,A5(i,c),Wp(c,i),Qs(za),os=!!sl,za=sl=null,i.current=c,_5(c),Nc(),Zt=le,Ht=$,so.transition=T}else i.current=c;if(Kd&&(Kd=!1,Cs=i,Yd=b),T=i.pendingLanes,T===0&&(ks=null),Il(c.stateNode),ki(i,gr()),o!==null)for(f=i.onRecoverableError,c=0;c<o.length;c++)b=o[c],f(b.value,{componentStack:b.stack,digest:b.digest});if(Gd)throw Gd=!1,i=bh,bh=null,i;return(Yd&1)!==0&&i.tag!==0&&cc(),T=i.pendingLanes,(T&1)!==0?i===wh?td++:(td=0,wh=i):td=0,N(),null}function cc(){if(Cs!==null){var i=fo(Yd),o=so.transition,c=Ht;try{if(so.transition=null,Ht=16>i?16:i,Cs===null)var f=!1;else{if(i=Cs,Cs=null,Yd=0,(Zt&6)!==0)throw Error(e(331));var b=Zt;for(Zt|=4,et=i.current;et!==null;){var T=et,$=T.child;if((et.flags&16)!==0){var le=T.deletions;if(le!==null){for(var ge=0;ge<le.length;ge++){var Ne=le[ge];for(et=Ne;et!==null;){var $e=et;switch($e.tag){case 0:case 11:case 15:Zc(8,$e,T)}var Ue=$e.child;if(Ue!==null)Ue.return=$e,et=Ue;else for(;et!==null;){$e=et;var De=$e.sibling,Xe=$e.return;if(Ip($e),$e===Ne){et=null;break}if(De!==null){De.return=Xe,et=De;break}et=Xe}}}var nt=T.alternate;if(nt!==null){var at=nt.child;if(at!==null){nt.child=null;do{var on=at.sibling;at.sibling=null,at=on}while(at!==null)}}et=T}}if((T.subtreeFlags&2064)!==0&&$!==null)$.return=T,et=$;else e:for(;et!==null;){if(T=et,(T.flags&2048)!==0)switch(T.tag){case 0:case 11:case 15:Zc(9,T,T.return)}var Ae=T.sibling;if(Ae!==null){Ae.return=T.return,et=Ae;break e}et=T.return}}var we=i.current;for(et=we;et!==null;){$=et;var Be=$.child;if(($.subtreeFlags&2064)!==0&&Be!==null)Be.return=$,et=Be;else e:for($=we;et!==null;){if(le=et,(le.flags&2048)!==0)try{switch(le.tag){case 0:case 11:case 15:Ud(9,le)}}catch(ut){Zr(le,le.return,ut)}if(le===$){et=null;break e}var qe=le.sibling;if(qe!==null){qe.return=le.return,et=qe;break e}et=le.return}}if(Zt=b,N(),Zn&&typeof Zn.onPostCommitFiberRoot=="function")try{Zn.onPostCommitFiberRoot(ha,i)}catch{}f=!0}return f}finally{Ht=c,so.transition=o}}return!1}function Jp(i,o,c){o=oc(c,o),o=pp(i,o,1),i=$r(i,o,1),o=ai(),i!==null&&(ga(i,1,o),ki(i,o))}function Zr(i,o,c){if(i.tag===3)Jp(i,i,c);else for(;o!==null;){if(o.tag===3){Jp(o,i,c);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(ks===null||!ks.has(f))){i=oc(c,i),i=mp(o,i,1),o=$r(o,i,1),i=ai(),o!==null&&(ga(o,1,i),ki(o,i));break}}o=o.return}}function I5(i,o,c){var f=i.pingCache;f!==null&&f.delete(o),o=ai(),i.pingedLanes|=i.suspendedLanes&c,An===i&&(Pn&c)===c&&(yn===4||yn===3&&(Pn&130023424)===Pn&&500>gr()-vh?ml(i,0):yh|=c),ki(i,o)}function Xp(i,o){o===0&&((i.mode&1)===0?o=1:(o=ui,ui<<=1,(ui&130023424)===0&&(ui=4194304)));var c=ai();i=lr(i,o),i!==null&&(ga(i,o,c),ki(i,c))}function E5(i){var o=i.memoizedState,c=0;o!==null&&(c=o.retryLane),Xp(i,c)}function z5(i,o){var c=0;switch(i.tag){case 13:var f=i.stateNode,b=i.memoizedState;b!==null&&(c=b.retryLane);break;case 19:f=i.stateNode;break;default:throw Error(e(314))}f!==null&&f.delete(o),Xp(i,c)}var Zp;Zp=function(i,o,c){if(i!==null)if(i.memoizedProps!==o.pendingProps||Mn.current)Si=!0;else{if((i.lanes&c)===0&&(o.flags&128)===0)return Si=!1,j5(i,o,c);Si=(i.flags&131072)!==0}else Si=!1,ze&&(o.flags&1048576)!==0&&ke(o,G,o.index);switch(o.lanes=0,o.tag){case 2:var f=o.type;$d(i,o),i=o.pendingProps;var b=ys(o,gn.current);Rr(o,c),b=dl(null,o,f,i,b,c);var T=ao();return o.flags|=1,typeof b=="object"&&b!==null&&typeof b.render=="function"&&b.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Dn(f)?(T=!0,Wa(o)):T=!1,o.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,xn(o),b.updater=Md,o.stateNode=b,b._reactInternals=o,nh(o,f,i,c),o=sh(null,o,f,!0,T,c)):(o.tag=0,ze&&T&&Ie(o),oi(null,o,b,c),o=o.child),o;case 16:f=o.elementType;e:{switch($d(i,o),i=o.pendingProps,b=f._init,f=b(f._payload),o.type=f,b=o.tag=O5(f),i=_o(f,i),b){case 0:o=ah(null,o,f,i,c);break e;case 1:o=kp(null,o,f,i,c);break e;case 11:o=vp(null,o,f,i,c);break e;case 14:o=bp(null,o,f,_o(f.type,i),c);break e}throw Error(e(306,f,""))}return o;case 0:return f=o.type,b=o.pendingProps,b=o.elementType===f?b:_o(f,b),ah(i,o,f,b,c);case 1:return f=o.type,b=o.pendingProps,b=o.elementType===f?b:_o(f,b),kp(i,o,f,b,c);case 3:e:{if(Cp(o),i===null)throw Error(e(387));f=o.pendingProps,T=o.memoizedState,b=T.element,$n(i,o),Tn(o,f,null,c);var $=o.memoizedState;if(f=$.element,T.isDehydrated)if(T={element:f,isDehydrated:!1,cache:$.cache,pendingSuspenseBoundaries:$.pendingSuspenseBoundaries,transitions:$.transitions},o.updateQueue.baseState=T,o.memoizedState=T,o.flags&256){b=oc(Error(e(423)),o),o=Tp(i,o,f,c,b);break e}else if(f!==b){b=oc(Error(e(424)),o),o=Tp(i,o,f,c,b);break e}else for(Pe=Ln(o.stateNode.containerInfo.firstChild),Re=o,ze=!0,Fe=null,c=Tr(o,null,f,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Qe(),f===b){o=Da(i,o,c);break e}oi(i,o,f,c)}o=o.child}return o;case 5:return Id(o),i===null&&rt(o),f=o.type,b=o.pendingProps,T=i!==null?i.memoizedProps:null,$=b.children,Dc(f,b)?$=null:T!==null&&Dc(f,T)&&(o.flags|=32),jp(i,o),oi(i,o,$,c),o.child;case 6:return i===null&&rt(o),null;case 13:return Ap(i,o,c);case 4:return vs(o,o.stateNode.containerInfo),f=o.pendingProps,i===null?o.child=Yr(o,null,f,c):oi(i,o,f,c),o.child;case 11:return f=o.type,b=o.pendingProps,b=o.elementType===f?b:_o(f,b),vp(i,o,f,b,c);case 7:return oi(i,o,o.pendingProps,c),o.child;case 8:return oi(i,o,o.pendingProps.children,c),o.child;case 12:return oi(i,o,o.pendingProps.children,c),o.child;case 10:e:{if(f=o.type._context,b=o.pendingProps,T=o.memoizedProps,$=b.value,ir(rn,f._currentValue),f._currentValue=$,T!==null)if(Br(T.value,$)){if(T.children===b.children&&!Mn.current){o=Da(i,o,c);break e}}else for(T=o.child,T!==null&&(T.return=o);T!==null;){var le=T.dependencies;if(le!==null){$=T.child;for(var ge=le.firstContext;ge!==null;){if(ge.context===f){if(T.tag===1){ge=Dr(-1,c&-c),ge.tag=2;var Ne=T.updateQueue;if(Ne!==null){Ne=Ne.shared;var $e=Ne.pending;$e===null?ge.next=ge:(ge.next=$e.next,$e.next=ge),Ne.pending=ge}}T.lanes|=c,ge=T.alternate,ge!==null&&(ge.lanes|=c),Xt(T.return,c,o),le.lanes|=c;break}ge=ge.next}}else if(T.tag===10)$=T.type===o.type?null:T.child;else if(T.tag===18){if($=T.return,$===null)throw Error(e(341));$.lanes|=c,le=$.alternate,le!==null&&(le.lanes|=c),Xt($,c,o),$=T.sibling}else $=T.child;if($!==null)$.return=T;else for($=T;$!==null;){if($===o){$=null;break}if(T=$.sibling,T!==null){T.return=$.return,$=T;break}$=$.return}T=$}oi(i,o,b.children,c),o=o.child}return o;case 9:return b=o.type,f=o.pendingProps.children,Rr(o,c),b=Pr(b),f=f(b),o.flags|=1,oi(i,o,f,c),o.child;case 14:return f=o.type,b=_o(f,o.pendingProps),b=_o(f.type,b),bp(i,o,f,b,c);case 15:return wp(i,o,o.type,o.pendingProps,c);case 17:return f=o.type,b=o.pendingProps,b=o.elementType===f?b:_o(f,b),$d(i,o),o.tag=1,Dn(f)?(i=!0,Wa(o)):i=!1,Rr(o,c),hp(o,f,b),nh(o,f,b,c),sh(null,o,f,!0,i,c);case 19:return Bp(i,o,c);case 22:return Sp(i,o,c)}throw Error(e(156,o.tag))};function Qp(i,o){return da(i,o)}function F5(i,o,c,f){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lo(i,o,c,f){return new F5(i,o,c,f)}function Ah(i){return i=i.prototype,!(!i||!i.isReactComponent)}function O5(i){if(typeof i=="function")return Ah(i)?1:0;if(i!=null){if(i=i.$$typeof,i===k)return 11;if(i===se)return 14}return 2}function _s(i,o){var c=i.alternate;return c===null?(c=lo(i.tag,o,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=o,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&14680064,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,o=i.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c}function Qd(i,o,c,f,b,T){var $=2;if(f=i,typeof i=="function")Ah(i)&&($=1);else if(typeof i=="string")$=5;else e:switch(i){case ce:return xl(c.children,b,T,o);case W:$=8,b|=8;break;case I:return i=lo(12,c,o,b|2),i.elementType=I,i.lanes=T,i;case X:return i=lo(13,c,o,b),i.elementType=X,i.lanes=T,i;case R:return i=lo(19,c,o,b),i.elementType=R,i.lanes=T,i;case de:return eu(c,b,T,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case J:$=10;break e;case D:$=9;break e;case k:$=11;break e;case se:$=14;break e;case xe:$=16,f=null;break e}throw Error(e(130,i==null?i:typeof i,""))}return o=lo($,c,o,b),o.elementType=i,o.type=f,o.lanes=T,o}function xl(i,o,c,f){return i=lo(7,i,f,o),i.lanes=c,i}function eu(i,o,c,f){return i=lo(22,i,f,o),i.elementType=de,i.lanes=c,i.stateNode={isHidden:!1},i}function _h(i,o,c){return i=lo(6,i,null,o),i.lanes=c,i}function Bh(i,o,c){return o=lo(4,i.children!==null?i.children:[],i.key,o),o.lanes=c,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function W5(i,o,c,f,b){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Us(0),this.expirationTimes=Us(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Us(0),this.identifierPrefix=f,this.onRecoverableError=b,this.mutableSourceEagerHydrationData=null}function Nh(i,o,c,f,b,T,$,le,ge){return i=new W5(i,o,c,le,ge),o===1?(o=1,T===!0&&(o|=8)):o=0,T=lo(3,null,null,o),i.current=T,T.stateNode=i,T.memoizedState={element:f,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},xn(T),i}function M5(i,o,c){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ee,key:f==null?null:""+f,children:i,containerInfo:o,implementation:c}}function e0(i){if(!i)return Qo;i=i._reactInternals;e:{if(pn(i)!==i||i.tag!==1)throw Error(e(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Dn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(e(171))}if(i.tag===1){var c=i.type;if(Dn(c))return qc(i,c,o)}return o}function t0(i,o,c,f,b,T,$,le,ge){return i=Nh(c,f,!0,i,b,T,$,le,ge),i.context=e0(null),c=i.current,f=ai(),b=Ts(c),T=Dr(f,b),T.callback=o??null,$r(c,T,b),i.current.lanes=b,ga(i,b,f),ki(i,f),i}function tu(i,o,c,f){var b=o.current,T=ai(),$=Ts(b);return c=e0(c),o.context===null?o.context=c:o.pendingContext=c,o=Dr(T,$),o.payload={element:i},f=f===void 0?null:f,f!==null&&(o.callback=f),i=$r(b,o,$),i!==null&&(Lo(i,b,$,T),Cn(i,b,$)),$}function ru(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function r0(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<o?c:o}}function Lh(i,o){r0(i,o),(i=i.alternate)&&r0(i,o)}function D5(){return null}var n0=typeof reportError=="function"?reportError:function(i){console.error(i)};function Rh(i){this._internalRoot=i}nu.prototype.render=Rh.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(e(409));tu(i,o,null,null)},nu.prototype.unmount=Rh.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;pl(function(){tu(null,i,null,null)}),o[jn]=null}};function nu(i){this._internalRoot=i}nu.prototype.unstable_scheduleHydration=function(i){if(i){var o=Ol();i={blockedOn:null,target:i,priority:o};for(var c=0;c<Yi.length&&o!==0&&o<Yi[c].priority;c++);Yi.splice(c,0,i),c===0&&Ml(i)}};function Ph(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function iu(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function i0(){}function $5(i,o,c,f,b){if(b){if(typeof f=="function"){var T=f;f=function(){var Ne=ru($);T.call(Ne)}}var $=t0(o,f,i,0,null,!1,!1,"",i0);return i._reactRootContainer=$,i[jn]=$.current,Ia(i.nodeType===8?i.parentNode:i),pl(),$}for(;b=i.lastChild;)i.removeChild(b);if(typeof f=="function"){var le=f;f=function(){var Ne=ru(ge);le.call(Ne)}}var ge=Nh(i,0,!1,null,null,!1,!1,"",i0);return i._reactRootContainer=ge,i[jn]=ge.current,Ia(i.nodeType===8?i.parentNode:i),pl(function(){tu(o,ge,c,f)}),ge}function ou(i,o,c,f,b){var T=c._reactRootContainer;if(T){var $=T;if(typeof b=="function"){var le=b;b=function(){var ge=ru($);le.call(ge)}}tu(o,$,i,b)}else $=$5(c,o,i,b,f);return ru($)}rs=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var c=Ni(o.pendingLanes);c!==0&&(ts(o,c|1),ki(o,gr()),(Zt&6)===0&&(lc=gr()+500,N()))}break;case 13:pl(function(){var f=lr(i,1);if(f!==null){var b=ai();Lo(f,i,1,b)}}),Lh(i,1)}},qs=function(i){if(i.tag===13){var o=lr(i,134217728);if(o!==null){var c=ai();Lo(o,i,134217728,c)}Lh(i,134217728)}},Fl=function(i){if(i.tag===13){var o=Ts(i),c=lr(i,o);if(c!==null){var f=ai();Lo(c,i,o,f)}Lh(i,o)}},Ol=function(){return Ht},ns=function(i,o){var c=Ht;try{return Ht=i,o()}finally{Ht=c}},kr=function(i,o,c){switch(o){case"input":if(Ke(i,c),o=c.name,c.type==="radio"&&o!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<c.length;o++){var f=c[o];if(f!==i&&f.form===i.form){var b=ll(f);if(!b)throw Error(e(90));Oe(f),Ke(f,b)}}}break;case"textarea":Vt(i,c);break;case"select":o=c.value,o!=null&&Ge(i,!!c.multiple,o,!1)}},fn=kh,qi=pl;var V5={usingClientEntryPoint:!1,Events:[xs,Fa,ll,Gt,Wo,kh]},rd={findFiberByHostInstance:Zo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},U5={bundleType:rd.bundleType,version:rd.version,rendererPackageName:rd.rendererPackageName,rendererConfig:rd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:B.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Bi(i),i===null?null:i.stateNode},findFiberByHostInstance:rd.findFiberByHostInstance||D5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var au=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!au.isDisabled&&au.supportsFiber)try{ha=au.inject(U5),Zn=au}catch{}}return Ci.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V5,Ci.createPortal=function(i,o){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ph(o))throw Error(e(200));return M5(i,o,null,c)},Ci.createRoot=function(i,o){if(!Ph(i))throw Error(e(299));var c=!1,f="",b=n0;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(b=o.onRecoverableError)),o=Nh(i,1,!1,null,null,c,!1,f,b),i[jn]=o.current,Ia(i.nodeType===8?i.parentNode:i),new Rh(o)},Ci.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(e(188)):(i=Object.keys(i).join(","),Error(e(268,i)));return i=Bi(o),i=i===null?null:i.stateNode,i},Ci.flushSync=function(i){return pl(i)},Ci.hydrate=function(i,o,c){if(!iu(o))throw Error(e(200));return ou(null,i,o,!0,c)},Ci.hydrateRoot=function(i,o,c){if(!Ph(i))throw Error(e(405));var f=c!=null&&c.hydratedSources||null,b=!1,T="",$=n0;if(c!=null&&(c.unstable_strictMode===!0&&(b=!0),c.identifierPrefix!==void 0&&(T=c.identifierPrefix),c.onRecoverableError!==void 0&&($=c.onRecoverableError)),o=t0(o,null,i,1,c??null,b,!1,T,$),i[jn]=o.current,Ia(i),f)for(i=0;i<f.length;i++)c=f[i],b=c._getVersion,b=b(c._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[c,b]:o.mutableSourceEagerHydrationData.push(c,b);return new nu(o)},Ci.render=function(i,o,c){if(!iu(o))throw Error(e(200));return ou(null,i,o,!1,c)},Ci.unmountComponentAtNode=function(i){if(!iu(i))throw Error(e(40));return i._reactRootContainer?(pl(function(){ou(null,null,i,!1,function(){i._reactRootContainer=null,i[jn]=null})}),!0):!1},Ci.unstable_batchedUpdates=kh,Ci.unstable_renderSubtreeIntoContainer=function(i,o,c,f){if(!iu(c))throw Error(e(200));if(i==null||i._reactInternals===void 0)throw Error(e(38));return ou(i,o,c,!1,f)},Ci.version="18.3.1-next-f1338f8080-20240426",Ci}var h0;function e2(){if(h0)return zh.exports;h0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),zh.exports=Q5(),zh.exports}var f0;function t2(){if(f0)return su;f0=1;var r=e2();return su.createRoot=r.createRoot,su.hydrateRoot=r.hydrateRoot,su}var r2=t2();const n2=s1(r2);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i2=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),o2=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,a)=>a?a.toUpperCase():e.toLowerCase()),p0=r=>{const t=o2(r);return t.charAt(0).toUpperCase()+t.slice(1)},l1=(...r)=>r.filter((t,e,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===e).join(" ").trim(),a2=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var s2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=ve.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:a,className:s="",children:l,iconNode:d,...u},m)=>ve.createElement("svg",{ref:m,...s2,width:t,height:t,stroke:r,strokeWidth:a?Number(e)*24/Number(t):e,className:l1("lucide",s),...!l&&!a2(u)&&{"aria-hidden":"true"},...u},[...d.map(([p,y])=>ve.createElement(p,y)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=(r,t)=>{const e=ve.forwardRef(({className:a,...s},l)=>ve.createElement(l2,{ref:l,iconNode:t,className:l1(`lucide-${i2(p0(r))}`,`lucide-${r}`,a),...s}));return e.displayName=p0(r),e};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c2=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],d2=Pt("bell",c2);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Of=Pt("briefcase",u2);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h2=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],c1=Pt("building",h2);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=[["path",{d:"M17 19a1 1 0 0 1-1-1v-2a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v2a1 1 0 0 1-1 1z",key:"trhst0"}],["path",{d:"M17 21v-2",key:"ds4u3f"}],["path",{d:"M19 14V6.5a1 1 0 0 0-7 0v11a1 1 0 0 1-7 0V10",key:"1mo9zo"}],["path",{d:"M21 21v-2",key:"eo0ou"}],["path",{d:"M3 5V3",key:"1k5hjh"}],["path",{d:"M4 10a2 2 0 0 1-2-2V6a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v2a2 2 0 0 1-2 2z",key:"1dd30t"}],["path",{d:"M7 5V3",key:"1t1388"}]],d1=Pt("cable",f2);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p2=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],hd=Pt("calculator",p2);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m2=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],mf=Pt("calendar",m2);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g2=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],u1=Pt("chart-column",g2);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x2=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],gf=Pt("chevron-down",x2);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y2=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],v2=Pt("chevron-left",y2);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b2=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],w2=Pt("chevron-right",b2);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Du=Pt("circle-alert",S2);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j2=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],en=Pt("circle-check-big",j2);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],h1=Pt("circle",k2);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C2=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Wf=Pt("clock",C2);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T2=[["path",{d:"m15 10 5 5-5 5",key:"qqa56n"}],["path",{d:"M4 4v7a4 4 0 0 0 4 4h12",key:"z08zvw"}]],f1=Pt("corner-down-right",T2);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A2=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Mf=Pt("dollar-sign",A2);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _2=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],B2=Pt("file-down",_2);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N2=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Df=Pt("file-text",N2);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]],p1=Pt("gauge",L2);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],m1=Pt("globe",R2);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P2=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],g1=Pt("house",P2);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],co=Pt("info",I2);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E2=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],x1=Pt("lightbulb",E2);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],F2=Pt("lock",z2);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],W2=Pt("log-out",O2);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M2=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],m0=Pt("mail",M2);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D2=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],y1=Pt("map-pin",D2);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],V2=Pt("menu",$2);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=[["path",{d:"M3 20h4.5a.5.5 0 0 0 .5-.5v-.282a.52.52 0 0 0-.247-.437 8 8 0 1 1 8.494-.001.52.52 0 0 0-.247.438v.282a.5.5 0 0 0 .5.5H21",key:"1x94xo"}]],v1=Pt("omega",U2);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],b1=Pt("package",q2);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]],w1=Pt("plug",H2);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Sl=Pt("plus",G2);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],S1=Pt("radio",K2);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],J2=Pt("search",Y2);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],j1=Pt("settings",X2);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z2=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Q2=Pt("shield",Z2);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ex=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}],["line",{x1:"12",x2:"12",y1:"16",y2:"16",key:"aqc6ln"}],["line",{x1:"12",x2:"12",y1:"8",y2:"8",key:"1mkcni"}]],k1=Pt("square-divide",ex);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],C1=Pt("square-pen",tx);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=[["path",{d:"M4 4v16",key:"6qkkli"}],["path",{d:"M9 4v16",key:"81ygyz"}],["path",{d:"M14 4v16",key:"12vmem"}]],T1=Pt("tally-3",rx);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],A1=Pt("target",nx);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],jl=Pt("trash-2",ix);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],_1=Pt("trending-down",ox);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],sx=Pt("trending-up",ax);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],_l=Pt("triangle-alert",lx);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cx=[["path",{d:"M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"14u9p9"}]],B1=Pt("triangle",cx);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Bu=Pt("user",dx);function ux({onSelectCalculator:r,isDarkMode:t}){const[e,a]=ve.useState(""),s=[{name:"Power Calculations",calculators:[{id:"voltage-drop",name:"Voltage Drop",icon:_1,keywords:"voltage drop vd wire circuit"},{id:"ohms-law",name:"Ohm's Law",icon:k1,keywords:"ohms law voltage current resistance power series parallel circuit"},{id:"reactance-impedance",name:"Reactance",icon:v1,keywords:"reactance impedance xl xc capacitive inductive resonance frequency ac circuit"},{id:"power-factor",name:"Power Factor",icon:A1,keywords:"power factor correction pf capacitor kvar cos phi efficiency demand charge penalty savings"},{id:"power-triangle",name:"Power Triangle",icon:B1,keywords:"power triangle kva kw kvar apparent real reactive power factor angle phase"},{id:"three-phase-power",name:"Three-Phase",icon:T1,keywords:"three phase power 3 phase current voltage kw kva motor industrial commercial wye delta line"}]},{name:"Sizing & Rating",calculators:[{id:"ampacity",name:"Ampacity",icon:d1,keywords:"ampacity current rating 310 temperature"},{id:"load-calculations",name:"Load Calculations",icon:u1,keywords:"load calculation service size residential commercial demand"},{id:"service-entrance",name:"Service Entrance",icon:c1,keywords:"service entrance sizing panel main 230"},{id:"grounding-bonding",name:"Grounding & Bonding",icon:m1,keywords:"grounding bonding ground electrode equipment gec egc jumper 250"}]},{name:"Equipment",calculators:[{id:"motor-calculations",name:"Motors",icon:j1,keywords:"motor flc protection starter 430"},{id:"transformer-sizing",name:"Transformers",icon:S1,keywords:"transformer kva sizing current primary secondary 450"},{id:"vfd-sizing",name:"VFD Sizing",icon:p1,keywords:"vfd variable frequency drive motor speed control inverter ac drive"}]},{name:"Installation",calculators:[{id:"box-fill",name:"Box Fill",icon:b1,keywords:"box fill junction cubic inch volume 314"},{id:"conduit-fill",name:"Conduit Fill",icon:h1,keywords:"conduit fill emt pvc rigid raceway chapter 9"},{id:"conduit-bending",name:"Conduit Bending",icon:f1,keywords:"conduit bending offset saddle stub bend emt"},{id:"receptacles",name:"Receptacles",icon:w1,keywords:"receptacle outlet gfci plug socket 210.52 counter kitchen bathroom wall spacing"},{id:"lighting",name:"Lighting",icon:x1,keywords:"lighting lumens foot candles fixtures spacing watts illumination"}]}],l={"Power Calculations":"#3b82f6","Sizing & Rating":"#10b981",Equipment:"#f59e0b",Installation:"#8b5cf6",Safety:"#ef4444"},d={mainBg:t?"#000000":"#f9fafb",cardBg:t?"#0a0a0a":"#ffffff",cardBorder:t?"#1a1a1a":"#e5e7eb",cardText:t?"#ffffff":"#111827",inputBg:t?"#0a0a0a":"#f9fafb",inputBorder:t?"#1a1a1a":"#e5e7eb",inputText:t?"#ffffff":"#111827",placeholderText:t?"#666666":"#6b7280",categoryHeaderText:t?"#cccccc":"#4b5563"},u=s.flatMap(p=>p.calculators.map(y=>({...y,category:p.name}))),m=e?u.filter(p=>{const y=e.toLowerCase();return p.name.toLowerCase().includes(y)||p.keywords.toLowerCase().includes(y)}):null;return n.jsx("div",{style:{minHeight:"100vh",background:d.mainBg,padding:"0"},children:n.jsx("div",{style:{maxWidth:"64rem",margin:"0 auto"},children:n.jsxs("div",{style:{padding:"1.25rem",boxSizing:"border-box"},children:[n.jsxs("div",{style:{marginBottom:"1.5rem",position:"relative"},children:[n.jsx(J2,{size:20,style:{position:"absolute",left:"1rem",top:"50%",transform:"translateY(-50%)",color:d.placeholderText}}),n.jsx("input",{type:"text",placeholder:"Search calculators...",value:e,onChange:p=>a(p.target.value),style:{width:"100%",padding:"0.875rem 1rem 0.875rem 3rem",fontSize:"0.9375rem",border:`1px solid ${d.inputBorder}`,borderRadius:"12px",backgroundColor:d.inputBg,color:d.inputText,boxSizing:"border-box",outline:"none",transition:"all 0.2s ease"},onFocus:p=>{p.target.style.borderColor="#3b82f6",p.target.style.backgroundColor=t?"#000000":"#ffffff",p.target.style.boxShadow="0 0 0 3px rgba(59, 130, 246, 0.1)"},onBlur:p=>{p.target.style.borderColor=d.inputBorder,p.target.style.backgroundColor=d.inputBg,p.target.style.boxShadow="none"}})]}),m?n.jsxs("div",{children:[n.jsxs("div",{style:{fontSize:"0.875rem",color:d.placeholderText,marginBottom:"1rem",paddingLeft:"0"},children:[m.length," ",m.length===1?"result":"results"," found"]}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, minmax(0, 1fr))",gap:"1.25rem",marginBottom:"1rem",boxSizing:"border-box",width:"100%"},children:m.length>0?m.map(p=>{const y=p.icon,j=l[p.category]||"#3b82f6";return n.jsxs("div",{onClick:()=>{console.log("Clicked calculator:",p.id),r(p.id)},style:{cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem"},children:[n.jsx("button",{style:{backgroundColor:d.cardBg,border:`1px solid ${d.cardBorder}`,borderRadius:"12px",padding:"0",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",width:"70px",height:"70px",minWidth:"70px",minHeight:"70px",maxWidth:"70px",maxHeight:"70px",flexShrink:0,boxShadow:"none",transition:"all 0.25s cubic-bezier(0.4, 0, 0.2, 1)",position:"relative",overflow:"hidden"},onMouseOver:_=>{_.currentTarget.style.transform="translateY(-4px) scale(1.05)",_.currentTarget.style.backgroundColor=t?"#1a1a1a":"#f9fafb",_.currentTarget.style.borderColor=j,_.currentTarget.style.boxShadow=`0 8px 16px ${j}20`},onMouseOut:_=>{_.currentTarget.style.transform="translateY(0) scale(1)",_.currentTarget.style.backgroundColor=d.cardBg,_.currentTarget.style.borderColor=d.cardBorder,_.currentTarget.style.boxShadow="none"},onMouseDown:_=>{_.currentTarget.style.transform="translateY(-2px) scale(0.95)"},onMouseUp:_=>{_.currentTarget.style.transform="translateY(-4px) scale(1.05)"},children:n.jsx(y,{size:28,strokeWidth:2,color:j})}),n.jsx("div",{style:{fontSize:"0.75rem",fontWeight:"600",textAlign:"center",lineHeight:"1.2",color:d.cardText,maxWidth:"90px"},children:p.name})]},p.id)}):n.jsx("div",{style:{gridColumn:"1 / -1",textAlign:"center",padding:"3rem 1rem",color:d.placeholderText,fontSize:"0.9375rem"},children:"No calculators found"})})]}):s.map((p,y)=>n.jsxs("div",{style:{marginBottom:"2rem"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"1rem",paddingLeft:"0"},children:[n.jsx("div",{style:{width:"4px",height:"20px",backgroundColor:l[p.name],borderRadius:"2px"}}),n.jsx("h3",{style:{fontSize:"1rem",fontWeight:"600",color:d.categoryHeaderText,margin:0,letterSpacing:"-0.01em"},children:p.name})]}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, minmax(0, 1fr))",gap:"1.25rem",marginBottom:y<s.length-1?"1.5rem":"1rem",boxSizing:"border-box",width:"100%"},children:p.calculators.map(j=>{const _=j.icon,x=l[p.name];return n.jsxs("div",{onClick:()=>{console.log("Clicked calculator:",j.id),r(j.id)},style:{cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem"},children:[n.jsx("button",{style:{backgroundColor:d.cardBg,border:`1px solid ${d.cardBorder}`,borderRadius:"12px",padding:"0",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",width:"70px",height:"70px",minWidth:"70px",minHeight:"70px",maxWidth:"70px",maxHeight:"70px",flexShrink:0,boxShadow:"none",transition:"all 0.25s cubic-bezier(0.4, 0, 0.2, 1)",position:"relative",overflow:"hidden"},onMouseOver:P=>{P.currentTarget.style.transform="translateY(-4px) scale(1.05)",P.currentTarget.style.backgroundColor=t?"#1a1a1a":"#f9fafb",P.currentTarget.style.borderColor=x,P.currentTarget.style.boxShadow=`0 8px 16px ${x}20`},onMouseOut:P=>{P.currentTarget.style.transform="translateY(0) scale(1)",P.currentTarget.style.backgroundColor=d.cardBg,P.currentTarget.style.borderColor=d.cardBorder,P.currentTarget.style.boxShadow="none"},onMouseDown:P=>{P.currentTarget.style.transform="translateY(-2px) scale(0.95)"},onMouseUp:P=>{P.currentTarget.style.transform="translateY(-4px) scale(1.05)"},children:n.jsx(_,{size:28,strokeWidth:2,color:x})}),n.jsx("div",{style:{fontSize:"0.75rem",fontWeight:"600",textAlign:"center",lineHeight:"1.2",color:d.cardText,maxWidth:"90px"},children:j.name})]},j.id)})})]},p.name))]})})})}const hx="modulepreload",fx=function(r){return"/electrician-toolkit/"+r},g0={},Wh=function(t,e,a){let s=Promise.resolve();if(e&&e.length>0){let d=function(p){return Promise.all(p.map(y=>Promise.resolve(y).then(j=>({status:"fulfilled",value:j}),j=>({status:"rejected",reason:j}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),m=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));s=d(e.map(p=>{if(p=fx(p),p in g0)return;g0[p]=!0;const y=p.endsWith(".css"),j=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${j}`))return;const _=document.createElement("link");if(_.rel=y?"stylesheet":hx,y||(_.as="script"),_.crossOrigin="",_.href=p,m&&_.setAttribute("nonce",m),document.head.appendChild(_),y)return new Promise((x,P)=>{_.addEventListener("load",x),_.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${p}`)))})}))}function l(d){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=d,window.dispatchEvent(u),!u.defaultPrevented)throw d}return s.then(d=>{for(const u of d||[])u.status==="rejected"&&l(u.reason);return t().catch(l)})};function ur(r){"@babel/helpers - typeof";return ur=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ur(r)}var Eo=Uint8Array,Ui=Uint16Array,$f=Int32Array,Vf=new Eo([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Uf=new Eo([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),x0=new Eo([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),N1=function(r,t){for(var e=new Ui(31),a=0;a<31;++a)e[a]=t+=1<<r[a-1];for(var s=new $f(e[30]),a=1;a<30;++a)for(var l=e[a];l<e[a+1];++l)s[l]=l-e[a]<<5|a;return{b:e,r:s}},L1=N1(Vf,2),px=L1.b,xf=L1.r;px[28]=258,xf[258]=28;var mx=N1(Uf,0),y0=mx.r,yf=new Ui(32768);for(var Ar=0;Ar<32768;++Ar){var Ns=(Ar&43690)>>1|(Ar&21845)<<1;Ns=(Ns&52428)>>2|(Ns&13107)<<2,Ns=(Ns&61680)>>4|(Ns&3855)<<4,yf[Ar]=((Ns&65280)>>8|(Ns&255)<<8)>>1}var ld=(function(r,t,e){for(var a=r.length,s=0,l=new Ui(t);s<a;++s)r[s]&&++l[r[s]-1];var d=new Ui(t);for(s=1;s<t;++s)d[s]=d[s-1]+l[s-1]<<1;var u;if(e){u=new Ui(1<<t);var m=15-t;for(s=0;s<a;++s)if(r[s])for(var p=s<<4|r[s],y=t-r[s],j=d[r[s]-1]++<<y,_=j|(1<<y)-1;j<=_;++j)u[yf[j]>>m]=p}else for(u=new Ui(a),s=0;s<a;++s)r[s]&&(u[s]=yf[d[r[s]-1]++]>>15-r[s]);return u}),kl=new Eo(288);for(var Ar=0;Ar<144;++Ar)kl[Ar]=8;for(var Ar=144;Ar<256;++Ar)kl[Ar]=9;for(var Ar=256;Ar<280;++Ar)kl[Ar]=7;for(var Ar=280;Ar<288;++Ar)kl[Ar]=8;var Nu=new Eo(32);for(var Ar=0;Ar<32;++Ar)Nu[Ar]=5;var gx=ld(kl,9,0),xx=ld(Nu,5,0),R1=function(r){return(r+7)/8|0},yx=function(r,t,e){return(e==null||e>r.length)&&(e=r.length),new Eo(r.subarray(t,e))},Va=function(r,t,e){e<<=t&7;var a=t/8|0;r[a]|=e,r[a+1]|=e>>8},id=function(r,t,e){e<<=t&7;var a=t/8|0;r[a]|=e,r[a+1]|=e>>8,r[a+2]|=e>>16},Mh=function(r,t){for(var e=[],a=0;a<r.length;++a)r[a]&&e.push({s:a,f:r[a]});var s=e.length,l=e.slice();if(!s)return{t:I1,l:0};if(s==1){var d=new Eo(e[0].s+1);return d[e[0].s]=1,{t:d,l:1}}e.sort(function(H,ee){return H.f-ee.f}),e.push({s:-1,f:25001});var u=e[0],m=e[1],p=0,y=1,j=2;for(e[0]={s:-1,f:u.f+m.f,l:u,r:m};y!=s-1;)u=e[e[p].f<e[j].f?p++:j++],m=e[p!=y&&e[p].f<e[j].f?p++:j++],e[y++]={s:-1,f:u.f+m.f,l:u,r:m};for(var _=l[0].s,a=1;a<s;++a)l[a].s>_&&(_=l[a].s);var x=new Ui(_+1),P=vf(e[y-1],x,0);if(P>t){var a=0,A=0,C=P-t,S=1<<C;for(l.sort(function(ee,ce){return x[ce.s]-x[ee.s]||ee.f-ce.f});a<s;++a){var F=l[a].s;if(x[F]>t)A+=S-(1<<P-x[F]),x[F]=t;else break}for(A>>=C;A>0;){var O=l[a].s;x[O]<t?A-=1<<t-x[O]++-1:++a}for(;a>=0&&A;--a){var B=l[a].s;x[B]==t&&(--x[B],++A)}P=t}return{t:new Eo(x),l:P}},vf=function(r,t,e){return r.s==-1?Math.max(vf(r.l,t,e+1),vf(r.r,t,e+1)):t[r.s]=e},v0=function(r){for(var t=r.length;t&&!r[--t];);for(var e=new Ui(++t),a=0,s=r[0],l=1,d=function(m){e[a++]=m},u=1;u<=t;++u)if(r[u]==s&&u!=t)++l;else{if(!s&&l>2){for(;l>138;l-=138)d(32754);l>2&&(d(l>10?l-11<<5|28690:l-3<<5|12305),l=0)}else if(l>3){for(d(s),--l;l>6;l-=6)d(8304);l>2&&(d(l-3<<5|8208),l=0)}for(;l--;)d(s);l=1,s=r[u]}return{c:e.subarray(0,a),n:t}},od=function(r,t){for(var e=0,a=0;a<t.length;++a)e+=r[a]*t[a];return e},P1=function(r,t,e){var a=e.length,s=R1(t+2);r[s]=a&255,r[s+1]=a>>8,r[s+2]=r[s]^255,r[s+3]=r[s+1]^255;for(var l=0;l<a;++l)r[s+l+4]=e[l];return(s+4+a)*8},b0=function(r,t,e,a,s,l,d,u,m,p,y){Va(t,y++,e),++s[256];for(var j=Mh(s,15),_=j.t,x=j.l,P=Mh(l,15),A=P.t,C=P.l,S=v0(_),F=S.c,O=S.n,B=v0(A),H=B.c,ee=B.n,ce=new Ui(19),W=0;W<F.length;++W)++ce[F[W]&31];for(var W=0;W<H.length;++W)++ce[H[W]&31];for(var I=Mh(ce,7),J=I.t,D=I.l,k=19;k>4&&!J[x0[k-1]];--k);var X=p+5<<3,R=od(s,kl)+od(l,Nu)+d,se=od(s,_)+od(l,A)+d+14+3*k+od(ce,J)+2*ce[16]+3*ce[17]+7*ce[18];if(m>=0&&X<=R&&X<=se)return P1(t,y,r.subarray(m,m+p));var xe,de,oe,be;if(Va(t,y,1+(se<R)),y+=2,se<R){xe=ld(_,x,0),de=_,oe=ld(A,C,0),be=A;var je=ld(J,D,0);Va(t,y,O-257),Va(t,y+5,ee-1),Va(t,y+10,k-4),y+=14;for(var W=0;W<k;++W)Va(t,y+3*W,J[x0[W]]);y+=3*k;for(var Q=[F,H],L=0;L<2;++L)for(var U=Q[L],W=0;W<U.length;++W){var M=U[W]&31;Va(t,y,je[M]),y+=J[M],M>15&&(Va(t,y,U[W]>>5&127),y+=U[W]>>12)}}else xe=gx,de=kl,oe=xx,be=Nu;for(var W=0;W<u;++W){var K=a[W];if(K>255){var M=K>>18&31;id(t,y,xe[M+257]),y+=de[M+257],M>7&&(Va(t,y,K>>23&31),y+=Vf[M]);var Z=K&31;id(t,y,oe[Z]),y+=be[Z],Z>3&&(id(t,y,K>>5&8191),y+=Uf[Z])}else id(t,y,xe[K]),y+=de[K]}return id(t,y,xe[256]),y+de[256]},vx=new $f([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),I1=new Eo(0),bx=function(r,t,e,a,s,l){var d=l.z||r.length,u=new Eo(a+d+5*(1+Math.ceil(d/7e3))+s),m=u.subarray(a,u.length-s),p=l.l,y=(l.r||0)&7;if(t){y&&(m[0]=l.r>>3);for(var j=vx[t-1],_=j>>13,x=j&8191,P=(1<<e)-1,A=l.p||new Ui(32768),C=l.h||new Ui(P+1),S=Math.ceil(e/3),F=2*S,O=function(Le){return(r[Le]^r[Le+1]<<S^r[Le+2]<<F)&P},B=new $f(25e3),H=new Ui(288),ee=new Ui(32),ce=0,W=0,I=l.i||0,J=0,D=l.w||0,k=0;I+2<d;++I){var X=O(I),R=I&32767,se=C[X];if(A[R]=se,C[X]=R,D<=I){var xe=d-I;if((ce>7e3||J>24576)&&(xe>423||!p)){y=b0(r,m,0,B,H,ee,W,J,k,I-k,y),J=ce=W=0,k=I;for(var de=0;de<286;++de)H[de]=0;for(var de=0;de<30;++de)ee[de]=0}var oe=2,be=0,je=x,Q=R-se&32767;if(xe>2&&X==O(I-Q))for(var L=Math.min(_,xe)-1,U=Math.min(32767,I),M=Math.min(258,xe);Q<=U&&--je&&R!=se;){if(r[I+oe]==r[I+oe-Q]){for(var K=0;K<M&&r[I+K]==r[I+K-Q];++K);if(K>oe){if(oe=K,be=Q,K>L)break;for(var Z=Math.min(Q,K-2),ae=0,de=0;de<Z;++de){var he=I-Q+de&32767,pe=A[he],ue=he-pe&32767;ue>ae&&(ae=ue,se=he)}}}R=se,se=A[R],Q+=R-se&32767}if(be){B[J++]=268435456|xf[oe]<<18|y0[be];var Te=xf[oe]&31,Oe=y0[be]&31;W+=Vf[Te]+Uf[Oe],++H[257+Te],++ee[Oe],D=I+oe,++ce}else B[J++]=r[I],++H[r[I]]}}for(I=Math.max(I,D);I<d;++I)B[J++]=r[I],++H[r[I]];y=b0(r,m,p,B,H,ee,W,J,k,I-k,y),p||(l.r=y&7|m[y/8|0]<<3,y-=7,l.h=C,l.p=A,l.i=I,l.w=D)}else{for(var I=l.w||0;I<d+p;I+=65535){var We=I+65535;We>=d&&(m[y/8|0]=p,We=d),y=P1(m,y+1,r.subarray(I,We))}l.i=d}return yx(u,0,a+R1(y)+s)},E1=function(){var r=1,t=0;return{p:function(e){for(var a=r,s=t,l=e.length|0,d=0;d!=l;){for(var u=Math.min(d+2655,l);d<u;++d)s+=a+=e[d];a=(a&65535)+15*(a>>16),s=(s&65535)+15*(s>>16)}r=a,t=s},d:function(){return r%=65521,t%=65521,(r&255)<<24|(r&65280)<<8|(t&255)<<8|t>>8}}},wx=function(r,t,e,a,s){if(!s&&(s={l:1},t.dictionary)){var l=t.dictionary.subarray(-32768),d=new Eo(l.length+r.length);d.set(l),d.set(r,l.length),r=d,s.w=l.length}return bx(r,t.level==null?6:t.level,t.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):20:12+t.mem,e,a,s)},z1=function(r,t,e){for(;e;++t)r[t]=e,e>>>=8},Sx=function(r,t){var e=t.level,a=e==0?0:e<6?1:e==9?3:2;if(r[0]=120,r[1]=a<<6|(t.dictionary&&32),r[1]|=31-(r[0]<<8|r[1])%31,t.dictionary){var s=E1();s.p(t.dictionary),z1(r,2,s.d())}};function bf(r,t){t||(t={});var e=E1();e.p(r);var a=wx(r,t,t.dictionary?6:2,4);return Sx(a,t),z1(a,a.length-4,e.d()),a}var jx=typeof TextDecoder<"u"&&new TextDecoder,kx=0;try{jx.decode(I1,{stream:!0}),kx=1}catch{}function Cx(r){if(Array.isArray(r))return r}function Tx(r,t){var e=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(e!=null){var a,s,l,d,u=[],m=!0,p=!1;try{if(l=(e=e.call(r)).next,t!==0)for(;!(m=(a=l.call(e)).done)&&(u.push(a.value),u.length!==t);m=!0);}catch(y){p=!0,s=y}finally{try{if(!m&&e.return!=null&&(d=e.return(),Object(d)!==d))return}finally{if(p)throw s}}return u}}function w0(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,a=Array(t);e<t;e++)a[e]=r[e];return a}function Ax(r,t){if(r){if(typeof r=="string")return w0(r,t);var e={}.toString.call(r).slice(8,-1);return e==="Object"&&r.constructor&&(e=r.constructor.name),e==="Map"||e==="Set"?Array.from(r):e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?w0(r,t):void 0}}function _x(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S0(r,t){return Cx(r)||Tx(r,t)||Ax(r,t)||_x()}function j0(r,t="utf8"){return new TextDecoder(t).decode(r)}const Bx=new TextEncoder;function Nx(r){return Bx.encode(r)}const Lx=1024*8,Rx=(()=>{const r=new Uint8Array(4),t=new Uint32Array(r.buffer);return!((t[0]=1)&r[0])})(),Dh={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class qf{constructor(t=Lx,e={}){dr(this,"buffer");dr(this,"byteLength");dr(this,"byteOffset");dr(this,"length");dr(this,"offset");dr(this,"lastWrittenByte");dr(this,"littleEndian");dr(this,"_data");dr(this,"_mark");dr(this,"_marks");let a=!1;typeof t=="number"?t=new ArrayBuffer(t):(a=!0,this.lastWrittenByte=t.byteLength);const s=e.offset?e.offset>>>0:0,l=t.byteLength-s;let d=s;(ArrayBuffer.isView(t)||t instanceof qf)&&(t.byteLength!==t.buffer.byteLength&&(d=t.byteOffset+s),t=t.buffer),a?this.lastWrittenByte=l:this.lastWrittenByte=0,this.buffer=t,this.length=l,this.byteLength=l,this.byteOffset=d,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,d,l),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const a=(this.offset+t)*2,s=new Uint8Array(a);s.set(new Uint8Array(this.buffer)),this.buffer=s.buffer,this.length=a,this.byteLength=a,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,e){const a=Dh[e].BYTES_PER_ELEMENT*t,s=this.byteOffset+this.offset,l=this.buffer.slice(s,s+a);if(this.littleEndian===Rx&&e!=="uint8"&&e!=="int8"){const u=new Uint8Array(this.buffer.slice(s,s+a));u.reverse();const m=new Dh[e](u.buffer);return this.offset+=a,m.reverse(),m}const d=new Dh[e](l);return this.offset+=a,d}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let e="";for(let a=0;a<t;a++)e+=this.readChar();return e}readUtf8(t=1){return j0(this.readBytes(t))}decodeText(t=1,e="utf8"){return j0(this.readBytes(t),e)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let e=0;e<t.length;e++)this._data.setUint8(this.offset++,t[e]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let e=0;e<t.length;e++)this.writeUint8(t.charCodeAt(e));return this}writeUtf8(t){return this.writeBytes(Nx(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function _c(r){let t=r.length;for(;--t>=0;)r[t]=0}const Px=3,Ix=258,F1=29,Ex=256,zx=Ex+1+F1,O1=30,Fx=512,Ox=new Array((zx+2)*2);_c(Ox);const Wx=new Array(O1*2);_c(Wx);const Mx=new Array(Fx);_c(Mx);const Dx=new Array(Ix-Px+1);_c(Dx);const $x=new Array(F1);_c($x);const Vx=new Array(O1);_c(Vx);const Ux=(r,t,e,a)=>{let s=r&65535|0,l=r>>>16&65535|0,d=0;for(;e!==0;){d=e>2e3?2e3:e,e-=d;do s=s+t[a++]|0,l=l+s|0;while(--d);s%=65521,l%=65521}return s|l<<16|0};var wf=Ux;const qx=()=>{let r,t=[];for(var e=0;e<256;e++){r=e;for(var a=0;a<8;a++)r=r&1?3988292384^r>>>1:r>>>1;t[e]=r}return t},Hx=new Uint32Array(qx()),Gx=(r,t,e,a)=>{const s=Hx,l=a+e;r^=-1;for(let d=a;d<l;d++)r=r>>>8^s[(r^t[d])&255];return r^-1};var na=Gx,Sf={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},W1={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const Kx=(r,t)=>Object.prototype.hasOwnProperty.call(r,t);var Yx=function(r){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const e=t.shift();if(e){if(typeof e!="object")throw new TypeError(e+"must be non-object");for(const a in e)Kx(e,a)&&(r[a]=e[a])}}return r},Jx=r=>{let t=0;for(let a=0,s=r.length;a<s;a++)t+=r[a].length;const e=new Uint8Array(t);for(let a=0,s=0,l=r.length;a<l;a++){let d=r[a];e.set(d,s),s+=d.length}return e},M1={assign:Yx,flattenChunks:Jx};let D1=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{D1=!1}const fd=new Uint8Array(256);for(let r=0;r<256;r++)fd[r]=r>=252?6:r>=248?5:r>=240?4:r>=224?3:r>=192?2:1;fd[254]=fd[254]=1;var Xx=r=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(r);let t,e,a,s,l,d=r.length,u=0;for(s=0;s<d;s++)e=r.charCodeAt(s),(e&64512)===55296&&s+1<d&&(a=r.charCodeAt(s+1),(a&64512)===56320&&(e=65536+(e-55296<<10)+(a-56320),s++)),u+=e<128?1:e<2048?2:e<65536?3:4;for(t=new Uint8Array(u),l=0,s=0;l<u;s++)e=r.charCodeAt(s),(e&64512)===55296&&s+1<d&&(a=r.charCodeAt(s+1),(a&64512)===56320&&(e=65536+(e-55296<<10)+(a-56320),s++)),e<128?t[l++]=e:e<2048?(t[l++]=192|e>>>6,t[l++]=128|e&63):e<65536?(t[l++]=224|e>>>12,t[l++]=128|e>>>6&63,t[l++]=128|e&63):(t[l++]=240|e>>>18,t[l++]=128|e>>>12&63,t[l++]=128|e>>>6&63,t[l++]=128|e&63);return t};const Zx=(r,t)=>{if(t<65534&&r.subarray&&D1)return String.fromCharCode.apply(null,r.length===t?r:r.subarray(0,t));let e="";for(let a=0;a<t;a++)e+=String.fromCharCode(r[a]);return e};var Qx=(r,t)=>{const e=t||r.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(r.subarray(0,t));let a,s;const l=new Array(e*2);for(s=0,a=0;a<e;){let d=r[a++];if(d<128){l[s++]=d;continue}let u=fd[d];if(u>4){l[s++]=65533,a+=u-1;continue}for(d&=u===2?31:u===3?15:7;u>1&&a<e;)d=d<<6|r[a++]&63,u--;if(u>1){l[s++]=65533;continue}d<65536?l[s++]=d:(d-=65536,l[s++]=55296|d>>10&1023,l[s++]=56320|d&1023)}return Zx(l,s)},ey=(r,t)=>{t=t||r.length,t>r.length&&(t=r.length);let e=t-1;for(;e>=0&&(r[e]&192)===128;)e--;return e<0||e===0?t:e+fd[r[e]]>t?e:t},jf={string2buf:Xx,buf2string:Qx,utf8border:ey};function ty(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var ry=ty;const lu=16209,ny=16191;var iy=function(t,e){let a,s,l,d,u,m,p,y,j,_,x,P,A,C,S,F,O,B,H,ee,ce,W,I,J;const D=t.state;a=t.next_in,I=t.input,s=a+(t.avail_in-5),l=t.next_out,J=t.output,d=l-(e-t.avail_out),u=l+(t.avail_out-257),m=D.dmax,p=D.wsize,y=D.whave,j=D.wnext,_=D.window,x=D.hold,P=D.bits,A=D.lencode,C=D.distcode,S=(1<<D.lenbits)-1,F=(1<<D.distbits)-1;e:do{P<15&&(x+=I[a++]<<P,P+=8,x+=I[a++]<<P,P+=8),O=A[x&S];t:for(;;){if(B=O>>>24,x>>>=B,P-=B,B=O>>>16&255,B===0)J[l++]=O&65535;else if(B&16){H=O&65535,B&=15,B&&(P<B&&(x+=I[a++]<<P,P+=8),H+=x&(1<<B)-1,x>>>=B,P-=B),P<15&&(x+=I[a++]<<P,P+=8,x+=I[a++]<<P,P+=8),O=C[x&F];r:for(;;){if(B=O>>>24,x>>>=B,P-=B,B=O>>>16&255,B&16){if(ee=O&65535,B&=15,P<B&&(x+=I[a++]<<P,P+=8,P<B&&(x+=I[a++]<<P,P+=8)),ee+=x&(1<<B)-1,ee>m){t.msg="invalid distance too far back",D.mode=lu;break e}if(x>>>=B,P-=B,B=l-d,ee>B){if(B=ee-B,B>y&&D.sane){t.msg="invalid distance too far back",D.mode=lu;break e}if(ce=0,W=_,j===0){if(ce+=p-B,B<H){H-=B;do J[l++]=_[ce++];while(--B);ce=l-ee,W=J}}else if(j<B){if(ce+=p+j-B,B-=j,B<H){H-=B;do J[l++]=_[ce++];while(--B);if(ce=0,j<H){B=j,H-=B;do J[l++]=_[ce++];while(--B);ce=l-ee,W=J}}}else if(ce+=j-B,B<H){H-=B;do J[l++]=_[ce++];while(--B);ce=l-ee,W=J}for(;H>2;)J[l++]=W[ce++],J[l++]=W[ce++],J[l++]=W[ce++],H-=3;H&&(J[l++]=W[ce++],H>1&&(J[l++]=W[ce++]))}else{ce=l-ee;do J[l++]=J[ce++],J[l++]=J[ce++],J[l++]=J[ce++],H-=3;while(H>2);H&&(J[l++]=J[ce++],H>1&&(J[l++]=J[ce++]))}}else if((B&64)===0){O=C[(O&65535)+(x&(1<<B)-1)];continue r}else{t.msg="invalid distance code",D.mode=lu;break e}break}}else if((B&64)===0){O=A[(O&65535)+(x&(1<<B)-1)];continue t}else if(B&32){D.mode=ny;break e}else{t.msg="invalid literal/length code",D.mode=lu;break e}break}}while(a<s&&l<u);H=P>>3,a-=H,P-=H<<3,x&=(1<<P)-1,t.next_in=a,t.next_out=l,t.avail_in=a<s?5+(s-a):5-(a-s),t.avail_out=l<u?257+(u-l):257-(l-u),D.hold=x,D.bits=P};const dc=15,k0=852,C0=592,T0=0,$h=1,A0=2,oy=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),ay=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),sy=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),ly=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),cy=(r,t,e,a,s,l,d,u)=>{const m=u.bits;let p=0,y=0,j=0,_=0,x=0,P=0,A=0,C=0,S=0,F=0,O,B,H,ee,ce,W=null,I;const J=new Uint16Array(dc+1),D=new Uint16Array(dc+1);let k=null,X,R,se;for(p=0;p<=dc;p++)J[p]=0;for(y=0;y<a;y++)J[t[e+y]]++;for(x=m,_=dc;_>=1&&J[_]===0;_--);if(x>_&&(x=_),_===0)return s[l++]=1<<24|64<<16|0,s[l++]=1<<24|64<<16|0,u.bits=1,0;for(j=1;j<_&&J[j]===0;j++);for(x<j&&(x=j),C=1,p=1;p<=dc;p++)if(C<<=1,C-=J[p],C<0)return-1;if(C>0&&(r===T0||_!==1))return-1;for(D[1]=0,p=1;p<dc;p++)D[p+1]=D[p]+J[p];for(y=0;y<a;y++)t[e+y]!==0&&(d[D[t[e+y]]++]=y);if(r===T0?(W=k=d,I=20):r===$h?(W=oy,k=ay,I=257):(W=sy,k=ly,I=0),F=0,y=0,p=j,ce=l,P=x,A=0,H=-1,S=1<<x,ee=S-1,r===$h&&S>k0||r===A0&&S>C0)return 1;for(;;){X=p-A,d[y]+1<I?(R=0,se=d[y]):d[y]>=I?(R=k[d[y]-I],se=W[d[y]-I]):(R=96,se=0),O=1<<p-A,B=1<<P,j=B;do B-=O,s[ce+(F>>A)+B]=X<<24|R<<16|se|0;while(B!==0);for(O=1<<p-1;F&O;)O>>=1;if(O!==0?(F&=O-1,F+=O):F=0,y++,--J[p]===0){if(p===_)break;p=t[e+d[y]]}if(p>x&&(F&ee)!==H){for(A===0&&(A=x),ce+=j,P=p-A,C=1<<P;P+A<_&&(C-=J[P+A],!(C<=0));)P++,C<<=1;if(S+=1<<P,r===$h&&S>k0||r===A0&&S>C0)return 1;H=F&ee,s[H]=x<<24|P<<16|ce-l|0}}return F!==0&&(s[ce+F]=p-A<<24|64<<16|0),u.bits=x,0};var cd=cy;const dy=0,$1=1,V1=2,{Z_FINISH:_0,Z_BLOCK:uy,Z_TREES:cu,Z_OK:Cl,Z_STREAM_END:hy,Z_NEED_DICT:fy,Z_STREAM_ERROR:uo,Z_DATA_ERROR:U1,Z_MEM_ERROR:q1,Z_BUF_ERROR:py,Z_DEFLATED:B0}=W1,$u=16180,N0=16181,L0=16182,R0=16183,P0=16184,I0=16185,E0=16186,z0=16187,F0=16188,O0=16189,Lu=16190,Ua=16191,Vh=16192,W0=16193,Uh=16194,M0=16195,D0=16196,$0=16197,V0=16198,du=16199,uu=16200,U0=16201,q0=16202,H0=16203,G0=16204,K0=16205,qh=16206,Y0=16207,J0=16208,Ir=16209,H1=16210,G1=16211,my=852,gy=592,xy=15,yy=xy,X0=r=>(r>>>24&255)+(r>>>8&65280)+((r&65280)<<8)+((r&255)<<24);function vy(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Bl=r=>{if(!r)return 1;const t=r.state;return!t||t.strm!==r||t.mode<$u||t.mode>G1?1:0},K1=r=>{if(Bl(r))return uo;const t=r.state;return r.total_in=r.total_out=t.total=0,r.msg="",t.wrap&&(r.adler=t.wrap&1),t.mode=$u,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(my),t.distcode=t.distdyn=new Int32Array(gy),t.sane=1,t.back=-1,Cl},Y1=r=>{if(Bl(r))return uo;const t=r.state;return t.wsize=0,t.whave=0,t.wnext=0,K1(r)},J1=(r,t)=>{let e;if(Bl(r))return uo;const a=r.state;return t<0?(e=0,t=-t):(e=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?uo:(a.window!==null&&a.wbits!==t&&(a.window=null),a.wrap=e,a.wbits=t,Y1(r))},X1=(r,t)=>{if(!r)return uo;const e=new vy;r.state=e,e.strm=r,e.window=null,e.mode=$u;const a=J1(r,t);return a!==Cl&&(r.state=null),a},by=r=>X1(r,yy);let Z0=!0,Hh,Gh;const wy=r=>{if(Z0){Hh=new Int32Array(512),Gh=new Int32Array(32);let t=0;for(;t<144;)r.lens[t++]=8;for(;t<256;)r.lens[t++]=9;for(;t<280;)r.lens[t++]=7;for(;t<288;)r.lens[t++]=8;for(cd($1,r.lens,0,288,Hh,0,r.work,{bits:9}),t=0;t<32;)r.lens[t++]=5;cd(V1,r.lens,0,32,Gh,0,r.work,{bits:5}),Z0=!1}r.lencode=Hh,r.lenbits=9,r.distcode=Gh,r.distbits=5},Z1=(r,t,e,a)=>{let s;const l=r.state;return l.window===null&&(l.wsize=1<<l.wbits,l.wnext=0,l.whave=0,l.window=new Uint8Array(l.wsize)),a>=l.wsize?(l.window.set(t.subarray(e-l.wsize,e),0),l.wnext=0,l.whave=l.wsize):(s=l.wsize-l.wnext,s>a&&(s=a),l.window.set(t.subarray(e-a,e-a+s),l.wnext),a-=s,a?(l.window.set(t.subarray(e-a,e),0),l.wnext=a,l.whave=l.wsize):(l.wnext+=s,l.wnext===l.wsize&&(l.wnext=0),l.whave<l.wsize&&(l.whave+=s))),0},Sy=(r,t)=>{let e,a,s,l,d,u,m,p,y,j,_,x,P,A,C=0,S,F,O,B,H,ee,ce,W;const I=new Uint8Array(4);let J,D;const k=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Bl(r)||!r.output||!r.input&&r.avail_in!==0)return uo;e=r.state,e.mode===Ua&&(e.mode=Vh),d=r.next_out,s=r.output,m=r.avail_out,l=r.next_in,a=r.input,u=r.avail_in,p=e.hold,y=e.bits,j=u,_=m,W=Cl;e:for(;;)switch(e.mode){case $u:if(e.wrap===0){e.mode=Vh;break}for(;y<16;){if(u===0)break e;u--,p+=a[l++]<<y,y+=8}if(e.wrap&2&&p===35615){e.wbits===0&&(e.wbits=15),e.check=0,I[0]=p&255,I[1]=p>>>8&255,e.check=na(e.check,I,2,0),p=0,y=0,e.mode=N0;break}if(e.head&&(e.head.done=!1),!(e.wrap&1)||(((p&255)<<8)+(p>>8))%31){r.msg="incorrect header check",e.mode=Ir;break}if((p&15)!==B0){r.msg="unknown compression method",e.mode=Ir;break}if(p>>>=4,y-=4,ce=(p&15)+8,e.wbits===0&&(e.wbits=ce),ce>15||ce>e.wbits){r.msg="invalid window size",e.mode=Ir;break}e.dmax=1<<e.wbits,e.flags=0,r.adler=e.check=1,e.mode=p&512?O0:Ua,p=0,y=0;break;case N0:for(;y<16;){if(u===0)break e;u--,p+=a[l++]<<y,y+=8}if(e.flags=p,(e.flags&255)!==B0){r.msg="unknown compression method",e.mode=Ir;break}if(e.flags&57344){r.msg="unknown header flags set",e.mode=Ir;break}e.head&&(e.head.text=p>>8&1),e.flags&512&&e.wrap&4&&(I[0]=p&255,I[1]=p>>>8&255,e.check=na(e.check,I,2,0)),p=0,y=0,e.mode=L0;case L0:for(;y<32;){if(u===0)break e;u--,p+=a[l++]<<y,y+=8}e.head&&(e.head.time=p),e.flags&512&&e.wrap&4&&(I[0]=p&255,I[1]=p>>>8&255,I[2]=p>>>16&255,I[3]=p>>>24&255,e.check=na(e.check,I,4,0)),p=0,y=0,e.mode=R0;case R0:for(;y<16;){if(u===0)break e;u--,p+=a[l++]<<y,y+=8}e.head&&(e.head.xflags=p&255,e.head.os=p>>8),e.flags&512&&e.wrap&4&&(I[0]=p&255,I[1]=p>>>8&255,e.check=na(e.check,I,2,0)),p=0,y=0,e.mode=P0;case P0:if(e.flags&1024){for(;y<16;){if(u===0)break e;u--,p+=a[l++]<<y,y+=8}e.length=p,e.head&&(e.head.extra_len=p),e.flags&512&&e.wrap&4&&(I[0]=p&255,I[1]=p>>>8&255,e.check=na(e.check,I,2,0)),p=0,y=0}else e.head&&(e.head.extra=null);e.mode=I0;case I0:if(e.flags&1024&&(x=e.length,x>u&&(x=u),x&&(e.head&&(ce=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Uint8Array(e.head.extra_len)),e.head.extra.set(a.subarray(l,l+x),ce)),e.flags&512&&e.wrap&4&&(e.check=na(e.check,a,x,l)),u-=x,l+=x,e.length-=x),e.length))break e;e.length=0,e.mode=E0;case E0:if(e.flags&2048){if(u===0)break e;x=0;do ce=a[l+x++],e.head&&ce&&e.length<65536&&(e.head.name+=String.fromCharCode(ce));while(ce&&x<u);if(e.flags&512&&e.wrap&4&&(e.check=na(e.check,a,x,l)),u-=x,l+=x,ce)break e}else e.head&&(e.head.name=null);e.length=0,e.mode=z0;case z0:if(e.flags&4096){if(u===0)break e;x=0;do ce=a[l+x++],e.head&&ce&&e.length<65536&&(e.head.comment+=String.fromCharCode(ce));while(ce&&x<u);if(e.flags&512&&e.wrap&4&&(e.check=na(e.check,a,x,l)),u-=x,l+=x,ce)break e}else e.head&&(e.head.comment=null);e.mode=F0;case F0:if(e.flags&512){for(;y<16;){if(u===0)break e;u--,p+=a[l++]<<y,y+=8}if(e.wrap&4&&p!==(e.check&65535)){r.msg="header crc mismatch",e.mode=Ir;break}p=0,y=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),r.adler=e.check=0,e.mode=Ua;break;case O0:for(;y<32;){if(u===0)break e;u--,p+=a[l++]<<y,y+=8}r.adler=e.check=X0(p),p=0,y=0,e.mode=Lu;case Lu:if(e.havedict===0)return r.next_out=d,r.avail_out=m,r.next_in=l,r.avail_in=u,e.hold=p,e.bits=y,fy;r.adler=e.check=1,e.mode=Ua;case Ua:if(t===uy||t===cu)break e;case Vh:if(e.last){p>>>=y&7,y-=y&7,e.mode=qh;break}for(;y<3;){if(u===0)break e;u--,p+=a[l++]<<y,y+=8}switch(e.last=p&1,p>>>=1,y-=1,p&3){case 0:e.mode=W0;break;case 1:if(wy(e),e.mode=du,t===cu){p>>>=2,y-=2;break e}break;case 2:e.mode=D0;break;case 3:r.msg="invalid block type",e.mode=Ir}p>>>=2,y-=2;break;case W0:for(p>>>=y&7,y-=y&7;y<32;){if(u===0)break e;u--,p+=a[l++]<<y,y+=8}if((p&65535)!==(p>>>16^65535)){r.msg="invalid stored block lengths",e.mode=Ir;break}if(e.length=p&65535,p=0,y=0,e.mode=Uh,t===cu)break e;case Uh:e.mode=M0;case M0:if(x=e.length,x){if(x>u&&(x=u),x>m&&(x=m),x===0)break e;s.set(a.subarray(l,l+x),d),u-=x,l+=x,m-=x,d+=x,e.length-=x;break}e.mode=Ua;break;case D0:for(;y<14;){if(u===0)break e;u--,p+=a[l++]<<y,y+=8}if(e.nlen=(p&31)+257,p>>>=5,y-=5,e.ndist=(p&31)+1,p>>>=5,y-=5,e.ncode=(p&15)+4,p>>>=4,y-=4,e.nlen>286||e.ndist>30){r.msg="too many length or distance symbols",e.mode=Ir;break}e.have=0,e.mode=$0;case $0:for(;e.have<e.ncode;){for(;y<3;){if(u===0)break e;u--,p+=a[l++]<<y,y+=8}e.lens[k[e.have++]]=p&7,p>>>=3,y-=3}for(;e.have<19;)e.lens[k[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,J={bits:e.lenbits},W=cd(dy,e.lens,0,19,e.lencode,0,e.work,J),e.lenbits=J.bits,W){r.msg="invalid code lengths set",e.mode=Ir;break}e.have=0,e.mode=V0;case V0:for(;e.have<e.nlen+e.ndist;){for(;C=e.lencode[p&(1<<e.lenbits)-1],S=C>>>24,F=C>>>16&255,O=C&65535,!(S<=y);){if(u===0)break e;u--,p+=a[l++]<<y,y+=8}if(O<16)p>>>=S,y-=S,e.lens[e.have++]=O;else{if(O===16){for(D=S+2;y<D;){if(u===0)break e;u--,p+=a[l++]<<y,y+=8}if(p>>>=S,y-=S,e.have===0){r.msg="invalid bit length repeat",e.mode=Ir;break}ce=e.lens[e.have-1],x=3+(p&3),p>>>=2,y-=2}else if(O===17){for(D=S+3;y<D;){if(u===0)break e;u--,p+=a[l++]<<y,y+=8}p>>>=S,y-=S,ce=0,x=3+(p&7),p>>>=3,y-=3}else{for(D=S+7;y<D;){if(u===0)break e;u--,p+=a[l++]<<y,y+=8}p>>>=S,y-=S,ce=0,x=11+(p&127),p>>>=7,y-=7}if(e.have+x>e.nlen+e.ndist){r.msg="invalid bit length repeat",e.mode=Ir;break}for(;x--;)e.lens[e.have++]=ce}}if(e.mode===Ir)break;if(e.lens[256]===0){r.msg="invalid code -- missing end-of-block",e.mode=Ir;break}if(e.lenbits=9,J={bits:e.lenbits},W=cd($1,e.lens,0,e.nlen,e.lencode,0,e.work,J),e.lenbits=J.bits,W){r.msg="invalid literal/lengths set",e.mode=Ir;break}if(e.distbits=6,e.distcode=e.distdyn,J={bits:e.distbits},W=cd(V1,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,J),e.distbits=J.bits,W){r.msg="invalid distances set",e.mode=Ir;break}if(e.mode=du,t===cu)break e;case du:e.mode=uu;case uu:if(u>=6&&m>=258){r.next_out=d,r.avail_out=m,r.next_in=l,r.avail_in=u,e.hold=p,e.bits=y,iy(r,_),d=r.next_out,s=r.output,m=r.avail_out,l=r.next_in,a=r.input,u=r.avail_in,p=e.hold,y=e.bits,e.mode===Ua&&(e.back=-1);break}for(e.back=0;C=e.lencode[p&(1<<e.lenbits)-1],S=C>>>24,F=C>>>16&255,O=C&65535,!(S<=y);){if(u===0)break e;u--,p+=a[l++]<<y,y+=8}if(F&&(F&240)===0){for(B=S,H=F,ee=O;C=e.lencode[ee+((p&(1<<B+H)-1)>>B)],S=C>>>24,F=C>>>16&255,O=C&65535,!(B+S<=y);){if(u===0)break e;u--,p+=a[l++]<<y,y+=8}p>>>=B,y-=B,e.back+=B}if(p>>>=S,y-=S,e.back+=S,e.length=O,F===0){e.mode=K0;break}if(F&32){e.back=-1,e.mode=Ua;break}if(F&64){r.msg="invalid literal/length code",e.mode=Ir;break}e.extra=F&15,e.mode=U0;case U0:if(e.extra){for(D=e.extra;y<D;){if(u===0)break e;u--,p+=a[l++]<<y,y+=8}e.length+=p&(1<<e.extra)-1,p>>>=e.extra,y-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=q0;case q0:for(;C=e.distcode[p&(1<<e.distbits)-1],S=C>>>24,F=C>>>16&255,O=C&65535,!(S<=y);){if(u===0)break e;u--,p+=a[l++]<<y,y+=8}if((F&240)===0){for(B=S,H=F,ee=O;C=e.distcode[ee+((p&(1<<B+H)-1)>>B)],S=C>>>24,F=C>>>16&255,O=C&65535,!(B+S<=y);){if(u===0)break e;u--,p+=a[l++]<<y,y+=8}p>>>=B,y-=B,e.back+=B}if(p>>>=S,y-=S,e.back+=S,F&64){r.msg="invalid distance code",e.mode=Ir;break}e.offset=O,e.extra=F&15,e.mode=H0;case H0:if(e.extra){for(D=e.extra;y<D;){if(u===0)break e;u--,p+=a[l++]<<y,y+=8}e.offset+=p&(1<<e.extra)-1,p>>>=e.extra,y-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){r.msg="invalid distance too far back",e.mode=Ir;break}e.mode=G0;case G0:if(m===0)break e;if(x=_-m,e.offset>x){if(x=e.offset-x,x>e.whave&&e.sane){r.msg="invalid distance too far back",e.mode=Ir;break}x>e.wnext?(x-=e.wnext,P=e.wsize-x):P=e.wnext-x,x>e.length&&(x=e.length),A=e.window}else A=s,P=d-e.offset,x=e.length;x>m&&(x=m),m-=x,e.length-=x;do s[d++]=A[P++];while(--x);e.length===0&&(e.mode=uu);break;case K0:if(m===0)break e;s[d++]=e.length,m--,e.mode=uu;break;case qh:if(e.wrap){for(;y<32;){if(u===0)break e;u--,p|=a[l++]<<y,y+=8}if(_-=m,r.total_out+=_,e.total+=_,e.wrap&4&&_&&(r.adler=e.check=e.flags?na(e.check,s,_,d-_):wf(e.check,s,_,d-_)),_=m,e.wrap&4&&(e.flags?p:X0(p))!==e.check){r.msg="incorrect data check",e.mode=Ir;break}p=0,y=0}e.mode=Y0;case Y0:if(e.wrap&&e.flags){for(;y<32;){if(u===0)break e;u--,p+=a[l++]<<y,y+=8}if(e.wrap&4&&p!==(e.total&4294967295)){r.msg="incorrect length check",e.mode=Ir;break}p=0,y=0}e.mode=J0;case J0:W=hy;break e;case Ir:W=U1;break e;case H1:return q1;case G1:default:return uo}return r.next_out=d,r.avail_out=m,r.next_in=l,r.avail_in=u,e.hold=p,e.bits=y,(e.wsize||_!==r.avail_out&&e.mode<Ir&&(e.mode<qh||t!==_0))&&Z1(r,r.output,r.next_out,_-r.avail_out),j-=r.avail_in,_-=r.avail_out,r.total_in+=j,r.total_out+=_,e.total+=_,e.wrap&4&&_&&(r.adler=e.check=e.flags?na(e.check,s,_,r.next_out-_):wf(e.check,s,_,r.next_out-_)),r.data_type=e.bits+(e.last?64:0)+(e.mode===Ua?128:0)+(e.mode===du||e.mode===Uh?256:0),(j===0&&_===0||t===_0)&&W===Cl&&(W=py),W},jy=r=>{if(Bl(r))return uo;let t=r.state;return t.window&&(t.window=null),r.state=null,Cl},ky=(r,t)=>{if(Bl(r))return uo;const e=r.state;return(e.wrap&2)===0?uo:(e.head=t,t.done=!1,Cl)},Cy=(r,t)=>{const e=t.length;let a,s,l;return Bl(r)||(a=r.state,a.wrap!==0&&a.mode!==Lu)?uo:a.mode===Lu&&(s=1,s=wf(s,t,e,0),s!==a.check)?U1:(l=Z1(r,t,e,e),l?(a.mode=H1,q1):(a.havedict=1,Cl))};var Ty=Y1,Ay=J1,_y=K1,By=by,Ny=X1,Ly=Sy,Ry=jy,Py=ky,Iy=Cy,Ey="pako inflate (from Nodeca project)",qa={inflateReset:Ty,inflateReset2:Ay,inflateResetKeep:_y,inflateInit:By,inflateInit2:Ny,inflate:Ly,inflateEnd:Ry,inflateGetHeader:Py,inflateSetDictionary:Iy,inflateInfo:Ey};function zy(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Fy=zy;const Q1=Object.prototype.toString,{Z_NO_FLUSH:Oy,Z_FINISH:Wy,Z_OK:pd,Z_STREAM_END:Kh,Z_NEED_DICT:Yh,Z_STREAM_ERROR:My,Z_DATA_ERROR:Q0,Z_MEM_ERROR:Dy}=W1;function vd(r){this.options=M1.assign({chunkSize:1024*64,windowBits:15,to:""},r||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(r&&r.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ry,this.strm.avail_out=0;let e=qa.inflateInit2(this.strm,t.windowBits);if(e!==pd)throw new Error(Sf[e]);if(this.header=new Fy,qa.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=jf.string2buf(t.dictionary):Q1.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(e=qa.inflateSetDictionary(this.strm,t.dictionary),e!==pd)))throw new Error(Sf[e])}vd.prototype.push=function(r,t){const e=this.strm,a=this.options.chunkSize,s=this.options.dictionary;let l,d,u;if(this.ended)return!1;for(t===~~t?d=t:d=t===!0?Wy:Oy,Q1.call(r)==="[object ArrayBuffer]"?e.input=new Uint8Array(r):e.input=r,e.next_in=0,e.avail_in=e.input.length;;){for(e.avail_out===0&&(e.output=new Uint8Array(a),e.next_out=0,e.avail_out=a),l=qa.inflate(e,d),l===Yh&&s&&(l=qa.inflateSetDictionary(e,s),l===pd?l=qa.inflate(e,d):l===Q0&&(l=Yh));e.avail_in>0&&l===Kh&&e.state.wrap>0&&r[e.next_in]!==0;)qa.inflateReset(e),l=qa.inflate(e,d);switch(l){case My:case Q0:case Yh:case Dy:return this.onEnd(l),this.ended=!0,!1}if(u=e.avail_out,e.next_out&&(e.avail_out===0||l===Kh))if(this.options.to==="string"){let m=jf.utf8border(e.output,e.next_out),p=e.next_out-m,y=jf.buf2string(e.output,m);e.next_out=p,e.avail_out=a-p,p&&e.output.set(e.output.subarray(m,m+p),0),this.onData(y)}else this.onData(e.output.length===e.next_out?e.output:e.output.subarray(0,e.next_out));if(!(l===pd&&u===0)){if(l===Kh)return l=qa.inflateEnd(this.strm),this.onEnd(l),this.ended=!0,!0;if(e.avail_in===0)break}}return!0};vd.prototype.onData=function(r){this.chunks.push(r)};vd.prototype.onEnd=function(r){r===pd&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=M1.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg};function $y(r,t){const e=new vd(t);if(e.push(r),e.err)throw e.msg||Sf[e.err];return e.result}var Vy=vd,Uy=$y,qy={Inflate:Vy,inflate:Uy};const{Inflate:Hy,inflate:Gy}=qy;var em=Hy,Ky=Gy;const eg=[];for(let r=0;r<256;r++){let t=r;for(let e=0;e<8;e++)t&1?t=3988292384^t>>>1:t=t>>>1;eg[r]=t}const tm=4294967295;function Yy(r,t,e){let a=r;for(let s=0;s<e;s++)a=eg[(a^t[s])&255]^a>>>8;return a}function Jy(r,t){return(Yy(tm,r,t)^tm)>>>0}function rm(r,t,e){const a=r.readUint32(),s=Jy(new Uint8Array(r.buffer,r.byteOffset+r.offset-t-4,t),t);if(s!==a)throw new Error(`CRC mismatch for chunk ${e}. Expected ${a}, found ${s}`)}function tg(r,t,e){for(let a=0;a<e;a++)t[a]=r[a]}function rg(r,t,e,a){let s=0;for(;s<a;s++)t[s]=r[s];for(;s<e;s++)t[s]=r[s]+t[s-a]&255}function ng(r,t,e,a){let s=0;if(e.length===0)for(;s<a;s++)t[s]=r[s];else for(;s<a;s++)t[s]=r[s]+e[s]&255}function ig(r,t,e,a,s){let l=0;if(e.length===0){for(;l<s;l++)t[l]=r[l];for(;l<a;l++)t[l]=r[l]+(t[l-s]>>1)&255}else{for(;l<s;l++)t[l]=r[l]+(e[l]>>1)&255;for(;l<a;l++)t[l]=r[l]+(t[l-s]+e[l]>>1)&255}}function og(r,t,e,a,s){let l=0;if(e.length===0){for(;l<s;l++)t[l]=r[l];for(;l<a;l++)t[l]=r[l]+t[l-s]&255}else{for(;l<s;l++)t[l]=r[l]+e[l]&255;for(;l<a;l++)t[l]=r[l]+Xy(t[l-s],e[l],e[l-s])&255}}function Xy(r,t,e){const a=r+t-e,s=Math.abs(a-r),l=Math.abs(a-t),d=Math.abs(a-e);return s<=l&&s<=d?r:l<=d?t:e}function Zy(r,t,e,a,s,l){switch(r){case 0:tg(t,e,s);break;case 1:rg(t,e,s,l);break;case 2:ng(t,e,a,s);break;case 3:ig(t,e,a,s,l);break;case 4:og(t,e,a,s,l);break;default:throw new Error(`Unsupported filter: ${r}`)}}const Qy=new Uint16Array([255]),ev=new Uint8Array(Qy.buffer),tv=ev[0]===255;function rv(r){const{data:t,width:e,height:a,channels:s,depth:l}=r,d=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],u=Math.ceil(l/8)*s,m=new Uint8Array(a*e*u);let p=0;for(let y=0;y<7;y++){const j=d[y],_=Math.ceil((e-j.x)/j.xStep),x=Math.ceil((a-j.y)/j.yStep);if(_<=0||x<=0)continue;const P=_*u,A=new Uint8Array(P);for(let C=0;C<x;C++){const S=t[p++],F=t.subarray(p,p+P);p+=P;const O=new Uint8Array(P);Zy(S,F,O,A,P,u),A.set(O);for(let B=0;B<_;B++){const H=j.x+B*j.xStep,ee=j.y+C*j.yStep;if(!(H>=e||ee>=a))for(let ce=0;ce<u;ce++)m[(ee*e+H)*u+ce]=O[B*u+ce]}}}if(l===16){const y=new Uint16Array(m.buffer);if(tv)for(let j=0;j<y.length;j++)y[j]=nv(y[j]);return y}else return m}function nv(r){return(r&255)<<8|r>>8&255}const iv=new Uint16Array([255]),ov=new Uint8Array(iv.buffer),av=ov[0]===255,sv=new Uint8Array(0);function nm(r){const{data:t,width:e,height:a,channels:s,depth:l}=r,d=Math.ceil(l/8)*s,u=Math.ceil(l/8*s*e),m=new Uint8Array(a*u);let p=sv,y=0,j,_;for(let x=0;x<a;x++){switch(j=t.subarray(y+1,y+1+u),_=m.subarray(x*u,(x+1)*u),t[y]){case 0:tg(j,_,u);break;case 1:rg(j,_,u,d);break;case 2:ng(j,_,p,u);break;case 3:ig(j,_,p,u,d);break;case 4:og(j,_,p,u,d);break;default:throw new Error(`Unsupported filter: ${t[y]}`)}p=_,y+=u+1}if(l===16){const x=new Uint16Array(m.buffer);if(av)for(let P=0;P<x.length;P++)x[P]=lv(x[P]);return x}else return m}function lv(r){return(r&255)<<8|r>>8&255}const vu=Uint8Array.of(137,80,78,71,13,10,26,10);function im(r){if(!cv(r.readBytes(vu.length)))throw new Error("wrong PNG signature")}function cv(r){if(r.length<vu.length)return!1;for(let t=0;t<vu.length;t++)if(r[t]!==vu[t])return!1;return!0}const dv="tEXt",uv=0,ag=new TextDecoder("latin1");function hv(r){if(pv(r),r.length===0||r.length>79)throw new Error("keyword length must be between 1 and 79")}const fv=/^[\u0000-\u00FF]*$/;function pv(r){if(!fv.test(r))throw new Error("invalid latin1 text")}function mv(r,t,e){const a=sg(t);r[a]=gv(t,e-a.length-1)}function sg(r){for(r.mark();r.readByte()!==uv;);const t=r.offset;r.reset();const e=ag.decode(r.readBytes(t-r.offset-1));return r.skip(1),hv(e),e}function gv(r,t){return ag.decode(r.readBytes(t))}const Vi={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Jh={UNKNOWN:-1,DEFLATE:0},om={UNKNOWN:-1,ADAPTIVE:0},Xh={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},hu={NONE:0,BACKGROUND:1,PREVIOUS:2},Zh={SOURCE:0,OVER:1};class xv extends qf{constructor(e,a={}){super(e);dr(this,"_checkCrc");dr(this,"_inflator");dr(this,"_png");dr(this,"_apng");dr(this,"_end");dr(this,"_hasPalette");dr(this,"_palette");dr(this,"_hasTransparency");dr(this,"_transparency");dr(this,"_compressionMethod");dr(this,"_filterMethod");dr(this,"_interlaceMethod");dr(this,"_colorType");dr(this,"_isAnimated");dr(this,"_numberOfFrames");dr(this,"_numberOfPlays");dr(this,"_frames");dr(this,"_writingDataChunks");const{checkCrc:s=!1}=a;this._checkCrc=s,this._inflator=new em,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Jh.UNKNOWN,this._filterMethod=om.UNKNOWN,this._interlaceMethod=Xh.UNKNOWN,this._colorType=Vi.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(im(this);!this._end;){const e=this.readUint32(),a=this.readChars(4);this.decodeChunk(e,a)}return this.decodeImage(),this._png}decodeApng(){for(im(this);!this._end;){const e=this.readUint32(),a=this.readChars(4);this.decodeApngChunk(e,a)}return this.decodeApngImage(),this._apng}decodeChunk(e,a){const s=this.offset;switch(a){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case dv:mv(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-s!==e)throw new Error(`Length mismatch while decoding chunk ${a}`);this._checkCrc?rm(this,e+4,a):this.skip(4)}decodeApngChunk(e,a){const s=this.offset;switch(a!=="fdAT"&&a!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),a){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,a),this.offset=s+e;break}if(this.offset-s!==e)throw new Error(`Length mismatch while decoding chunk ${a}`);this._checkCrc?rm(this,e+4,a):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=yv(this.readUint8());const a=this.readUint8();this._colorType=a;let s;switch(a){case Vi.GREYSCALE:s=1;break;case Vi.TRUECOLOUR:s=3;break;case Vi.INDEXED_COLOUR:s=1;break;case Vi.GREYSCALE_ALPHA:s=2;break;case Vi.TRUECOLOUR_ALPHA:s=4;break;case Vi.UNKNOWN:default:throw new Error(`Unknown color type: ${a}`)}if(this._png.channels=s,this._compressionMethod=this.readUint8(),this._compressionMethod!==Jh.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const a=e/3;this._hasPalette=!0;const s=[];this._palette=s;for(let l=0;l<a;l++)s.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const a=e,s=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,s,a)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let a=e,s=this.offset+this.byteOffset;if(s+=4,a-=4,this._inflator.push(new Uint8Array(this.buffer,s,a)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case Vi.GREYSCALE:case Vi.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let a=0;a<e/2;a++)this._transparency[a]=this.readUint16();break}case Vi.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let a=0;for(;a<e;a++){const s=this.readByte();this._palette[a].push(s)}for(;a<this._palette.length;a++)this._palette[a].push(255);break}case Vi.UNKNOWN:case Vi.GREYSCALE_ALPHA:case Vi.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const a=sg(this),s=this.readUint8();if(s!==Jh.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${s}`);const l=this.readBytes(e-a.length-2);this._png.iccEmbeddedProfile={name:a,profile:Ky(l)}}decodepHYs(){const e=this.readUint32(),a=this.readUint32(),s=this.readByte();this._png.resolution={x:e,y:a,unit:s}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const a={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},s=this._frames.at(e);if(s){if(s.data=nm({data:s.data,width:s.width,height:s.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||s.xOffset===0&&s.yOffset===0&&s.width===this._png.width&&s.height===this._png.height)a.data=s.data;else{const l=this._apng.frames.at(e-1);this.disposeFrame(s,l,a),this.addFrameDataToCanvas(a,s)}this._apng.frames.push(a)}}return this._apng}disposeFrame(e,a,s){switch(e.disposeOp){case hu.NONE:break;case hu.BACKGROUND:for(let l=0;l<this._png.height;l++)for(let d=0;d<this._png.width;d++){const u=(l*e.width+d)*this._png.channels;for(let m=0;m<this._png.channels;m++)s.data[u+m]=0}break;case hu.PREVIOUS:s.data.set(a.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,a){const s=1<<this._png.depth,l=(d,u)=>{const m=((d+a.yOffset)*this._png.width+a.xOffset+u)*this._png.channels,p=(d*a.width+u)*this._png.channels;return{index:m,frameIndex:p}};switch(a.blendOp){case Zh.SOURCE:for(let d=0;d<a.height;d++)for(let u=0;u<a.width;u++){const{index:m,frameIndex:p}=l(d,u);for(let y=0;y<this._png.channels;y++)e.data[m+y]=a.data[p+y]}break;case Zh.OVER:for(let d=0;d<a.height;d++)for(let u=0;u<a.width;u++){const{index:m,frameIndex:p}=l(d,u);for(let y=0;y<this._png.channels;y++){const j=a.data[p+this._png.channels-1]/s,_=y%(this._png.channels-1)===0?1:a.data[p+y],x=Math.floor(j*_+(1-j)*e.data[m+y]);e.data[m+y]+=x}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var a;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?((a=this._frames)==null?void 0:a.at(0)).data:this._inflator.result;if(this._filterMethod!==om.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Xh.NO_INTERLACE)this._png.data=nm({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Xh.ADAM7)this._png.data=rv({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,a=this._frames.at(-1);a?a.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:hu.NONE,blendOp:Zh.SOURCE,data:e}),this._inflator=new em,this._writingDataChunks=!1}}function yv(r){if(r!==1&&r!==2&&r!==4&&r!==8&&r!==16)throw new Error(`invalid bit depth: ${r}`);return r}var am;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.METRE=1]="METRE"})(am||(am={}));function vv(r,t){return new xv(r,t).decode()}var Bt=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function Qh(){Bt.console&&typeof Bt.console.log=="function"&&Bt.console.log.apply(Bt.console,arguments)}var yr={log:Qh,warn:function(r){Bt.console&&(typeof Bt.console.warn=="function"?Bt.console.warn.apply(Bt.console,arguments):Qh.call(null,arguments))},error:function(r){Bt.console&&(typeof Bt.console.error=="function"?Bt.console.error.apply(Bt.console,arguments):Qh(r))}};function ef(r,t,e){var a=new XMLHttpRequest;a.open("GET",r),a.responseType="blob",a.onload=function(){yl(a.response,t,e)},a.onerror=function(){yr.error("could not download file")},a.send()}function sm(r){var t=new XMLHttpRequest;t.open("HEAD",r,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function fu(r){try{r.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(t)}}var yl=Bt.saveAs||((typeof window>"u"?"undefined":ur(window))!=="object"||window!==Bt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(r,t,e){var a=Bt.URL||Bt.webkitURL,s=document.createElement("a");t=t||r.name||"download",s.download=t,s.rel="noopener",typeof r=="string"?(s.href=r,s.origin!==location.origin?sm(s.href)?ef(r,t,e):fu(s,s.target="_blank"):fu(s)):(s.href=a.createObjectURL(r),setTimeout(function(){a.revokeObjectURL(s.href)},4e4),setTimeout(function(){fu(s)},0))}:"msSaveOrOpenBlob"in navigator?function(r,t,e){if(t=t||r.name||"download",typeof r=="string")if(sm(r))ef(r,t,e);else{var a=document.createElement("a");a.href=r,a.target="_blank",setTimeout(function(){fu(a)})}else navigator.msSaveOrOpenBlob((function(s,l){return l===void 0?l={autoBom:!1}:ur(l)!=="object"&&(yr.warn("Deprecated: Expected third argument to be a object"),l={autoBom:!l}),l.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s})(r,e),t)}:function(r,t,e,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),typeof r=="string")return ef(r,t,e);var s=r.type==="application/octet-stream",l=/constructor/i.test(Bt.HTMLElement)||Bt.safari,d=/CriOS\/[\d]+/.test(navigator.userAgent);if((d||s&&l)&&(typeof FileReader>"u"?"undefined":ur(FileReader))==="object"){var u=new FileReader;u.onloadend=function(){var y=u.result;y=d?y:y.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=y:location=y,a=null},u.readAsDataURL(r)}else{var m=Bt.URL||Bt.webkitURL,p=m.createObjectURL(r);a?a.location=p:location.href=p,a=null,setTimeout(function(){m.revokeObjectURL(p)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function lg(r){var t;r=r||"",this.ok=!1,r.charAt(0)=="#"&&(r=r.substr(1,6)),r={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[r=(r=r.replace(/ /g,"")).toLowerCase()]||r;for(var e=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(u){return[parseInt(u[1]),parseInt(u[2]),parseInt(u[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(u){return[parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(u){return[parseInt(u[1]+u[1],16),parseInt(u[2]+u[2],16),parseInt(u[3]+u[3],16)]}}],a=0;a<e.length;a++){var s=e[a].re,l=e[a].process,d=s.exec(r);d&&(t=l(d),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var u=this.r.toString(16),m=this.g.toString(16),p=this.b.toString(16);return u.length==1&&(u="0"+u),m.length==1&&(m="0"+m),p.length==1&&(p="0"+p),"#"+u+m+p}}var bu=Bt.atob.bind(Bt),lm=Bt.btoa.bind(Bt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function tf(r,t){var e=r[0],a=r[1],s=r[2],l=r[3];e=qn(e,a,s,l,t[0],7,-680876936),l=qn(l,e,a,s,t[1],12,-389564586),s=qn(s,l,e,a,t[2],17,606105819),a=qn(a,s,l,e,t[3],22,-1044525330),e=qn(e,a,s,l,t[4],7,-176418897),l=qn(l,e,a,s,t[5],12,1200080426),s=qn(s,l,e,a,t[6],17,-1473231341),a=qn(a,s,l,e,t[7],22,-45705983),e=qn(e,a,s,l,t[8],7,1770035416),l=qn(l,e,a,s,t[9],12,-1958414417),s=qn(s,l,e,a,t[10],17,-42063),a=qn(a,s,l,e,t[11],22,-1990404162),e=qn(e,a,s,l,t[12],7,1804603682),l=qn(l,e,a,s,t[13],12,-40341101),s=qn(s,l,e,a,t[14],17,-1502002290),e=Hn(e,a=qn(a,s,l,e,t[15],22,1236535329),s,l,t[1],5,-165796510),l=Hn(l,e,a,s,t[6],9,-1069501632),s=Hn(s,l,e,a,t[11],14,643717713),a=Hn(a,s,l,e,t[0],20,-373897302),e=Hn(e,a,s,l,t[5],5,-701558691),l=Hn(l,e,a,s,t[10],9,38016083),s=Hn(s,l,e,a,t[15],14,-660478335),a=Hn(a,s,l,e,t[4],20,-405537848),e=Hn(e,a,s,l,t[9],5,568446438),l=Hn(l,e,a,s,t[14],9,-1019803690),s=Hn(s,l,e,a,t[3],14,-187363961),a=Hn(a,s,l,e,t[8],20,1163531501),e=Hn(e,a,s,l,t[13],5,-1444681467),l=Hn(l,e,a,s,t[2],9,-51403784),s=Hn(s,l,e,a,t[7],14,1735328473),e=Gn(e,a=Hn(a,s,l,e,t[12],20,-1926607734),s,l,t[5],4,-378558),l=Gn(l,e,a,s,t[8],11,-2022574463),s=Gn(s,l,e,a,t[11],16,1839030562),a=Gn(a,s,l,e,t[14],23,-35309556),e=Gn(e,a,s,l,t[1],4,-1530992060),l=Gn(l,e,a,s,t[4],11,1272893353),s=Gn(s,l,e,a,t[7],16,-155497632),a=Gn(a,s,l,e,t[10],23,-1094730640),e=Gn(e,a,s,l,t[13],4,681279174),l=Gn(l,e,a,s,t[0],11,-358537222),s=Gn(s,l,e,a,t[3],16,-722521979),a=Gn(a,s,l,e,t[6],23,76029189),e=Gn(e,a,s,l,t[9],4,-640364487),l=Gn(l,e,a,s,t[12],11,-421815835),s=Gn(s,l,e,a,t[15],16,530742520),e=Kn(e,a=Gn(a,s,l,e,t[2],23,-995338651),s,l,t[0],6,-198630844),l=Kn(l,e,a,s,t[7],10,1126891415),s=Kn(s,l,e,a,t[14],15,-1416354905),a=Kn(a,s,l,e,t[5],21,-57434055),e=Kn(e,a,s,l,t[12],6,1700485571),l=Kn(l,e,a,s,t[3],10,-1894986606),s=Kn(s,l,e,a,t[10],15,-1051523),a=Kn(a,s,l,e,t[1],21,-2054922799),e=Kn(e,a,s,l,t[8],6,1873313359),l=Kn(l,e,a,s,t[15],10,-30611744),s=Kn(s,l,e,a,t[6],15,-1560198380),a=Kn(a,s,l,e,t[13],21,1309151649),e=Kn(e,a,s,l,t[4],6,-145523070),l=Kn(l,e,a,s,t[11],10,-1120210379),s=Kn(s,l,e,a,t[2],15,718787259),a=Kn(a,s,l,e,t[9],21,-343485551),r[0]=Fs(e,r[0]),r[1]=Fs(a,r[1]),r[2]=Fs(s,r[2]),r[3]=Fs(l,r[3])}function Vu(r,t,e,a,s,l){return t=Fs(Fs(t,r),Fs(a,l)),Fs(t<<s|t>>>32-s,e)}function qn(r,t,e,a,s,l,d){return Vu(t&e|~t&a,r,t,s,l,d)}function Hn(r,t,e,a,s,l,d){return Vu(t&a|e&~a,r,t,s,l,d)}function Gn(r,t,e,a,s,l,d){return Vu(t^e^a,r,t,s,l,d)}function Kn(r,t,e,a,s,l,d){return Vu(e^(t|~a),r,t,s,l,d)}function cg(r){var t,e=r.length,a=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=r.length;t+=64)tf(a,bv(r.substring(t-64,t)));r=r.substring(t-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<r.length;t++)s[t>>2]|=r.charCodeAt(t)<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(tf(a,s),t=0;t<16;t++)s[t]=0;return s[14]=8*e,tf(a,s),a}function bv(r){var t,e=[];for(t=0;t<64;t+=4)e[t>>2]=r.charCodeAt(t)+(r.charCodeAt(t+1)<<8)+(r.charCodeAt(t+2)<<16)+(r.charCodeAt(t+3)<<24);return e}var cm="0123456789abcdef".split("");function wv(r){for(var t="",e=0;e<4;e++)t+=cm[r>>8*e+4&15]+cm[r>>8*e&15];return t}function Sv(r){return String.fromCharCode(255&r,(65280&r)>>8,(16711680&r)>>16,(4278190080&r)>>24)}function kf(r){return cg(r).map(Sv).join("")}var jv=(function(r){for(var t=0;t<r.length;t++)r[t]=wv(r[t]);return r.join("")})(cg("hello"))!="5d41402abc4b2a76b9719d911017c592";function Fs(r,t){if(jv){var e=(65535&r)+(65535&t);return(r>>16)+(t>>16)+(e>>16)<<16|65535&e}return r+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Cf(r,t){var e,a,s,l;if(r!==e){for(var d=(s=r,l=1+(256/r.length|0),new Array(l+1).join(s)),u=[],m=0;m<256;m++)u[m]=m;var p=0;for(m=0;m<256;m++){var y=u[m];p=(p+y+d.charCodeAt(m))%256,u[m]=u[p],u[p]=y}e=r,a=u}else u=a;var j=t.length,_=0,x=0,P="";for(m=0;m<j;m++)x=(x+(y=u[_=(_+1)%256]))%256,u[_]=u[x],u[x]=y,d=u[(u[_]+u[x])%256],P+=String.fromCharCode(t.charCodeAt(m)^d);return P}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var dm={print:4,modify:8,copy:16,"annot-forms":32};function pc(r,t,e,a){this.v=1,this.r=2;var s=192;r.forEach(function(u){if(dm.perm!==void 0)throw new Error("Invalid permission: "+u);s+=dm[u]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var l=(t+this.padding).substr(0,32),d=(e+this.padding).substr(0,32);this.O=this.processOwnerPassword(l,d),this.P=-(1+(255^s)),this.encryptionKey=kf(l+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(a)).substr(0,5),this.U=Cf(this.encryptionKey,this.padding)}function mc(r){if(/[^\u0000-\u00ff]/.test(r))throw new Error("Invalid PDF Name Object: "+r+", Only accept ASCII characters.");for(var t="",e=r.length,a=0;a<e;a++){var s=r.charCodeAt(a);t+=s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?"#"+("0"+s.toString(16)).slice(-2):r[a]}return t}function um(r){if(ur(r)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,a,s){if(s=s||!1,typeof e!="string"||typeof a!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var l=Math.random().toString(35);return t[e][l]=[a,!!s],l},this.unsubscribe=function(e){for(var a in t)if(t[a][e])return delete t[a][e],Object.keys(t[a]).length===0&&delete t[a],!0;return!1},this.publish=function(e){if(t.hasOwnProperty(e)){var a=Array.prototype.slice.call(arguments,1),s=[];for(var l in t[e]){var d=t[e][l];try{d[0].apply(r,a)}catch(u){Bt.console&&yr.error("jsPDF PubSub Error",u.message,u)}d[1]&&s.push(l)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Ru(r){if(!(this instanceof Ru))return new Ru(r);var t="opacity,stroke-opacity".split(",");for(var e in r)r.hasOwnProperty(e)&&t.indexOf(e)>=0&&(this[e]=r[e]);this.id="",this.objectNumber=-1}function dg(r,t){this.gState=r,this.matrix=t,this.id="",this.objectNumber=-1}function bl(r,t,e,a,s){if(!(this instanceof bl))return new bl(r,t,e,a,s);this.type=r==="axial"?2:3,this.coords=t,this.colors=e,dg.call(this,a,s)}function gc(r,t,e,a,s){if(!(this instanceof gc))return new gc(r,t,e,a,s);this.boundingBox=r,this.xStep=t,this.yStep=e,this.stream="",this.cloneIndex=0,dg.call(this,a,s)}function ft(r){var t,e=typeof arguments[0]=="string"?arguments[0]:"p",a=arguments[1],s=arguments[2],l=arguments[3],d=[],u=1,m=16,p="S",y=null;ur(r=r||{})==="object"&&(e=r.orientation,a=r.unit||a,s=r.format||s,l=r.compress||r.compressPdf||l,(y=r.encryption||null)!==null&&(y.userPassword=y.userPassword||"",y.ownerPassword=y.ownerPassword||"",y.userPermissions=y.userPermissions||[]),u=typeof r.userUnit=="number"?Math.abs(r.userUnit):1,r.precision!==void 0&&(t=r.precision),r.floatPrecision!==void 0&&(m=r.floatPrecision),p=r.defaultPathOperation||"S"),d=r.filters||(l===!0?["FlateEncode"]:d),a=a||"mm",e=(""+(e||"P")).toLowerCase();var j=r.putOnlyUsedFonts||!1,_={},x={internal:{},__private__:{}};x.__private__.PubSub=um;var P="1.3",A=x.__private__.getPdfVersion=function(){return P};x.__private__.setPdfVersion=function(v){P=v};var C={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};x.__private__.getPageFormats=function(){return C};var S=x.__private__.getPageFormat=function(v){return C[v]};s=s||"a4";var F="compat",O="advanced",B=F;function H(){this.saveGraphicsState(),ne(new xt(gt,0,0,-gt,0,gi()*gt).toString()+" cm"),this.setFontSize(this.getFontSize()/gt),p="n",B=O}function ee(){this.restoreGraphicsState(),p="S",B=F}var ce=x.__private__.combineFontStyleAndFontWeight=function(v,z){if(v=="bold"&&z=="normal"||v=="bold"&&z==400||v=="normal"&&z=="italic"||v=="bold"&&z=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return z&&(v=z==400||z==="normal"?v==="italic"?"italic":"normal":z!=700&&z!=="bold"||v!=="normal"?(z==700?"bold":z)+""+v:"bold"),v};x.advancedAPI=function(v){var z=B===F;return z&&H.call(this),typeof v!="function"||(v(this),z&&ee.call(this)),this},x.compatAPI=function(v){var z=B===O;return z&&ee.call(this),typeof v!="function"||(v(this),z&&H.call(this)),this},x.isAdvancedAPI=function(){return B===O};var W,I=function(v){if(B!==O)throw new Error(v+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},J=x.roundToPrecision=x.__private__.roundToPrecision=function(v,z){var ie=t||z;if(isNaN(v)||isNaN(ie))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return v.toFixed(ie).replace(/0+$/,"")};W=x.hpf=x.__private__.hpf=typeof m=="number"?function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return J(v,m)}:m==="smart"?function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return J(v,v>-1&&v<1?16:5)}:function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return J(v,16)};var D=x.f2=x.__private__.f2=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.f2");return J(v,2)},k=x.__private__.f3=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.f3");return J(v,3)},X=x.scale=x.__private__.scale=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.scale");return B===F?v*gt:B===O?v:void 0},R=function(v){return X((function(z){return B===F?gi()-z:B===O?z:void 0})(v))};x.__private__.setPrecision=x.setPrecision=function(v){typeof parseInt(v,10)=="number"&&(t=parseInt(v,10))};var se,xe="00000000000000000000000000000000",de=x.__private__.getFileId=function(){return xe},oe=x.__private__.setFileId=function(v){return xe=v!==void 0&&/^[a-fA-F0-9]{32}$/.test(v)?v.toUpperCase():xe.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),y!==null&&(Fr=new pc(y.userPermissions,y.userPassword,y.ownerPassword,xe)),xe};x.setFileId=function(v){return oe(v),this},x.getFileId=function(){return de()};var be=x.__private__.convertDateToPDFDate=function(v){var z=v.getTimezoneOffset(),ie=z<0?"+":"-",fe=Math.floor(Math.abs(z/60)),Se=Math.abs(z%60),Ee=[ie,M(fe),"'",M(Se),"'"].join("");return["D:",v.getFullYear(),M(v.getMonth()+1),M(v.getDate()),M(v.getHours()),M(v.getMinutes()),M(v.getSeconds()),Ee].join("")},je=x.__private__.convertPDFDateToDate=function(v){var z=parseInt(v.substr(2,4),10),ie=parseInt(v.substr(6,2),10)-1,fe=parseInt(v.substr(8,2),10),Se=parseInt(v.substr(10,2),10),Ee=parseInt(v.substr(12,2),10),Me=parseInt(v.substr(14,2),10);return new Date(z,ie,fe,Se,Ee,Me,0)},Q=x.__private__.setCreationDate=function(v){var z;if(v===void 0&&(v=new Date),v instanceof Date)z=be(v);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(v))throw new Error("Invalid argument passed to jsPDF.setCreationDate");z=v}return se=z},L=x.__private__.getCreationDate=function(v){var z=se;return v==="jsDate"&&(z=je(se)),z};x.setCreationDate=function(v){return Q(v),this},x.getCreationDate=function(v){return L(v)};var U,M=x.__private__.padd2=function(v){return("0"+parseInt(v)).slice(-2)},K=x.__private__.padd2Hex=function(v){return("00"+(v=v.toString())).substr(v.length)},Z=0,ae=[],he=[],pe=0,ue=[],Te=[],Oe=!1,We=he;x.__private__.setCustomOutputDestination=function(v){Oe=!0,We=v};var Le=function(v){Oe||(We=v)};x.__private__.resetCustomOutputDestination=function(){Oe=!1,We=he};var ne=x.__private__.out=function(v){return v=v.toString(),pe+=v.length+1,We.push(v),We},Ye=x.__private__.write=function(v){return ne(arguments.length===1?v.toString():Array.prototype.join.call(arguments," "))},Ke=x.__private__.getArrayBuffer=function(v){for(var z=v.length,ie=new ArrayBuffer(z),fe=new Uint8Array(ie);z--;)fe[z]=v.charCodeAt(z);return ie},Je=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];x.__private__.getStandardFonts=function(){return Je};var Ve=r.fontSize||16;x.__private__.setFontSize=x.setFontSize=function(v){return Ve=B===O?v/gt:v,this};var ot,Ge=x.__private__.getFontSize=x.getFontSize=function(){return B===F?Ve:Ve*gt},Nt=r.R2L||!1;x.__private__.setR2L=x.setR2L=function(v){return Nt=v,this},x.__private__.getR2L=x.getR2L=function(){return Nt};var pt,Vt=x.__private__.setZoomMode=function(v){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(v))ot=v;else if(isNaN(v)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(v)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+v+'" is not recognized.');ot=v}else ot=parseInt(v,10)};x.__private__.getZoomMode=function(){return ot};var Lt,Rt=x.__private__.setPageMode=function(v){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(v)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+v+'" is not recognized.');pt=v};x.__private__.getPageMode=function(){return pt};var Qt=x.__private__.setLayoutMode=function(v){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(v)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+v+'" is not recognized.');Lt=v};x.__private__.getLayoutMode=function(){return Lt},x.__private__.setDisplayMode=x.setDisplayMode=function(v,z,ie){return Vt(v),Qt(z),Rt(ie),this};var Tt={title:"",subject:"",author:"",keywords:"",creator:""};x.__private__.getDocumentProperty=function(v){if(Object.keys(Tt).indexOf(v)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Tt[v]},x.__private__.getDocumentProperties=function(){return Tt},x.__private__.setDocumentProperties=x.setProperties=x.setDocumentProperties=function(v){for(var z in Tt)Tt.hasOwnProperty(z)&&v[z]&&(Tt[z]=v[z]);return this},x.__private__.setDocumentProperty=function(v,z){if(Object.keys(Tt).indexOf(v)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Tt[v]=z};var ht,gt,st,hr,Ut,lt={},It={},tr=[],mt={},Ot={},At={},kr={},br=null,qt=0,jt=[],Gt=new um(x),Wo=r.hotfixes||[],fn={},qi={},li=[],xt=function v(z,ie,fe,Se,Ee,Me){if(!(this instanceof v))return new v(z,ie,fe,Se,Ee,Me);isNaN(z)&&(z=1),isNaN(ie)&&(ie=0),isNaN(fe)&&(fe=0),isNaN(Se)&&(Se=1),isNaN(Ee)&&(Ee=0),isNaN(Me)&&(Me=0),this._matrix=[z,ie,fe,Se,Ee,Me]};Object.defineProperty(xt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(v){this._matrix[0]=v}}),Object.defineProperty(xt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(v){this._matrix[1]=v}}),Object.defineProperty(xt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(v){this._matrix[2]=v}}),Object.defineProperty(xt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(v){this._matrix[3]=v}}),Object.defineProperty(xt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(v){this._matrix[4]=v}}),Object.defineProperty(xt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(v){this._matrix[5]=v}}),Object.defineProperty(xt.prototype,"a",{get:function(){return this._matrix[0]},set:function(v){this._matrix[0]=v}}),Object.defineProperty(xt.prototype,"b",{get:function(){return this._matrix[1]},set:function(v){this._matrix[1]=v}}),Object.defineProperty(xt.prototype,"c",{get:function(){return this._matrix[2]},set:function(v){this._matrix[2]=v}}),Object.defineProperty(xt.prototype,"d",{get:function(){return this._matrix[3]},set:function(v){this._matrix[3]=v}}),Object.defineProperty(xt.prototype,"e",{get:function(){return this._matrix[4]},set:function(v){this._matrix[4]=v}}),Object.defineProperty(xt.prototype,"f",{get:function(){return this._matrix[5]},set:function(v){this._matrix[5]=v}}),Object.defineProperty(xt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(xt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(xt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(xt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),xt.prototype.join=function(v){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(W).join(v)},xt.prototype.multiply=function(v){var z=v.sx*this.sx+v.shy*this.shx,ie=v.sx*this.shy+v.shy*this.sy,fe=v.shx*this.sx+v.sy*this.shx,Se=v.shx*this.shy+v.sy*this.sy,Ee=v.tx*this.sx+v.ty*this.shx+this.tx,Me=v.tx*this.shy+v.ty*this.sy+this.ty;return new xt(z,ie,fe,Se,Ee,Me)},xt.prototype.decompose=function(){var v=this.sx,z=this.shy,ie=this.shx,fe=this.sy,Se=this.tx,Ee=this.ty,Me=Math.sqrt(v*v+z*z),tt=(v/=Me)*ie+(z/=Me)*fe;ie-=v*tt,fe-=z*tt;var ct=Math.sqrt(ie*ie+fe*fe);return tt/=ct,v*(fe/=ct)<z*(ie/=ct)&&(v=-v,z=-z,tt=-tt,Me=-Me),{scale:new xt(Me,0,0,ct,0,0),translate:new xt(1,0,0,1,Se,Ee),rotate:new xt(v,z,-z,v,0,0),skew:new xt(1,0,tt,1,0,0)}},xt.prototype.toString=function(v){return this.join(" ")},xt.prototype.inversed=function(){var v=this.sx,z=this.shy,ie=this.shx,fe=this.sy,Se=this.tx,Ee=this.ty,Me=1/(v*fe-z*ie),tt=fe*Me,ct=-z*Me,kt=-ie*Me,Ct=v*Me;return new xt(tt,ct,kt,Ct,-tt*Se-kt*Ee,-ct*Se-Ct*Ee)},xt.prototype.applyToPoint=function(v){var z=v.x*this.sx+v.y*this.shx+this.tx,ie=v.x*this.shy+v.y*this.sy+this.ty;return new Xi(z,ie)},xt.prototype.applyToRectangle=function(v){var z=this.applyToPoint(v),ie=this.applyToPoint(new Xi(v.x+v.w,v.y+v.h));return new va(z.x,z.y,ie.x-z.x,ie.y-z.y)},xt.prototype.clone=function(){var v=this.sx,z=this.shy,ie=this.shx,fe=this.sy,Se=this.tx,Ee=this.ty;return new xt(v,z,ie,fe,Se,Ee)},x.Matrix=xt;var Yn=x.matrixMult=function(v,z){return z.multiply(v)},Ai=new xt(1,0,0,1,0,0);x.unitMatrix=x.identityMatrix=Ai;var vn=function(v,z){if(!Ot[v]){var ie=(z instanceof bl?"Sh":"P")+(Object.keys(mt).length+1).toString(10);z.id=ie,Ot[v]=ie,mt[ie]=z,Gt.publish("addPattern",z)}};x.ShadingPattern=bl,x.TilingPattern=gc,x.addShadingPattern=function(v,z){return I("addShadingPattern()"),vn(v,z),this},x.beginTilingPattern=function(v){I("beginTilingPattern()"),fi(v.boundingBox[0],v.boundingBox[1],v.boundingBox[2]-v.boundingBox[0],v.boundingBox[3]-v.boundingBox[1],v.matrix)},x.endTilingPattern=function(v,z){I("endTilingPattern()"),z.stream=Te[U].join(`
`),vn(v,z),Gt.publish("endTilingPattern",z),li.pop().restore()};var ci,fr=x.__private__.newObject=function(){var v=zr();return qr(v,!0),v},zr=x.__private__.newObjectDeferred=function(){return Z++,ae[Z]=function(){return pe},Z},qr=function(v,z){return z=typeof z=="boolean"&&z,ae[v]=pe,z&&ne(v+" 0 obj"),v},ho=x.__private__.newAdditionalObject=function(){var v={objId:zr(),content:""};return ue.push(v),v},Mo=zr(),_i=zr(),Hi=x.__private__.decodeColorString=function(v){var z=v.split(" ");if(z.length!==2||z[1]!=="g"&&z[1]!=="G")z.length!==5||z[4]!=="k"&&z[4]!=="K"||(z=[(1-z[0])*(1-z[3]),(1-z[1])*(1-z[3]),(1-z[2])*(1-z[3]),"r"]);else{var ie=parseFloat(z[0]);z=[ie,ie,ie,"r"]}for(var fe="#",Se=0;Se<3;Se++)fe+=("0"+Math.floor(255*parseFloat(z[Se])).toString(16)).slice(-2);return fe},pn=x.__private__.encodeColorString=function(v){var z;typeof v=="string"&&(v={ch1:v});var ie=v.ch1,fe=v.ch2,Se=v.ch3,Ee=v.ch4,Me=v.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ie=="string"&&ie.charAt(0)!=="#"){var tt=new lg(ie);if(tt.ok)ie=tt.toHex();else if(!/^\d*\.?\d*$/.test(ie))throw new Error('Invalid color "'+ie+'" passed to jsPDF.encodeColorString.')}if(typeof ie=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ie)&&(ie="#"+ie[1]+ie[1]+ie[2]+ie[2]+ie[3]+ie[3]),typeof ie=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ie)){var ct=parseInt(ie.substr(1),16);ie=ct>>16&255,fe=ct>>8&255,Se=255&ct}if(fe===void 0||Ee===void 0&&ie===fe&&fe===Se)z=typeof ie=="string"?ie+" "+Me[0]:v.precision===2?D(ie/255)+" "+Me[0]:k(ie/255)+" "+Me[0];else if(Ee===void 0||ur(Ee)==="object"){if(Ee&&!isNaN(Ee.a)&&Ee.a===0)return["1.","1.","1.",Me[1]].join(" ");z=typeof ie=="string"?[ie,fe,Se,Me[1]].join(" "):v.precision===2?[D(ie/255),D(fe/255),D(Se/255),Me[1]].join(" "):[k(ie/255),k(fe/255),k(Se/255),Me[1]].join(" ")}else z=typeof ie=="string"?[ie,fe,Se,Ee,Me[2]].join(" "):v.precision===2?[D(ie),D(fe),D(Se),D(Ee),Me[2]].join(" "):[k(ie),k(fe),k(Se),k(Ee),Me[2]].join(" ");return z},di=x.__private__.getFilters=function(){return d},Jn=x.__private__.putStream=function(v){var z=(v=v||{}).data||"",ie=v.filters||di(),fe=v.alreadyAppliedFilters||[],Se=v.addLength1||!1,Ee=z.length,Me=v.objectId,tt=function(tn){return tn};if(y!==null&&Me===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");y!==null&&(tt=Fr.encryptor(Me,0));var ct={};ie===!0&&(ie=["FlateEncode"]);var kt=v.additionalKeyValues||[],Ct=(ct=ft.API.processDataByFilters!==void 0?ft.API.processDataByFilters(z,ie):{data:z,reverseChain:[]}).reverseChain+(Array.isArray(fe)?fe.join(" "):fe.toString());if(ct.data.length!==0&&(kt.push({key:"Length",value:ct.data.length}),Se===!0&&kt.push({key:"Length1",value:Ee})),Ct.length!=0)if(Ct.split("/").length-1==1)kt.push({key:"Filter",value:Ct});else{kt.push({key:"Filter",value:"["+Ct+"]"});for(var Kt=0;Kt<kt.length;Kt+=1)if(kt[Kt].key==="DecodeParms"){for(var Cr=[],Gr=0;Gr<ct.reverseChain.split("/").length-1;Gr+=1)Cr.push("null");Cr.push(kt[Kt].value),kt[Kt].value="["+Cr.join(" ")+"]"}}ne("<<");for(var pr=0;pr<kt.length;pr++)ne("/"+kt[pr].key+" "+kt[pr].value);ne(">>"),ct.data.length!==0&&(ne("stream"),ne(tt(ct.data)),ne("endstream"))},ca=x.__private__.putPage=function(v){var z=v.number,ie=v.data,fe=v.objId,Se=v.contentsObjId;qr(fe,!0),ne("<</Type /Page"),ne("/Parent "+v.rootDictionaryObjId+" 0 R"),ne("/Resources "+v.resourceDictionaryObjId+" 0 R"),ne("/MediaBox ["+parseFloat(W(v.mediaBox.bottomLeftX))+" "+parseFloat(W(v.mediaBox.bottomLeftY))+" "+W(v.mediaBox.topRightX)+" "+W(v.mediaBox.topRightY)+"]"),v.cropBox!==null&&ne("/CropBox ["+W(v.cropBox.bottomLeftX)+" "+W(v.cropBox.bottomLeftY)+" "+W(v.cropBox.topRightX)+" "+W(v.cropBox.topRightY)+"]"),v.bleedBox!==null&&ne("/BleedBox ["+W(v.bleedBox.bottomLeftX)+" "+W(v.bleedBox.bottomLeftY)+" "+W(v.bleedBox.topRightX)+" "+W(v.bleedBox.topRightY)+"]"),v.trimBox!==null&&ne("/TrimBox ["+W(v.trimBox.bottomLeftX)+" "+W(v.trimBox.bottomLeftY)+" "+W(v.trimBox.topRightX)+" "+W(v.trimBox.topRightY)+"]"),v.artBox!==null&&ne("/ArtBox ["+W(v.artBox.bottomLeftX)+" "+W(v.artBox.bottomLeftY)+" "+W(v.artBox.topRightX)+" "+W(v.artBox.topRightY)+"]"),typeof v.userUnit=="number"&&v.userUnit!==1&&ne("/UserUnit "+v.userUnit),Gt.publish("putPage",{objId:fe,pageContext:jt[z],pageNumber:z,page:ie}),ne("/Contents "+Se+" 0 R"),ne(">>"),ne("endobj");var Ee=ie.join(`
`);return B===O&&(Ee+=`
Q`),qr(Se,!0),Jn({data:Ee,filters:di(),objectId:Se}),ne("endobj"),fe},Bi=x.__private__.putPages=function(){var v,z,ie=[];for(v=1;v<=qt;v++)jt[v].objId=zr(),jt[v].contentsObjId=zr();for(v=1;v<=qt;v++)ie.push(ca({number:v,data:Te[v],objId:jt[v].objId,contentsObjId:jt[v].contentsObjId,mediaBox:jt[v].mediaBox,cropBox:jt[v].cropBox,bleedBox:jt[v].bleedBox,trimBox:jt[v].trimBox,artBox:jt[v].artBox,userUnit:jt[v].userUnit,rootDictionaryObjId:Mo,resourceDictionaryObjId:_i}));qr(Mo,!0),ne("<</Type /Pages");var fe="/Kids [";for(z=0;z<qt;z++)fe+=ie[z]+" 0 R ";ne(fe+"]"),ne("/Count "+qt),ne(">>"),ne("endobj"),Gt.publish("postPutPages")},Do=function(v){Gt.publish("putFont",{font:v,out:ne,newObject:fr,putStream:Jn}),v.isAlreadyPutted!==!0&&(v.objectNumber=fr(),ne("<<"),ne("/Type /Font"),ne("/BaseFont /"+mc(v.postScriptName)),ne("/Subtype /Type1"),typeof v.encoding=="string"&&ne("/Encoding /"+v.encoding),ne("/FirstChar 32"),ne("/LastChar 255"),ne(">>"),ne("endobj"))},da=function(v){v.objectNumber=fr();var z=[];z.push({key:"Type",value:"/XObject"}),z.push({key:"Subtype",value:"/Form"}),z.push({key:"BBox",value:"["+[W(v.x),W(v.y),W(v.x+v.width),W(v.y+v.height)].join(" ")+"]"}),z.push({key:"Matrix",value:"["+v.matrix.toString()+"]"});var ie=v.pages[1].join(`
`);Jn({data:ie,additionalKeyValues:z,objectId:v.objectNumber}),ne("endobj")},ua=function(v,z){z||(z=21);var ie=fr(),fe=(function(Me,tt){var ct,kt=[],Ct=1/(tt-1);for(ct=0;ct<1;ct+=Ct)kt.push(ct);if(kt.push(1),Me[0].offset!=0){var Kt={offset:0,color:Me[0].color};Me.unshift(Kt)}if(Me[Me.length-1].offset!=1){var Cr={offset:1,color:Me[Me.length-1].color};Me.push(Cr)}for(var Gr="",pr=0,tn=0;tn<kt.length;tn++){for(ct=kt[tn];ct>Me[pr+1].offset;)pr++;var Or=Me[pr].offset,mn=(ct-Or)/(Me[pr+1].offset-Or),xi=Me[pr].color,zn=Me[pr+1].color;Gr+=K(Math.round((1-mn)*xi[0]+mn*zn[0]).toString(16))+K(Math.round((1-mn)*xi[1]+mn*zn[1]).toString(16))+K(Math.round((1-mn)*xi[2]+mn*zn[2]).toString(16))}return Gr.trim()})(v.colors,z),Se=[];Se.push({key:"FunctionType",value:"0"}),Se.push({key:"Domain",value:"[0.0 1.0]"}),Se.push({key:"Size",value:"["+z+"]"}),Se.push({key:"BitsPerSample",value:"8"}),Se.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Se.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Jn({data:fe,additionalKeyValues:Se,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ie}),ne("endobj"),v.objectNumber=fr(),ne("<< /ShadingType "+v.type),ne("/ColorSpace /DeviceRGB");var Ee="/Coords ["+W(parseFloat(v.coords[0]))+" "+W(parseFloat(v.coords[1]))+" ";v.type===2?Ee+=W(parseFloat(v.coords[2]))+" "+W(parseFloat(v.coords[3])):Ee+=W(parseFloat(v.coords[2]))+" "+W(parseFloat(v.coords[3]))+" "+W(parseFloat(v.coords[4]))+" "+W(parseFloat(v.coords[5])),ne(Ee+="]"),v.matrix&&ne("/Matrix ["+v.matrix.toString()+"]"),ne("/Function "+ie+" 0 R"),ne("/Extend [true true]"),ne(">>"),ne("endobj")},Za=function(v,z){var ie=zr(),fe=fr();z.push({resourcesOid:ie,objectOid:fe}),v.objectNumber=fe;var Se=[];Se.push({key:"Type",value:"/Pattern"}),Se.push({key:"PatternType",value:"1"}),Se.push({key:"PaintType",value:"1"}),Se.push({key:"TilingType",value:"1"}),Se.push({key:"BBox",value:"["+v.boundingBox.map(W).join(" ")+"]"}),Se.push({key:"XStep",value:W(v.xStep)}),Se.push({key:"YStep",value:W(v.yStep)}),Se.push({key:"Resources",value:ie+" 0 R"}),v.matrix&&Se.push({key:"Matrix",value:"["+v.matrix.toString()+"]"}),Jn({data:v.stream,additionalKeyValues:Se,objectId:v.objectNumber}),ne("endobj")},Nc=function(v){for(var z in v.objectNumber=fr(),ne("<<"),v)switch(z){case"opacity":ne("/ca "+D(v[z]));break;case"stroke-opacity":ne("/CA "+D(v[z]))}ne(">>"),ne("endobj")},gr=function(v){qr(v.resourcesOid,!0),ne("<<"),ne("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var z in ne("/Font <<"),lt)lt.hasOwnProperty(z)&&(j===!1||j===!0&&_.hasOwnProperty(z))&&ne("/"+z+" "+lt[z].objectNumber+" 0 R");ne(">>")})(),(function(){if(Object.keys(mt).length>0){for(var z in ne("/Shading <<"),mt)mt.hasOwnProperty(z)&&mt[z]instanceof bl&&mt[z].objectNumber>=0&&ne("/"+z+" "+mt[z].objectNumber+" 0 R");Gt.publish("putShadingPatternDict"),ne(">>")}})(),(function(z){if(Object.keys(mt).length>0){for(var ie in ne("/Pattern <<"),mt)mt.hasOwnProperty(ie)&&mt[ie]instanceof x.TilingPattern&&mt[ie].objectNumber>=0&&mt[ie].objectNumber<z&&ne("/"+ie+" "+mt[ie].objectNumber+" 0 R");Gt.publish("putTilingPatternDict"),ne(">>")}})(v.objectOid),(function(){if(Object.keys(At).length>0){var z;for(z in ne("/ExtGState <<"),At)At.hasOwnProperty(z)&&At[z].objectNumber>=0&&ne("/"+z+" "+At[z].objectNumber+" 0 R");Gt.publish("putGStateDict"),ne(">>")}})(),(function(){for(var z in ne("/XObject <<"),fn)fn.hasOwnProperty(z)&&fn[z].objectNumber>=0&&ne("/"+z+" "+fn[z].objectNumber+" 0 R");Gt.publish("putXobjectDict"),ne(">>")})(),ne(">>"),ne("endobj")},Rl=function(v){It[v.fontName]=It[v.fontName]||{},It[v.fontName][v.fontStyle]=v.id},Qa=function(v,z,ie,fe,Se){var Ee={id:"F"+(Object.keys(lt).length+1).toString(10),postScriptName:v,fontName:z,fontStyle:ie,encoding:fe,isStandardFont:Se||!1,metadata:{}};return Gt.publish("addFont",{font:Ee,instance:this}),lt[Ee.id]=Ee,Rl(Ee),Ee.id},Xn=x.__private__.pdfEscape=x.pdfEscape=function(v,z){return(function(ie,fe){var Se,Ee,Me,tt,ct,kt,Ct,Kt,Cr;if(Me=(fe=fe||{}).sourceEncoding||"Unicode",ct=fe.outputEncoding,(fe.autoencode||ct)&&lt[ht].metadata&&lt[ht].metadata[Me]&&lt[ht].metadata[Me].encoding&&(tt=lt[ht].metadata[Me].encoding,!ct&&lt[ht].encoding&&(ct=lt[ht].encoding),!ct&&tt.codePages&&(ct=tt.codePages[0]),typeof ct=="string"&&(ct=tt[ct]),ct)){for(Ct=!1,kt=[],Se=0,Ee=ie.length;Se<Ee;Se++)(Kt=ct[ie.charCodeAt(Se)])?kt.push(String.fromCharCode(Kt)):kt.push(ie[Se]),kt[Se].charCodeAt(0)>>8&&(Ct=!0);ie=kt.join("")}for(Se=ie.length;Ct===void 0&&Se!==0;)ie.charCodeAt(Se-1)>>8&&(Ct=!0),Se--;if(!Ct)return ie;for(kt=fe.noBOM?[]:[254,255],Se=0,Ee=ie.length;Se<Ee;Se++){if((Cr=(Kt=ie.charCodeAt(Se))>>8)>>8)throw new Error("Character at position "+Se+" of string '"+ie+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");kt.push(Cr),kt.push(Kt-(Cr<<8))}return String.fromCharCode.apply(void 0,kt)})(v,z).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},$o=x.__private__.beginPage=function(v){Te[++qt]=[],jt[qt]={objId:0,contentsObjId:0,userUnit:Number(u),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(v[0]),topRightY:Number(v[1])}},ha(qt),Le(Te[U])},Pl=function(v,z){var ie,fe,Se;switch(e=z||e,typeof v=="string"&&(ie=S(v.toLowerCase()),Array.isArray(ie)&&(fe=ie[0],Se=ie[1])),Array.isArray(v)&&(fe=v[0]*gt,Se=v[1]*gt),isNaN(fe)&&(fe=s[0],Se=s[1]),(fe>14400||Se>14400)&&(yr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),fe=Math.min(14400,fe),Se=Math.min(14400,Se)),s=[fe,Se],e.substr(0,1)){case"l":Se>fe&&(s=[Se,fe]);break;case"p":fe>Se&&(s=[Se,fe])}$o(s),xa(hi),ne(ya),Gs!==0&&ne(Gs+" J"),Ks!==0&&ne(Ks+" j"),Gt.publish("addPage",{pageNumber:qt})},es=function(v){v>0&&v<=qt&&(Te.splice(v,1),jt.splice(v,1),qt--,U>qt&&(U=qt),this.setPage(U))},ha=function(v){v>0&&v<=qt&&(U=v)},Zn=x.__private__.getNumberOfPages=x.getNumberOfPages=function(){return Te.length-1},Il=function(v,z,ie){var fe,Se=void 0;return ie=ie||{},v=v!==void 0?v:lt[ht].fontName,z=z!==void 0?z:lt[ht].fontStyle,fe=v.toLowerCase(),It[fe]!==void 0&&It[fe][z]!==void 0?Se=It[fe][z]:It[v]!==void 0&&It[v][z]!==void 0?Se=It[v][z]:ie.disableWarning===!1&&yr.warn("Unable to look up font label for font '"+v+"', '"+z+"'. Refer to getFontList() for available fonts."),Se||ie.noFallback||(Se=It.times[z])==null&&(Se=It.times.normal),Se},bn=x.__private__.putInfo=function(){var v=fr(),z=function(fe){return fe};for(var ie in y!==null&&(z=Fr.encryptor(v,0)),ne("<<"),ne("/Producer ("+Xn(z("jsPDF "+ft.version))+")"),Tt)Tt.hasOwnProperty(ie)&&Tt[ie]&&ne("/"+ie.substr(0,1).toUpperCase()+ie.substr(1)+" ("+Xn(z(Tt[ie]))+")");ne("/CreationDate ("+Xn(z(se))+")"),ne(">>"),ne("endobj")},Lc=x.__private__.putCatalog=function(v){var z=(v=v||{}).rootDictionaryObjId||Mo;switch(fr(),ne("<<"),ne("/Type /Catalog"),ne("/Pages "+z+" 0 R"),ot||(ot="fullwidth"),ot){case"fullwidth":ne("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ne("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ne("/OpenAction [3 0 R /Fit]");break;case"original":ne("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ie=""+ot;ie.substr(ie.length-1)==="%"&&(ot=parseInt(ot)/100),typeof ot=="number"&&ne("/OpenAction [3 0 R /XYZ null null "+D(ot)+"]")}switch(Lt||(Lt="continuous"),Lt){case"continuous":ne("/PageLayout /OneColumn");break;case"single":ne("/PageLayout /SinglePage");break;case"two":case"twoleft":ne("/PageLayout /TwoColumnLeft");break;case"tworight":ne("/PageLayout /TwoColumnRight")}pt&&ne("/PageMode /"+pt),Gt.publish("putCatalog"),ne(">>"),ne("endobj")},Hr=x.__private__.putTrailer=function(){ne("trailer"),ne("<<"),ne("/Size "+(Z+1)),ne("/Root "+Z+" 0 R"),ne("/Info "+(Z-1)+" 0 R"),y!==null&&ne("/Encrypt "+Fr.oid+" 0 R"),ne("/ID [ <"+xe+"> <"+xe+"> ]"),ne(">>")},El=x.__private__.putHeader=function(){ne("%PDF-"+P),ne("%")},fa=x.__private__.putXRef=function(){var v="0000000000";ne("xref"),ne("0 "+(Z+1)),ne("0000000000 65535 f ");for(var z=1;z<=Z;z++)typeof ae[z]=="function"?ne((v+ae[z]()).slice(-10)+" 00000 n "):ae[z]!==void 0?ne((v+ae[z]).slice(-10)+" 00000 n "):ne("0000000000 00000 n ")},ui=x.__private__.buildDocument=function(){var v;Z=0,pe=0,he=[],ae=[],ue=[],Mo=zr(),_i=zr(),Le(he),Gt.publish("buildDocument"),El(),Bi(),(function(){Gt.publish("putAdditionalObjects");for(var ie=0;ie<ue.length;ie++){var fe=ue[ie];qr(fe.objId,!0),ne(fe.content),ne("endobj")}Gt.publish("postPutAdditionalObjects")})(),v=[],(function(){for(var ie in lt)lt.hasOwnProperty(ie)&&(j===!1||j===!0&&_.hasOwnProperty(ie))&&Do(lt[ie])})(),(function(){var ie;for(ie in At)At.hasOwnProperty(ie)&&Nc(At[ie])})(),(function(){for(var ie in fn)fn.hasOwnProperty(ie)&&da(fn[ie])})(),(function(ie){var fe;for(fe in mt)mt.hasOwnProperty(fe)&&(mt[fe]instanceof bl?ua(mt[fe]):mt[fe]instanceof gc&&Za(mt[fe],ie))})(v),Gt.publish("putResources"),v.forEach(gr),gr({resourcesOid:_i,objectOid:Number.MAX_SAFE_INTEGER}),Gt.publish("postPutResources"),y!==null&&(Fr.oid=fr(),ne("<<"),ne("/Filter /Standard"),ne("/V "+Fr.v),ne("/R "+Fr.r),ne("/U <"+Fr.toHexString(Fr.U)+">"),ne("/O <"+Fr.toHexString(Fr.O)+">"),ne("/P "+Fr.P),ne(">>"),ne("endobj")),bn(),Lc();var z=pe;return fa(),Hr(),ne("startxref"),ne(""+z),ne("%%EOF"),Le(Te[U]),he.join(`
`)},Ni=x.__private__.getBlob=function(v){return new Blob([Ke(v)],{type:"application/pdf"})},In=x.output=x.__private__.output=(ci=function(v,z){switch(typeof(z=z||{})=="string"?z={filename:z}:z.filename=z.filename||"generated.pdf",v){case void 0:return ui();case"save":x.save(z.filename);break;case"arraybuffer":return Ke(ui());case"blob":return Ni(ui());case"bloburi":case"bloburl":if(Bt.URL!==void 0&&typeof Bt.URL.createObjectURL=="function")return Bt.URL&&Bt.URL.createObjectURL(Ni(ui()))||void 0;yr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ie="",fe=ui();try{ie=lm(fe)}catch{ie=lm(unescape(encodeURIComponent(fe)))}return"data:application/pdf;filename="+z.filename+";base64,"+ie;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Bt)==="[object Window]"){var Se="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ee=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';z.pdfObjectUrl&&(Se=z.pdfObjectUrl,Ee="");var Me='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Se+'"'+Ee+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(z)+");<\/script></body></html>",tt=Bt.open();return tt!==null&&tt.document.write(Me),tt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Bt)==="[object Window]"){var ct='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(z.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+z.filename+'" width="500px" height="400px" /></body></html>',kt=Bt.open();if(kt!==null){kt.document.write(ct);var Ct=this;kt.document.documentElement.querySelector("#pdfViewer").onload=function(){kt.document.title=z.filename,kt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ct.output("bloburl"))}}return kt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Bt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Kt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",z)+'"></iframe></body></html>',Cr=Bt.open();if(Cr!==null&&(Cr.document.write(Kt),Cr.document.title=z.filename),Cr||typeof safari>"u")return Cr;break;case"datauri":case"dataurl":return Bt.document.location.href=this.output("datauristring",z);default:return null}},ci.foo=function(){try{return ci.apply(this,arguments)}catch(ie){var v=ie.stack||"";~v.indexOf(" at ")&&(v=v.split(" at ")[1]);var z="Error in function "+v.split(`
`)[0].split("<")[0]+": "+ie.message;if(!Bt.console)throw new Error(z);Bt.console.error(z,ie),Bt.alert&&alert(z)}},ci.foo.bar=ci,ci.foo),pa=function(v){return Array.isArray(Wo)===!0&&Wo.indexOf(v)>-1};switch(a){case"pt":gt=1;break;case"mm":gt=72/25.4;break;case"cm":gt=72/2.54;break;case"in":gt=72;break;case"px":gt=pa("px_scaling")==1?.75:96/72;break;case"pc":case"em":gt=12;break;case"ex":gt=6;break;default:if(typeof a!="number")throw new Error("Invalid unit: "+a);gt=a}var Fr=null;Q(),oe();var ma=x.__private__.getPageInfo=x.getPageInfo=function(v){if(isNaN(v)||v%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:jt[v].objId,pageNumber:v,pageContext:jt[v]}},zl=x.__private__.getPageInfoByObjId=function(v){if(isNaN(v)||v%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var z in jt)if(jt[z].objId===v)break;return ma(z)},Us=x.__private__.getCurrentPageInfo=x.getCurrentPageInfo=function(){return{objId:jt[U].objId,pageNumber:U,pageContext:jt[U]}};x.addPage=function(){return Pl.apply(this,arguments),this},x.setPage=function(){return ha.apply(this,arguments),Le.call(this,Te[U]),this},x.insertPage=function(v){return this.addPage(),this.movePage(U,v),this},x.movePage=function(v,z){var ie,fe;if(v>z){ie=Te[v],fe=jt[v];for(var Se=v;Se>z;Se--)Te[Se]=Te[Se-1],jt[Se]=jt[Se-1];Te[z]=ie,jt[z]=fe,this.setPage(z)}else if(v<z){ie=Te[v],fe=jt[v];for(var Ee=v;Ee<z;Ee++)Te[Ee]=Te[Ee+1],jt[Ee]=jt[Ee+1];Te[z]=ie,jt[z]=fe,this.setPage(z)}return this},x.deletePage=function(){return es.apply(this,arguments),this},x.__private__.text=x.text=function(v,z,ie,fe,Se){var Ee,Me,tt,ct,kt,Ct,Kt,Cr,Gr,pr=(fe=fe||{}).scope||this;if(typeof v=="number"&&typeof z=="number"&&(typeof ie=="string"||Array.isArray(ie))){var tn=ie;ie=z,z=v,v=tn}if(arguments[3]instanceof xt==0?(tt=arguments[4],ct=arguments[5],ur(Kt=arguments[3])==="object"&&Kt!==null||(typeof tt=="string"&&(ct=tt,tt=null),typeof Kt=="string"&&(ct=Kt,Kt=null),typeof Kt=="number"&&(tt=Kt,Kt=null),fe={flags:Kt,angle:tt,align:ct})):(I("The transform parameter of text() with a Matrix value"),Gr=Se),isNaN(z)||isNaN(ie)||v==null)throw new Error("Invalid arguments passed to jsPDF.text");if(v.length===0)return pr;var Or,mn="",xi=typeof fe.lineHeightFactor=="number"?fe.lineHeightFactor:En,zn=pr.internal.scaleFactor;function Dl(Yt){return Yt=Yt.split("	").join(Array(fe.TabLen||9).join(" ")),Xn(Yt,Kt)}function Vo(Yt){for(var nr,Nr=Yt.concat(),Kr=[],zi=Nr.length;zi--;)typeof(nr=Nr.shift())=="string"?Kr.push(nr):Array.isArray(Yt)&&(nr.length===1||nr[1]===void 0&&nr[2]===void 0)?Kr.push(nr[0]):Kr.push([nr[0],nr[1],nr[2]]);return Kr}function Sa(Yt,nr){var Nr;if(typeof Yt=="string")Nr=nr(Yt)[0];else if(Array.isArray(Yt)){for(var Kr,zi,Qs=Yt.concat(),us=[],So=Qs.length;So--;)typeof(Kr=Qs.shift())=="string"?us.push(nr(Kr)[0]):Array.isArray(Kr)&&typeof Kr[0]=="string"&&(zi=nr(Kr[0],Kr[1],Kr[2]),us.push([zi[0],zi[1],zi[2]]));Nr=us}return Nr}var Uo=!1,ja=!0;if(typeof v=="string")Uo=!0;else if(Array.isArray(v)){var qo=v.concat();Me=[];for(var ka,Sn=qo.length;Sn--;)(typeof(ka=qo.shift())!="string"||Array.isArray(ka)&&typeof ka[0]!="string")&&(ja=!1);Uo=ja}if(Uo===!1)throw new Error('Type of text must be string or Array. "'+v+'" is not recognized.');typeof v=="string"&&(v=v.match(/[\r?\n]/)?v.split(/\r\n|\r|\n/g):[v]);var Ca=Ve/pr.internal.scaleFactor,Ta=Ca*(xi-1);switch(fe.baseline){case"bottom":ie-=Ta;break;case"top":ie+=Ca-Ta;break;case"hanging":ie+=Ca-2*Ta;break;case"middle":ie+=Ca/2-Ta}if((Ct=fe.maxWidth||0)>0&&(typeof v=="string"?v=pr.splitTextToSize(v,Ct):Object.prototype.toString.call(v)==="[object Array]"&&(v=v.reduce(function(Yt,nr){return Yt.concat(pr.splitTextToSize(nr,Ct))},[]))),Ee={text:v,x:z,y:ie,options:fe,mutex:{pdfEscape:Xn,activeFontKey:ht,fonts:lt,activeFontSize:Ve}},Gt.publish("preProcessText",Ee),v=Ee.text,tt=(fe=Ee.options).angle,Gr instanceof xt==0&&tt&&typeof tt=="number"){tt*=Math.PI/180,fe.rotationDirection===0&&(tt=-tt),B===O&&(tt=-tt);var Xs=Math.cos(tt),Zs=Math.sin(tt);Gr=new xt(Xs,Zs,-Zs,Xs,0,0)}else tt&&tt instanceof xt&&(Gr=tt);B!==O||Gr||(Gr=Ai),(kt=fe.charSpace||Pi)!==void 0&&(mn+=W(X(kt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Cr=fe.horizontalScale)!==void 0&&(mn+=W(100*Cr)+` Tz
`),fe.lang;var _r=-1,Ii=fe.renderingMode!==void 0?fe.renderingMode:fe.stroke,Zi=pr.internal.getCurrentPageInfo().pageContext;switch(Ii){case 0:case!1:case"fill":_r=0;break;case 1:case!0:case"stroke":_r=1;break;case 2:case"fillThenStroke":_r=2;break;case 3:case"invisible":_r=3;break;case 4:case"fillAndAddForClipping":_r=4;break;case 5:case"strokeAndAddPathForClipping":_r=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":_r=6;break;case 7:case"addToPathForClipping":_r=7}var $l=Zi.usedRenderingMode!==void 0?Zi.usedRenderingMode:-1;_r!==-1?mn+=_r+` Tr
`:$l!==-1&&(mn+=`0 Tr
`),_r!==-1&&(Zi.usedRenderingMode=_r),ct=fe.align||"left";var ei,Ho=Ve*xi,ss=pr.internal.pageSize.getWidth(),ls=lt[ht];kt=fe.charSpace||Pi,Ct=fe.maxWidth||0,Kt=Object.assign({autoencode:!0,noBOM:!0},fe.flags);var yo=[],yi=function(Yt){return pr.getStringUnitWidth(Yt,{font:ls,charSpace:kt,fontSize:Ve,doKerning:!1})*Ve/zn};if(Object.prototype.toString.call(v)==="[object Array]"){var ti;Me=Vo(v),ct!=="left"&&(ei=Me.map(yi));var ri,Go=0;if(ct==="right"){z-=ei[0],v=[],Sn=Me.length;for(var Qi=0;Qi<Sn;Qi++)Qi===0?(ri=Qn(z),ti=mo(ie)):(ri=X(Go-ei[Qi]),ti=-Ho),v.push([Me[Qi],ri,ti]),Go=ei[Qi]}else if(ct==="center"){z-=ei[0]/2,v=[],Sn=Me.length;for(var vo=0;vo<Sn;vo++)vo===0?(ri=Qn(z),ti=mo(ie)):(ri=X((Go-ei[vo])/2),ti=-Ho),v.push([Me[vo],ri,ti]),Go=ei[vo]}else if(ct==="left"){v=[],Sn=Me.length;for(var bo=0;bo<Sn;bo++)v.push(Me[bo])}else if(ct==="justify"&&ls.encoding==="Identity-H"){v=[],Sn=Me.length,Ct=Ct!==0?Ct:ss;for(var eo=0,Wr=0;Wr<Sn;Wr++)if(ti=Wr===0?mo(ie):-Ho,ri=Wr===0?Qn(z):eo,Wr<Sn-1){var Aa=X((Ct-ei[Wr])/(Me[Wr].split(" ").length-1)),to=Me[Wr].split(" ");v.push([to[0]+" ",ri,ti]),eo=0;for(var Ei=1;Ei<to.length;Ei++){var _a=(yi(to[Ei-1]+" "+to[Ei])-yi(to[Ei]))*zn+Aa;Ei==to.length-1?v.push([to[Ei],_a,0]):v.push([to[Ei]+" ",_a,0]),eo-=_a}}else v.push([Me[Wr],ri,ti]);v.push(["",eo,0])}else{if(ct!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(v=[],Sn=Me.length,Ct=Ct!==0?Ct:ss,Wr=0;Wr<Sn;Wr++){ti=Wr===0?mo(ie):-Ho,ri=Wr===0?Qn(z):0;var Ba=Me[Wr].split(" ").length-1,cs=Ba>0?(Ct-ei[Wr])/Ba:0;Wr<Sn-1?yo.push(W(X(cs))):yo.push(0),v.push([Me[Wr],ri,ti])}}}(typeof fe.R2L=="boolean"?fe.R2L:Nt)===!0&&(v=Sa(v,function(Yt,nr,Nr){return[Yt.split("").reverse().join(""),nr,Nr]})),Ee={text:v,x:z,y:ie,options:fe,mutex:{pdfEscape:Xn,activeFontKey:ht,fonts:lt,activeFontSize:Ve}},Gt.publish("postProcessText",Ee),v=Ee.text,Or=Ee.mutex.isHex||!1;var ds=lt[ht].encoding;ds!=="WinAnsiEncoding"&&ds!=="StandardEncoding"||(v=Sa(v,function(Yt,nr,Nr){return[Dl(Yt),nr,Nr]})),Me=Vo(v),v=[];for(var wo,Ko,Yo,Na=Array.isArray(Me[0])?1:0,Jo="",La=function(Yt,nr,Nr){var Kr="";return Nr instanceof xt?(Nr=typeof fe.angle=="number"?Yn(Nr,new xt(1,0,0,1,Yt,nr)):Yn(new xt(1,0,0,1,Yt,nr),Nr),B===O&&(Nr=Yn(new xt(1,0,0,-1,0,0),Nr)),Kr=Nr.join(" ")+` Tm
`):Kr=W(Yt)+" "+W(nr)+` Td
`,Kr},Br=0;Br<Me.length;Br++){switch(Jo="",Na){case 1:Yo=(Or?"<":"(")+Me[Br][0]+(Or?">":")"),wo=parseFloat(Me[Br][1]),Ko=parseFloat(Me[Br][2]);break;case 0:Yo=(Or?"<":"(")+Me[Br]+(Or?">":")"),wo=Qn(z),Ko=mo(ie)}yo!==void 0&&yo[Br]!==void 0&&(Jo=yo[Br]+` Tw
`),Br===0?v.push(Jo+La(wo,Ko,Gr)+Yo):Na===0?v.push(Jo+Yo):Na===1&&v.push(Jo+La(wo,Ko,Gr)+Yo)}v=Na===0?v.join(` Tj
T* `):v.join(` Tj
`),v+=` Tj
`;var Fn=`BT
/`;return Fn+=ht+" "+Ve+` Tf
`,Fn+=W(Ve*xi)+` TL
`,Fn+=Ri+`
`,Fn+=mn,Fn+=v,ne(Fn+="ET"),_[ht]=!0,pr};var ga=x.__private__.clip=x.clip=function(v){return ne(v==="evenodd"?"W*":"W"),this};x.clipEvenOdd=function(){return ga("evenodd")},x.__private__.discardPath=x.discardPath=function(){return ne("n"),this};var Gi=x.__private__.isValidStyle=function(v){var z=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(v)!==-1&&(z=!0),z};x.__private__.setDefaultPathOperation=x.setDefaultPathOperation=function(v){return Gi(v)&&(p=v),this};var ts=x.__private__.getStyle=x.getStyle=function(v){var z=p;switch(v){case"D":case"S":z="S";break;case"F":z="f";break;case"FD":case"DF":z="B";break;case"f":case"f*":case"B":case"B*":z=v}return z},Ht=x.close=function(){return ne("h"),this};x.stroke=function(){return ne("S"),this},x.fill=function(v){return fo("f",v),this},x.fillEvenOdd=function(v){return fo("f*",v),this},x.fillStroke=function(v){return fo("B",v),this},x.fillStrokeEvenOdd=function(v){return fo("B*",v),this};var fo=function(v,z){ur(z)==="object"?Fl(z,v):ne(v)},rs=function(v){v===null||B===O&&v===void 0||(v=ts(v),ne(v))};function qs(v,z,ie,fe,Se){var Ee=new gc(z||this.boundingBox,ie||this.xStep,fe||this.yStep,this.gState,Se||this.matrix);Ee.stream=this.stream;var Me=v+"$$"+this.cloneIndex+++"$$";return vn(Me,Ee),Ee}var Fl=function(v,z){var ie=Ot[v.key],fe=mt[ie];if(fe instanceof bl)ne("q"),ne(Ol(z)),fe.gState&&x.setGState(fe.gState),ne(v.matrix.toString()+" cm"),ne("/"+ie+" sh"),ne("Q");else if(fe instanceof gc){var Se=new xt(1,0,0,-1,0,gi());v.matrix&&(Se=Se.multiply(v.matrix||Ai),ie=qs.call(fe,v.key,v.boundingBox,v.xStep,v.yStep,Se).id),ne("q"),ne("/Pattern cs"),ne("/"+ie+" scn"),fe.gState&&x.setGState(fe.gState),ne(z),ne("Q")}},Ol=function(v){switch(v){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},ns=x.moveTo=function(v,z){return ne(W(X(v))+" "+W(R(z))+" m"),this},po=x.lineTo=function(v,z){return ne(W(X(v))+" "+W(R(z))+" l"),this},Li=x.curveTo=function(v,z,ie,fe,Se,Ee){return ne([W(X(v)),W(R(z)),W(X(ie)),W(R(fe)),W(X(Se)),W(R(Ee)),"c"].join(" ")),this};x.__private__.line=x.line=function(v,z,ie,fe,Se){if(isNaN(v)||isNaN(z)||isNaN(ie)||isNaN(fe)||!Gi(Se))throw new Error("Invalid arguments passed to jsPDF.line");return B===F?this.lines([[ie-v,fe-z]],v,z,[1,1],Se||"S"):this.lines([[ie-v,fe-z]],v,z,[1,1]).stroke()},x.__private__.lines=x.lines=function(v,z,ie,fe,Se,Ee){var Me,tt,ct,kt,Ct,Kt,Cr,Gr,pr,tn,Or,mn;if(typeof v=="number"&&(mn=ie,ie=z,z=v,v=mn),fe=fe||[1,1],Ee=Ee||!1,isNaN(z)||isNaN(ie)||!Array.isArray(v)||!Array.isArray(fe)||!Gi(Se)||typeof Ee!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ns(z,ie),Me=fe[0],tt=fe[1],kt=v.length,tn=z,Or=ie,ct=0;ct<kt;ct++)(Ct=v[ct]).length===2?(tn=Ct[0]*Me+tn,Or=Ct[1]*tt+Or,po(tn,Or)):(Kt=Ct[0]*Me+tn,Cr=Ct[1]*tt+Or,Gr=Ct[2]*Me+tn,pr=Ct[3]*tt+Or,tn=Ct[4]*Me+tn,Or=Ct[5]*tt+Or,Li(Kt,Cr,Gr,pr,tn,Or));return Ee&&Ht(),rs(Se),this},x.path=function(v){for(var z=0;z<v.length;z++){var ie=v[z],fe=ie.c;switch(ie.op){case"m":ns(fe[0],fe[1]);break;case"l":po(fe[0],fe[1]);break;case"c":Li.apply(this,fe);break;case"h":Ht()}}return this},x.__private__.rect=x.rect=function(v,z,ie,fe,Se){if(isNaN(v)||isNaN(z)||isNaN(ie)||isNaN(fe)||!Gi(Se))throw new Error("Invalid arguments passed to jsPDF.rect");return B===F&&(fe=-fe),ne([W(X(v)),W(R(z)),W(X(ie)),W(X(fe)),"re"].join(" ")),rs(Se),this},x.__private__.triangle=x.triangle=function(v,z,ie,fe,Se,Ee,Me){if(isNaN(v)||isNaN(z)||isNaN(ie)||isNaN(fe)||isNaN(Se)||isNaN(Ee)||!Gi(Me))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ie-v,fe-z],[Se-ie,Ee-fe],[v-Se,z-Ee]],v,z,[1,1],Me,!0),this},x.__private__.roundedRect=x.roundedRect=function(v,z,ie,fe,Se,Ee,Me){if(isNaN(v)||isNaN(z)||isNaN(ie)||isNaN(fe)||isNaN(Se)||isNaN(Ee)||!Gi(Me))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var tt=4/3*(Math.SQRT2-1);return Se=Math.min(Se,.5*ie),Ee=Math.min(Ee,.5*fe),this.lines([[ie-2*Se,0],[Se*tt,0,Se,Ee-Ee*tt,Se,Ee],[0,fe-2*Ee],[0,Ee*tt,-Se*tt,Ee,-Se,Ee],[2*Se-ie,0],[-Se*tt,0,-Se,-Ee*tt,-Se,-Ee],[0,2*Ee-fe],[0,-Ee*tt,Se*tt,-Ee,Se,-Ee]],v+Se,z,[1,1],Me,!0),this},x.__private__.ellipse=x.ellipse=function(v,z,ie,fe,Se){if(isNaN(v)||isNaN(z)||isNaN(ie)||isNaN(fe)||!Gi(Se))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ee=4/3*(Math.SQRT2-1)*ie,Me=4/3*(Math.SQRT2-1)*fe;return ns(v+ie,z),Li(v+ie,z-Me,v+Ee,z-fe,v,z-fe),Li(v-Ee,z-fe,v-ie,z-Me,v-ie,z),Li(v-ie,z+Me,v-Ee,z+fe,v,z+fe),Li(v+Ee,z+fe,v+ie,z+Me,v+ie,z),rs(Se),this},x.__private__.circle=x.circle=function(v,z,ie,fe){if(isNaN(v)||isNaN(z)||isNaN(ie)||!Gi(fe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(v,z,ie,ie,fe)},x.setFont=function(v,z,ie){return ie&&(z=ce(z,ie)),ht=Il(v,z,{disableWarning:!1}),this};var Ki=x.__private__.getFont=x.getFont=function(){return lt[Il.apply(x,arguments)]};x.__private__.getFontList=x.getFontList=function(){var v,z,ie={};for(v in It)if(It.hasOwnProperty(v))for(z in ie[v]=[],It[v])It[v].hasOwnProperty(z)&&ie[v].push(z);return ie},x.addFont=function(v,z,ie,fe,Se){var Ee=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ee.indexOf(arguments[3])!==-1?Se=arguments[3]:arguments[3]&&Ee.indexOf(arguments[3])==-1&&(ie=ce(ie,fe)),Qa.call(this,v,z,ie,Se=Se||"Identity-H")};var En,hi=r.lineWidth||.200025,bt=x.__private__.getLineWidth=x.getLineWidth=function(){return hi},xa=x.__private__.setLineWidth=x.setLineWidth=function(v){return hi=v,ne(W(X(v))+" w"),this};x.__private__.setLineDash=ft.API.setLineDash=ft.API.setLineDashPattern=function(v,z){if(v=v||[],z=z||0,isNaN(z)||!Array.isArray(v))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return v=v.map(function(ie){return W(X(ie))}).join(" "),z=W(X(z)),ne("["+v+"] "+z+" d"),this};var Yi=x.__private__.getLineHeight=x.getLineHeight=function(){return Ve*En};x.__private__.getLineHeight=x.getLineHeight=function(){return Ve*En};var Rc=x.__private__.setLineHeightFactor=x.setLineHeightFactor=function(v){return typeof(v=v||1.15)=="number"&&(En=v),this},Wl=x.__private__.getLineHeightFactor=x.getLineHeightFactor=function(){return En};Rc(r.lineHeight);var Qn=x.__private__.getHorizontalCoordinate=function(v){return X(v)},mo=x.__private__.getVerticalCoordinate=function(v){return B===O?v:jt[U].mediaBox.topRightY-jt[U].mediaBox.bottomLeftY-X(v)},Ml=x.__private__.getHorizontalCoordinateString=x.getHorizontalCoordinateString=function(v){return W(Qn(v))},is=x.__private__.getVerticalCoordinateString=x.getVerticalCoordinateString=function(v){return W(mo(v))},ya=r.strokeColor||"0 G";x.__private__.getStrokeColor=x.getDrawColor=function(){return Hi(ya)},x.__private__.setStrokeColor=x.setDrawColor=function(v,z,ie,fe){return ya=pn({ch1:v,ch2:z,ch3:ie,ch4:fe,pdfColorType:"draw",precision:2}),ne(ya),this};var Hs=r.fillColor||"0 g";x.__private__.getFillColor=x.getFillColor=function(){return Hi(Hs)},x.__private__.setFillColor=x.setFillColor=function(v,z,ie,fe){return Hs=pn({ch1:v,ch2:z,ch3:ie,ch4:fe,pdfColorType:"fill",precision:2}),ne(Hs),this};var Ri=r.textColor||"0 g",Ji=x.__private__.getTextColor=x.getTextColor=function(){return Hi(Ri)};x.__private__.setTextColor=x.setTextColor=function(v,z,ie,fe){return Ri=pn({ch1:v,ch2:z,ch3:ie,ch4:fe,pdfColorType:"text",precision:3}),this};var Pi=r.charSpace,os=x.__private__.getCharSpace=x.getCharSpace=function(){return parseFloat(Pi||0)};x.__private__.setCharSpace=x.setCharSpace=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Pi=v,this};var Gs=0;x.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},x.__private__.setLineCap=x.setLineCap=function(v){var z=x.CapJoinStyles[v];if(z===void 0)throw new Error("Line cap style of '"+v+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Gs=z,ne(z+" J"),this};var Ks=0;x.__private__.setLineJoin=x.setLineJoin=function(v){var z=x.CapJoinStyles[v];if(z===void 0)throw new Error("Line join style of '"+v+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ks=z,ne(z+" j"),this},x.__private__.setLineMiterLimit=x.__private__.setMiterLimit=x.setLineMiterLimit=x.setMiterLimit=function(v){if(v=v||0,isNaN(v))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ne(W(X(v))+" M"),this},x.GState=Ru,x.setGState=function(v){(v=typeof v=="string"?At[kr[v]]:go(null,v)).equals(br)||(ne("/"+v.id+" gs"),br=v)};var go=function(v,z){if(!v||!kr[v]){var ie=!1;for(var fe in At)if(At.hasOwnProperty(fe)&&At[fe].equals(z)){ie=!0;break}if(ie)z=At[fe];else{var Se="GS"+(Object.keys(At).length+1).toString(10);At[Se]=z,z.id=Se}return v&&(kr[v]=z.id),Gt.publish("addGState",z),z}};x.addGState=function(v,z){return go(v,z),this},x.saveGraphicsState=function(){return ne("q"),tr.push({key:ht,size:Ve,color:Ri}),this},x.restoreGraphicsState=function(){ne("Q");var v=tr.pop();return ht=v.key,Ve=v.size,Ri=v.color,br=null,this},x.setCurrentTransformationMatrix=function(v){return ne(v.toString()+" cm"),this},x.comment=function(v){return ne("#"+v),this};var Xi=function(v,z){var ie=v||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ie},set:function(Ee){isNaN(Ee)||(ie=parseFloat(Ee))}});var fe=z||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return fe},set:function(Ee){isNaN(Ee)||(fe=parseFloat(Ee))}});var Se="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Se},set:function(Ee){Se=Ee.toString()}}),this},va=function(v,z,ie,fe){Xi.call(this,v,z),this.type="rect";var Se=ie||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Se},set:function(Me){isNaN(Me)||(Se=parseFloat(Me))}});var Ee=fe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ee},set:function(Me){isNaN(Me)||(Ee=parseFloat(Me))}}),this},ba=function(){this.page=qt,this.currentPage=U,this.pages=Te.slice(0),this.pagesContext=jt.slice(0),this.x=st,this.y=hr,this.matrix=Ut,this.width=wa(U),this.height=pi(U),this.outputDestination=We,this.id="",this.objectNumber=-1};ba.prototype.restore=function(){qt=this.page,U=this.currentPage,jt=this.pagesContext,Te=this.pages,st=this.x,hr=this.y,Ut=this.matrix,Ys(U,this.width),mi(U,this.height),We=this.outputDestination};var fi=function(v,z,ie,fe,Se){li.push(new ba),qt=U=0,Te=[],st=v,hr=z,Ut=Se,$o([ie,fe])};for(var xo in x.beginFormObject=function(v,z,ie,fe,Se){return fi(v,z,ie,fe,Se),this},x.endFormObject=function(v){return(function(z){if(qi[z])li.pop().restore();else{var ie=new ba,fe="Xo"+(Object.keys(fn).length+1).toString(10);ie.id=fe,qi[z]=fe,fn[fe]=ie,Gt.publish("addFormObject",ie),li.pop().restore()}})(v),this},x.doFormObject=function(v,z){var ie=fn[qi[v]];return ne("q"),ne(z.toString()+" cm"),ne("/"+ie.id+" Do"),ne("Q"),this},x.getFormObject=function(v){var z=fn[qi[v]];return{x:z.x,y:z.y,width:z.width,height:z.height,matrix:z.matrix}},x.save=function(v,z){return v=v||"generated.pdf",(z=z||{}).returnPromise=z.returnPromise||!1,z.returnPromise===!1?(yl(Ni(ui()),v),typeof yl.unload=="function"&&Bt.setTimeout&&setTimeout(yl.unload,911),this):new Promise(function(ie,fe){try{var Se=yl(Ni(ui()),v);typeof yl.unload=="function"&&Bt.setTimeout&&setTimeout(yl.unload,911),ie(Se)}catch(Ee){fe(Ee.message)}})},ft.API)ft.API.hasOwnProperty(xo)&&(xo==="events"&&ft.API.events.length?(function(v,z){var ie,fe,Se;for(Se=z.length-1;Se!==-1;Se--)ie=z[Se][0],fe=z[Se][1],v.subscribe.apply(v,[ie].concat(typeof fe=="function"?[fe]:fe))})(Gt,ft.API.events):x[xo]=ft.API[xo]);function wa(v){return jt[v].mediaBox.topRightX-jt[v].mediaBox.bottomLeftX}function Ys(v,z){jt[v].mediaBox.topRightX=z+jt[v].mediaBox.bottomLeftX}function pi(v){return jt[v].mediaBox.topRightY-jt[v].mediaBox.bottomLeftY}function mi(v,z){jt[v].mediaBox.topRightY=z+jt[v].mediaBox.bottomLeftY}var Js=x.getPageWidth=function(v){return wa(v=v||U)/gt},wn=x.setPageWidth=function(v,z){Ys(v,z*gt)},gi=x.getPageHeight=function(v){return pi(v=v||U)/gt},as=x.setPageHeight=function(v,z){mi(v,z*gt)};return x.internal={pdfEscape:Xn,getStyle:ts,getFont:Ki,getFontSize:Ge,getCharSpace:os,getTextColor:Ji,getLineHeight:Yi,getLineHeightFactor:Wl,getLineWidth:bt,write:Ye,getHorizontalCoordinate:Qn,getVerticalCoordinate:mo,getCoordinateString:Ml,getVerticalCoordinateString:is,collections:{},newObject:fr,newAdditionalObject:ho,newObjectDeferred:zr,newObjectDeferredBegin:qr,getFilters:di,putStream:Jn,events:Gt,scaleFactor:gt,pageSize:{getWidth:function(){return Js(U)},setWidth:function(v){wn(U,v)},getHeight:function(){return gi(U)},setHeight:function(v){as(U,v)}},encryptionOptions:y,encryption:Fr,getEncryptor:function(v){return y!==null?Fr.encryptor(v,0):function(z){return z}},output:In,getNumberOfPages:Zn,pages:Te,out:ne,f2:D,f3:k,getPageInfo:ma,getPageInfoByObjId:zl,getCurrentPageInfo:Us,getPDFVersion:A,Point:Xi,Rectangle:va,Matrix:xt,hasHotfix:pa},Object.defineProperty(x.internal.pageSize,"width",{get:function(){return Js(U)},set:function(v){wn(U,v)},enumerable:!0,configurable:!0}),Object.defineProperty(x.internal.pageSize,"height",{get:function(){return gi(U)},set:function(v){as(U,v)},enumerable:!0,configurable:!0}),(function(v){for(var z=0,ie=Je.length;z<ie;z++){var fe=Qa.call(this,v[z][0],v[z][1],v[z][2],Je[z][3],!0);j===!1&&(_[fe]=!0);var Se=v[z][0].split("-");Rl({id:fe,fontName:Se[0],fontStyle:Se[1]||""})}Gt.publish("addFonts",{fonts:lt,dictionary:It})}).call(x,Je),ht="F1",Pl(s,e),Gt.publish("initialized"),x}pc.prototype.lsbFirstWord=function(r){return String.fromCharCode(255&r,r>>8&255,r>>16&255,r>>24&255)},pc.prototype.toHexString=function(r){return r.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},pc.prototype.hexToBytes=function(r){for(var t=[],e=0;e<r.length;e+=2)t.push(String.fromCharCode(parseInt(r.substr(e,2),16)));return t.join("")},pc.prototype.processOwnerPassword=function(r,t){return Cf(kf(t).substr(0,5),r)},pc.prototype.encryptor=function(r,t){var e=kf(this.encryptionKey+String.fromCharCode(255&r,r>>8&255,r>>16&255,255&t,t>>8&255)).substr(0,10);return function(a){return Cf(e,a)}},Ru.prototype.equals=function(r){var t,e="id,objectNumber,equals";if(!r||ur(r)!==ur(this))return!1;var a=0;for(t in this)if(!(e.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!r.hasOwnProperty(t)||this[t]!==r[t])return!1;a++}for(t in r)r.hasOwnProperty(t)&&e.indexOf(t)<0&&a--;return a===0},ft.API={events:[]},ft.version="3.0.3";var Qr=ft.API,Hf=1,Nl=function(r){return r.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},uc=function(r){return r.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Ft=function(r){return r.toFixed(2)},Ls=function(r){return r.toFixed(5)};Qr.__acroform__={};var Ti=function(r,t){r.prototype=Object.create(t.prototype),r.prototype.constructor=r},hm=function(r){return r*Hf},ia=function(r){var t=new hg,e=it.internal.getHeight(r)||0,a=it.internal.getWidth(r)||0;return t.BBox=[0,0,Number(Ft(a)),Number(Ft(e))],t},kv=Qr.__acroform__.setBit=function(r,t){if(r=r||0,t=t||0,isNaN(r)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return r|1<<t},Cv=Qr.__acroform__.clearBit=function(r,t){if(r=r||0,t=t||0,isNaN(r)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return r&~(1<<t)},Tv=Qr.__acroform__.getBit=function(r,t){if(isNaN(r)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return r&1<<t?1:0},an=Qr.__acroform__.getBitForPdf=function(r,t){if(isNaN(r)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Tv(r,t-1)},sn=Qr.__acroform__.setBitForPdf=function(r,t){if(isNaN(r)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return kv(r,t-1)},ln=Qr.__acroform__.clearBitForPdf=function(r,t){if(isNaN(r)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Cv(r,t-1)},Av=Qr.__acroform__.calculateCoordinates=function(r,t){var e=t.internal.getHorizontalCoordinate,a=t.internal.getVerticalCoordinate,s=r[0],l=r[1],d=r[2],u=r[3],m={};return m.lowerLeft_X=e(s)||0,m.lowerLeft_Y=a(l+u)||0,m.upperRight_X=e(s+d)||0,m.upperRight_Y=a(l)||0,[Number(Ft(m.lowerLeft_X)),Number(Ft(m.lowerLeft_Y)),Number(Ft(m.upperRight_X)),Number(Ft(m.upperRight_Y))]},_v=function(r){if(r.appearanceStreamContent)return r.appearanceStreamContent;if(r.V||r.DV){var t=[],e=r._V||r.DV,a=Tf(r,e),s=r.scope.internal.getFont(r.fontName,r.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(r.scope.__private__.encodeColorString(r.color)),t.push("/"+s+" "+Ft(a.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(a.text),t.push("ET"),t.push("Q"),t.push("EMC");var l=ia(r);return l.scope=r.scope,l.stream=t.join(`
`),l}},Tf=function(r,t){var e=r.fontSize===0?r.maxFontSize:r.fontSize,a={text:"",fontSize:""},s=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");s=r.multiline?s.map(function(D){return D.split(`
`)}):s.map(function(D){return[D]});var l=e,d=it.internal.getHeight(r)||0;d=d<0?-d:d;var u=it.internal.getWidth(r)||0;u=u<0?-u:u;var m=function(D,k,X){if(D+1<s.length){var R=k+" "+s[D+1][0];return pu(R,r,X).width<=u-4}return!1};l++;e:for(;l>0;){t="",l--;var p,y,j=pu("3",r,l).height,_=r.multiline?d-l:(d-j)/2,x=_+=2,P=0,A=0,C=0;if(l<=0){t=`(...) Tj
`,t+="% Width of Text: "+pu(t,r,l=12).width+", FieldWidth:"+u+`
`;break}for(var S="",F=0,O=0;O<s.length;O++)if(s.hasOwnProperty(O)){var B=!1;if(s[O].length!==1&&C!==s[O].length-1){if((j+2)*(F+2)+2>d)continue e;S+=s[O][C],B=!0,A=O,O--}else{S=(S+=s[O][C]+" ").substr(S.length-1)==" "?S.substr(0,S.length-1):S;var H=parseInt(O),ee=m(H,S,l),ce=O>=s.length-1;if(ee&&!ce){S+=" ",C=0;continue}if(ee||ce){if(ce)A=H;else if(r.multiline&&(j+2)*(F+2)+2>d)continue e}else{if(!r.multiline||(j+2)*(F+2)+2>d)continue e;A=H}}for(var W="",I=P;I<=A;I++){var J=s[I];if(r.multiline){if(I===A){W+=J[C]+" ",C=(C+1)%J.length;continue}if(I===P){W+=J[J.length-1]+" ";continue}}W+=J[0]+" "}switch(W=W.substr(W.length-1)==" "?W.substr(0,W.length-1):W,y=pu(W,r,l).width,r.textAlign){case"right":p=u-y-2;break;case"center":p=(u-y)/2;break;default:p=2}t+=Ft(p)+" "+Ft(x)+` Td
`,t+="("+Nl(W)+`) Tj
`,t+=-Ft(p)+` 0 Td
`,x=-(l+2),y=0,P=B?A:A+1,F++,S=""}break}return a.text=t,a.fontSize=l,a},pu=function(r,t,e){var a=t.scope.internal.getFont(t.fontName,t.fontStyle),s=t.scope.getStringUnitWidth(r,{font:a,fontSize:parseFloat(e),charSpace:0})*parseFloat(e);return{height:t.scope.getStringUnitWidth("3",{font:a,fontSize:parseFloat(e),charSpace:0})*parseFloat(e)*1.5,width:s}},Bv={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Nv=function(r,t){var e={type:"reference",object:r};t.internal.getPageInfo(r.page).pageContext.annotations.find(function(a){return a.type===e.type&&a.object===e.object})===void 0&&t.internal.getPageInfo(r.page).pageContext.annotations.push(e)},Lv=function(r,t){if(t.scope=r,r.internal!==void 0&&(r.internal.acroformPlugin===void 0||r.internal.acroformPlugin.isInitialized===!1)){if(Fo.FieldNum=0,r.internal.acroformPlugin=JSON.parse(JSON.stringify(Bv)),r.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Hf=r.internal.scaleFactor,r.internal.acroformPlugin.acroFormDictionaryRoot=new fg,r.internal.acroformPlugin.acroFormDictionaryRoot.scope=r,r.internal.acroformPlugin.acroFormDictionaryRoot._eventID=r.internal.events.subscribe("postPutResources",function(){(function(e){e.internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0})(r)}),r.internal.events.subscribe("buildDocument",function(){(function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var a=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in a)if(a.hasOwnProperty(s)){var l=a[s];l.objId=void 0,l.hasAnnotation&&Nv(l,e)}})(r)}),r.internal.events.subscribe("putCatalog",function(){(function(e){if(e.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(r)}),r.internal.events.subscribe("postPutPages",function(e){(function(a,s){var l=!a;for(var d in a||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),a=a||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(a.hasOwnProperty(d)){var u=a[d],m=[],p=u.Rect;if(u.Rect&&(u.Rect=Av(u.Rect,s)),s.internal.newObjectDeferredBegin(u.objId,!0),u.DA=it.createDefaultAppearanceStream(u),ur(u)==="object"&&typeof u.getKeyValueListForStream=="function"&&(m=u.getKeyValueListForStream()),u.Rect=p,u.hasAppearanceStream&&!u.appearanceStreamContent){var y=_v(u);m.push({key:"AP",value:"<</N "+y+">>"}),s.internal.acroformPlugin.xForms.push(y)}if(u.appearanceStreamContent){var j="";for(var _ in u.appearanceStreamContent)if(u.appearanceStreamContent.hasOwnProperty(_)){var x=u.appearanceStreamContent[_];if(j+="/"+_+" ",j+="<<",Object.keys(x).length>=1||Array.isArray(x)){for(var d in x)if(x.hasOwnProperty(d)){var P=x[d];typeof P=="function"&&(P=P.call(s,u)),j+="/"+d+" "+P+" ",s.internal.acroformPlugin.xForms.indexOf(P)>=0||s.internal.acroformPlugin.xForms.push(P)}}else typeof(P=x)=="function"&&(P=P.call(s,u)),j+="/"+d+" "+P,s.internal.acroformPlugin.xForms.indexOf(P)>=0||s.internal.acroformPlugin.xForms.push(P);j+=">>"}m.push({key:"AP",value:`<<
`+j+">>"})}s.internal.putStream({additionalKeyValues:m,objectId:u.objId}),s.internal.out("endobj")}l&&(function(A,C){for(var S in A)if(A.hasOwnProperty(S)){var F=S,O=A[S];C.internal.newObjectDeferredBegin(O.objId,!0),ur(O)==="object"&&typeof O.putStream=="function"&&O.putStream(),delete A[F]}})(s.internal.acroformPlugin.xForms,s)})(e,r)}),r.internal.acroformPlugin.isInitialized=!0}},ug=Qr.__acroform__.arrayToPdfArray=function(r,t,e){var a=function(d){return d};if(Array.isArray(r)){for(var s="[",l=0;l<r.length;l++)switch(l!==0&&(s+=" "),ur(r[l])){case"boolean":case"number":case"object":s+=r[l].toString();break;case"string":r[l].substr(0,1)!=="/"?(t!==void 0&&e&&(a=e.internal.getEncryptor(t)),s+="("+Nl(a(r[l].toString()))+")"):s+=r[l].toString()}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},rf=function(r,t,e){var a=function(s){return s};return t!==void 0&&e&&(a=e.internal.getEncryptor(t)),(r=r||"").toString(),"("+Nl(a(r))+")"},oa=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(r){this._objId=r}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};oa.prototype.toString=function(){return this.objId+" 0 R"},oa.prototype.putStream=function(){var r=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:r,objectId:this.objId}),this.scope.internal.out("endobj")},oa.prototype.getKeyValueListForStream=function(){var r=[],t=Object.getOwnPropertyNames(this).filter(function(l){return l!="content"&&l!="appearanceStreamContent"&&l!="scope"&&l!="objId"&&l.substring(0,1)!="_"});for(var e in t)if(Object.getOwnPropertyDescriptor(this,t[e]).configurable===!1){var a=t[e],s=this[a];s&&(Array.isArray(s)?r.push({key:a,value:ug(s,this.objId,this.scope)}):s instanceof oa?(s.scope=this.scope,r.push({key:a,value:s.objId+" 0 R"})):typeof s!="function"&&r.push({key:a,value:s}))}return r};var hg=function(){oa.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var r,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){r=e.trim()},get:function(){return r||null}})};Ti(hg,oa);var fg=function(){oa.call(this);var r,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(r){var e=function(a){return a};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+Nl(e(r))+")"}},set:function(e){r=e}})};Ti(fg,oa);var Fo=function r(){oa.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute F supplied.');t=S}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!an(t,3)},set:function(S){S?this.F=sn(t,3):this.F=ln(t,3)}});var e=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return e},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute Ff supplied.');e=S}});var a=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(a.length!==0)return a},set:function(S){a=S!==void 0?S:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[0])?0:a[0]},set:function(S){a[0]=S}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[1])?0:a[1]},set:function(S){a[1]=S}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[2])?0:a[2]},set:function(S){a[2]=S}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[3])?0:a[3]},set:function(S){a[3]=S}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(S){switch(S){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=S;break;default:throw new Error('Invalid value "'+S+'" for attribute FT supplied.')}}});var l=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!l||l.length<1){if(this instanceof Pu)return;l="FieldObject"+r.FieldNum++}var S=function(F){return F};return this.scope&&(S=this.scope.internal.getEncryptor(this.objId)),"("+Nl(S(l))+")"},set:function(S){l=S.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return l},set:function(S){l=S}});var d="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return d},set:function(S){d=S}});var u="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return u},set:function(S){u=S}});var m=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return m},set:function(S){m=S}});var p=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return p===void 0?50/Hf:p},set:function(S){p=S}});var y="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return y},set:function(S){y=S}});var j="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!j||this instanceof Pu||this instanceof wl))return rf(j,this.objId,this.scope)},set:function(S){S=S.toString(),j=S}});var _=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(_)return this instanceof Bn==0?rf(_,this.objId,this.scope):_},set:function(S){S=S.toString(),_=this instanceof Bn==0?S.substr(0,1)==="("?uc(S.substr(1,S.length-2)):uc(S):S}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Bn==1?uc(_.substr(1,_.length-1)):_},set:function(S){S=S.toString(),_=this instanceof Bn==1?"/"+S:S}});var x=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(x)return x},set:function(S){this.V=S}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(x)return this instanceof Bn==0?rf(x,this.objId,this.scope):x},set:function(S){S=S.toString(),x=this instanceof Bn==0?S.substr(0,1)==="("?uc(S.substr(1,S.length-2)):uc(S):S}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Bn==1?uc(x.substr(1,x.length-1)):x},set:function(S){S=S.toString(),x=this instanceof Bn==1?"/"+S:S}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var P,A=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return A},set:function(S){S=!!S,A=S}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(P)return P},set:function(S){P=S}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!an(this.Ff,1)},set:function(S){S?this.Ff=sn(this.Ff,1):this.Ff=ln(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!an(this.Ff,2)},set:function(S){S?this.Ff=sn(this.Ff,2):this.Ff=ln(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!an(this.Ff,3)},set:function(S){S?this.Ff=sn(this.Ff,3):this.Ff=ln(this.Ff,3)}});var C=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(C!==null)return C},set:function(S){if([0,1,2].indexOf(S)===-1)throw new Error('Invalid value "'+S+'" for attribute Q supplied.');C=S}}),Object.defineProperty(this,"textAlign",{get:function(){var S;switch(C){case 0:default:S="left";break;case 1:S="center";break;case 2:S="right"}return S},configurable:!0,enumerable:!0,set:function(S){switch(S){case"right":case 2:C=2;break;case"center":case 1:C=1;break;default:C=0}}})};Ti(Fo,oa);var yc=function(){Fo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var r=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return r},set:function(e){r=e}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return ug(t,this.objId,this.scope)},set:function(e){var a,s;s=[],typeof(a=e)=="string"&&(s=(function(l,d,u){u||(u=1);for(var m,p=[];m=d.exec(l);)p.push(m[u]);return p})(a,/\((.*?)\)/g)),t=s}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,a){for(a=a||!1,e=(e=e||"").toString();t.indexOf(e)!==-1&&(t.splice(t.indexOf(e),1),a!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!an(this.Ff,18)},set:function(e){e?this.Ff=sn(this.Ff,18):this.Ff=ln(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!an(this.Ff,19)},set:function(e){this.combo===!0&&(e?this.Ff=sn(this.Ff,19):this.Ff=ln(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!an(this.Ff,20)},set:function(e){e?(this.Ff=sn(this.Ff,20),t.sort()):this.Ff=ln(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!an(this.Ff,22)},set:function(e){e?this.Ff=sn(this.Ff,22):this.Ff=ln(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!an(this.Ff,23)},set:function(e){e?this.Ff=sn(this.Ff,23):this.Ff=ln(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!an(this.Ff,27)},set:function(e){e?this.Ff=sn(this.Ff,27):this.Ff=ln(this.Ff,27)}}),this.hasAppearanceStream=!1};Ti(yc,Fo);var vc=function(){yc.call(this),this.fontName="helvetica",this.combo=!1};Ti(vc,yc);var bc=function(){vc.call(this),this.combo=!0};Ti(bc,vc);var wu=function(){bc.call(this),this.edit=!0};Ti(wu,bc);var Bn=function(){Fo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!an(this.Ff,15)},set:function(e){e?this.Ff=sn(this.Ff,15):this.Ff=ln(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!an(this.Ff,16)},set:function(e){e?this.Ff=sn(this.Ff,16):this.Ff=ln(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!an(this.Ff,17)},set:function(e){e?this.Ff=sn(this.Ff,17):this.Ff=ln(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!an(this.Ff,26)},set:function(e){e?this.Ff=sn(this.Ff,26):this.Ff=ln(this.Ff,26)}});var r,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(l){return l};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var a,s=[];for(a in s.push("<<"),t)s.push("/"+a+" ("+Nl(e(t[a]))+")");return s.push(">>"),s.join(`
`)}},set:function(e){ur(e)==="object"&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){typeof e=="string"&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(e){r="/"+e}})};Ti(Bn,Fo);var Su=function(){Bn.call(this),this.pushButton=!0};Ti(Su,Bn);var wc=function(){Bn.call(this),this.radio=!0,this.pushButton=!1;var r=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return r},set:function(t){r=t!==void 0?t:[]}})};Ti(wc,Bn);var Pu=function(){var r,t;Fo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return r},set:function(s){r=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(s){t=s}});var e,a={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(u){return u};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var l,d=[];for(l in d.push("<<"),a)d.push("/"+l+" ("+Nl(s(a[l]))+")");return d.push(">>"),d.join(`
`)},set:function(s){ur(s)==="object"&&(a=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return a.CA||""},set:function(s){typeof s=="string"&&(a.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(s){e="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=it.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ti(Pu,Fo),wc.prototype.setAppearance=function(r){if(!("createAppearanceStream"in r)||!("getCA"in r))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var e=this.Kids[t];e.appearanceStreamContent=r.createAppearanceStream(e.optionName),e.caption=r.getCA()}},wc.prototype.createOption=function(r){var t=new Pu;return t.Parent=this,t.optionName=r,this.Kids.push(t),Rv.call(this.scope,t),t};var ju=function(){Bn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=it.CheckBox.createAppearanceStream()};Ti(ju,Bn);var wl=function(){Fo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!an(this.Ff,13)},set:function(t){t?this.Ff=sn(this.Ff,13):this.Ff=ln(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!an(this.Ff,21)},set:function(t){t?this.Ff=sn(this.Ff,21):this.Ff=ln(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!an(this.Ff,23)},set:function(t){t?this.Ff=sn(this.Ff,23):this.Ff=ln(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!an(this.Ff,24)},set:function(t){t?this.Ff=sn(this.Ff,24):this.Ff=ln(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!an(this.Ff,25)},set:function(t){t?this.Ff=sn(this.Ff,25):this.Ff=ln(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!an(this.Ff,26)},set:function(t){t?this.Ff=sn(this.Ff,26):this.Ff=ln(this.Ff,26)}});var r=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return r},set:function(t){Number.isInteger(t)&&(r=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ti(wl,Fo);var ku=function(){wl.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!an(this.Ff,14)},set:function(r){r?this.Ff=sn(this.Ff,14):this.Ff=ln(this.Ff,14)}}),this.password=!0};Ti(ku,wl);var it={CheckBox:{createAppearanceStream:function(){return{N:{On:it.CheckBox.YesNormal},D:{On:it.CheckBox.YesPushDown,Off:it.CheckBox.OffPushDown}}},YesPushDown:function(r){var t=ia(r);t.scope=r.scope;var e=[],a=r.scope.internal.getFont(r.fontName,r.fontStyle).id,s=r.scope.__private__.encodeColorString(r.color),l=Tf(r,r.caption);return e.push("0.749023 g"),e.push("0 0 "+Ft(it.internal.getWidth(r))+" "+Ft(it.internal.getHeight(r))+" re"),e.push("f"),e.push("BMC"),e.push("q"),e.push("0 0 1 rg"),e.push("/"+a+" "+Ft(l.fontSize)+" Tf "+s),e.push("BT"),e.push(l.text),e.push("ET"),e.push("Q"),e.push("EMC"),t.stream=e.join(`
`),t},YesNormal:function(r){var t=ia(r);t.scope=r.scope;var e=r.scope.internal.getFont(r.fontName,r.fontStyle).id,a=r.scope.__private__.encodeColorString(r.color),s=[],l=it.internal.getHeight(r),d=it.internal.getWidth(r),u=Tf(r,r.caption);return s.push("1 g"),s.push("0 0 "+Ft(d)+" "+Ft(l)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+Ft(d-1)+" "+Ft(l-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+e+" "+Ft(u.fontSize)+" Tf "+a),s.push(u.text),s.push("ET"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(r){var t=ia(r);t.scope=r.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+Ft(it.internal.getWidth(r))+" "+Ft(it.internal.getHeight(r))+" re"),e.push("f"),t.stream=e.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(r){var t={D:{Off:it.RadioButton.Circle.OffPushDown},N:{}};return t.N[r]=it.RadioButton.Circle.YesNormal,t.D[r]=it.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(r){var t=ia(r);t.scope=r.scope;var e=[],a=it.internal.getWidth(r)<=it.internal.getHeight(r)?it.internal.getWidth(r)/4:it.internal.getHeight(r)/4;a=Number((.9*a).toFixed(5));var s=it.internal.Bezier_C,l=Number((a*s).toFixed(5));return e.push("q"),e.push("1 0 0 1 "+Ls(it.internal.getWidth(r)/2)+" "+Ls(it.internal.getHeight(r)/2)+" cm"),e.push(a+" 0 m"),e.push(a+" "+l+" "+l+" "+a+" 0 "+a+" c"),e.push("-"+l+" "+a+" -"+a+" "+l+" -"+a+" 0 c"),e.push("-"+a+" -"+l+" -"+l+" -"+a+" 0 -"+a+" c"),e.push(l+" -"+a+" "+a+" -"+l+" "+a+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(r){var t=ia(r);t.scope=r.scope;var e=[],a=it.internal.getWidth(r)<=it.internal.getHeight(r)?it.internal.getWidth(r)/4:it.internal.getHeight(r)/4;a=Number((.9*a).toFixed(5));var s=Number((2*a).toFixed(5)),l=Number((s*it.internal.Bezier_C).toFixed(5)),d=Number((a*it.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+Ls(it.internal.getWidth(r)/2)+" "+Ls(it.internal.getHeight(r)/2)+" cm"),e.push(s+" 0 m"),e.push(s+" "+l+" "+l+" "+s+" 0 "+s+" c"),e.push("-"+l+" "+s+" -"+s+" "+l+" -"+s+" 0 c"),e.push("-"+s+" -"+l+" -"+l+" -"+s+" 0 -"+s+" c"),e.push(l+" -"+s+" "+s+" -"+l+" "+s+" 0 c"),e.push("f"),e.push("Q"),e.push("0 g"),e.push("q"),e.push("1 0 0 1 "+Ls(it.internal.getWidth(r)/2)+" "+Ls(it.internal.getHeight(r)/2)+" cm"),e.push(a+" 0 m"),e.push(a+" "+d+" "+d+" "+a+" 0 "+a+" c"),e.push("-"+d+" "+a+" -"+a+" "+d+" -"+a+" 0 c"),e.push("-"+a+" -"+d+" -"+d+" -"+a+" 0 -"+a+" c"),e.push(d+" -"+a+" "+a+" -"+d+" "+a+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},OffPushDown:function(r){var t=ia(r);t.scope=r.scope;var e=[],a=it.internal.getWidth(r)<=it.internal.getHeight(r)?it.internal.getWidth(r)/4:it.internal.getHeight(r)/4;a=Number((.9*a).toFixed(5));var s=Number((2*a).toFixed(5)),l=Number((s*it.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+Ls(it.internal.getWidth(r)/2)+" "+Ls(it.internal.getHeight(r)/2)+" cm"),e.push(s+" 0 m"),e.push(s+" "+l+" "+l+" "+s+" 0 "+s+" c"),e.push("-"+l+" "+s+" -"+s+" "+l+" -"+s+" 0 c"),e.push("-"+s+" -"+l+" -"+l+" -"+s+" 0 -"+s+" c"),e.push(l+" -"+s+" "+s+" -"+l+" "+s+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t}},Cross:{createAppearanceStream:function(r){var t={D:{Off:it.RadioButton.Cross.OffPushDown},N:{}};return t.N[r]=it.RadioButton.Cross.YesNormal,t.D[r]=it.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(r){var t=ia(r);t.scope=r.scope;var e=[],a=it.internal.calculateCross(r);return e.push("q"),e.push("1 1 "+Ft(it.internal.getWidth(r)-2)+" "+Ft(it.internal.getHeight(r)-2)+" re"),e.push("W"),e.push("n"),e.push(Ft(a.x1.x)+" "+Ft(a.x1.y)+" m"),e.push(Ft(a.x2.x)+" "+Ft(a.x2.y)+" l"),e.push(Ft(a.x4.x)+" "+Ft(a.x4.y)+" m"),e.push(Ft(a.x3.x)+" "+Ft(a.x3.y)+" l"),e.push("s"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(r){var t=ia(r);t.scope=r.scope;var e=it.internal.calculateCross(r),a=[];return a.push("0.749023 g"),a.push("0 0 "+Ft(it.internal.getWidth(r))+" "+Ft(it.internal.getHeight(r))+" re"),a.push("f"),a.push("q"),a.push("1 1 "+Ft(it.internal.getWidth(r)-2)+" "+Ft(it.internal.getHeight(r)-2)+" re"),a.push("W"),a.push("n"),a.push(Ft(e.x1.x)+" "+Ft(e.x1.y)+" m"),a.push(Ft(e.x2.x)+" "+Ft(e.x2.y)+" l"),a.push(Ft(e.x4.x)+" "+Ft(e.x4.y)+" m"),a.push(Ft(e.x3.x)+" "+Ft(e.x3.y)+" l"),a.push("s"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(r){var t=ia(r);t.scope=r.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+Ft(it.internal.getWidth(r))+" "+Ft(it.internal.getHeight(r))+" re"),e.push("f"),t.stream=e.join(`
`),t}}},createDefaultAppearanceStream:function(r){var t=r.scope.internal.getFont(r.fontName,r.fontStyle).id,e=r.scope.__private__.encodeColorString(r.color);return"/"+t+" "+r.fontSize+" Tf "+e}};it.internal={Bezier_C:.551915024494,calculateCross:function(r){var t=it.internal.getWidth(r),e=it.internal.getHeight(r),a=Math.min(t,e);return{x1:{x:(t-a)/2,y:(e-a)/2+a},x2:{x:(t-a)/2+a,y:(e-a)/2},x3:{x:(t-a)/2,y:(e-a)/2},x4:{x:(t-a)/2+a,y:(e-a)/2+a}}}},it.internal.getWidth=function(r){var t=0;return ur(r)==="object"&&(t=hm(r.Rect[2])),t},it.internal.getHeight=function(r){var t=0;return ur(r)==="object"&&(t=hm(r.Rect[3])),t};var Rv=Qr.addField=function(r){if(Lv(this,r),!(r instanceof Fo))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=r).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),r.page=r.scope.internal.getCurrentPageInfo().pageNumber,this};Qr.AcroFormChoiceField=yc,Qr.AcroFormListBox=vc,Qr.AcroFormComboBox=bc,Qr.AcroFormEditBox=wu,Qr.AcroFormButton=Bn,Qr.AcroFormPushButton=Su,Qr.AcroFormRadioButton=wc,Qr.AcroFormCheckBox=ju,Qr.AcroFormTextField=wl,Qr.AcroFormPasswordField=ku,Qr.AcroFormAppearance=it,Qr.AcroForm={ChoiceField:yc,ListBox:vc,ComboBox:bc,EditBox:wu,Button:Bn,PushButton:Su,RadioButton:wc,CheckBox:ju,TextField:wl,PasswordField:ku,Appearance:it},ft.AcroForm={ChoiceField:yc,ListBox:vc,ComboBox:bc,EditBox:wu,Button:Bn,PushButton:Su,RadioButton:wc,CheckBox:ju,TextField:wl,PasswordField:ku,Appearance:it};ft.AcroForm;function pg(r){return r.reduce(function(t,e,a){return t[e]=a,t},{})}(function(r){var t="addImage_";r.__addimage__={};var e="UNKNOWN",a={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=r.__addimage__.getImageFileTypeByImageData=function(D,k){var X,R,se,xe,de,oe=e;if((k=k||e)==="RGBA"||D.data!==void 0&&D.data instanceof Uint8ClampedArray&&"height"in D&&"width"in D)return"RGBA";if(ee(D))for(de in a)for(se=a[de],X=0;X<se.length;X+=1){for(xe=!0,R=0;R<se[X].length;R+=1)if(se[X][R]!==void 0&&se[X][R]!==D[R]){xe=!1;break}if(xe===!0){oe=de;break}}else for(de in a)for(se=a[de],X=0;X<se.length;X+=1){for(xe=!0,R=0;R<se[X].length;R+=1)if(se[X][R]!==void 0&&se[X][R]!==D.charCodeAt(R)){xe=!1;break}if(xe===!0){oe=de;break}}return oe===e&&k!==e&&(oe=k),oe},l=function D(k){for(var X=this.internal.write,R=this.internal.putStream,se=(0,this.internal.getFilters)();se.indexOf("FlateEncode")!==-1;)se.splice(se.indexOf("FlateEncode"),1);k.objectId=this.internal.newObject();var xe=[];if(xe.push({key:"Type",value:"/XObject"}),xe.push({key:"Subtype",value:"/Image"}),xe.push({key:"Width",value:k.width}),xe.push({key:"Height",value:k.height}),k.colorSpace===S.INDEXED?xe.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(k.palette.length/3-1)+" "+("sMask"in k&&k.sMask!==void 0?k.objectId+2:k.objectId+1)+" 0 R]"}):(xe.push({key:"ColorSpace",value:"/"+k.colorSpace}),k.colorSpace===S.DEVICE_CMYK&&xe.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),xe.push({key:"BitsPerComponent",value:k.bitsPerComponent}),"decodeParameters"in k&&k.decodeParameters!==void 0&&xe.push({key:"DecodeParms",value:"<<"+k.decodeParameters+">>"}),"transparency"in k&&Array.isArray(k.transparency)&&k.transparency.length>0){for(var de="",oe=0,be=k.transparency.length;oe<be;oe++)de+=k.transparency[oe]+" "+k.transparency[oe]+" ";xe.push({key:"Mask",value:"["+de+"]"})}k.sMask!==void 0&&xe.push({key:"SMask",value:k.objectId+1+" 0 R"});var je=k.filter!==void 0?["/"+k.filter]:void 0;if(R({data:k.data,additionalKeyValues:xe,alreadyAppliedFilters:je,objectId:k.objectId}),X("endobj"),"sMask"in k&&k.sMask!==void 0){var Q,L=(Q=k.sMaskBitsPerComponent)!==null&&Q!==void 0?Q:k.bitsPerComponent,U={width:k.width,height:k.height,colorSpace:"DeviceGray",bitsPerComponent:L,data:k.sMask};"filter"in k&&(U.decodeParameters="/Predictor ".concat(k.predictor," /Colors 1 /BitsPerComponent ").concat(L," /Columns ").concat(k.width),U.filter=k.filter),D.call(this,U)}if(k.colorSpace===S.INDEXED){var M=this.internal.newObject();R({data:W(new Uint8Array(k.palette)),objectId:M}),X("endobj")}},d=function(){var D=this.internal.collections[t+"images"];for(var k in D)l.call(this,D[k])},u=function(){var D,k=this.internal.collections[t+"images"],X=this.internal.write;for(var R in k)X("/I"+(D=k[R]).index,D.objectId,"0","R")},m=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",d),this.internal.events.subscribe("putXobjectDict",u))},p=function(){var D=this.internal.collections[t+"images"];return m.call(this),D},y=function(){return Object.keys(this.internal.collections[t+"images"]).length},j=function(D){return typeof r["process"+D.toUpperCase()]=="function"},_=function(D){return ur(D)==="object"&&D.nodeType===1},x=function(D,k){if(D.nodeName==="IMG"&&D.hasAttribute("src")){var X=""+D.getAttribute("src");if(X.indexOf("data:image/")===0)return bu(unescape(X).split("base64,").pop());var R=r.loadFile(X,!0);if(R!==void 0)return R}if(D.nodeName==="CANVAS"){if(D.width===0||D.height===0)throw new Error("Given canvas must have data. Canvas width: "+D.width+", height: "+D.height);var se;switch(k){case"PNG":se="image/png";break;case"WEBP":se="image/webp";break;default:se="image/jpeg"}return bu(D.toDataURL(se,1).split("base64,").pop())}},P=function(D){var k=this.internal.collections[t+"images"];if(k){for(var X in k)if(D===k[X].alias)return k[X]}},A=function(D,k,X){return D||k||(D=-96,k=-96),D<0&&(D=-1*X.width*72/D/this.internal.scaleFactor),k<0&&(k=-1*X.height*72/k/this.internal.scaleFactor),D===0&&(D=k*X.width/X.height),k===0&&(k=D*X.height/X.width),[D,k]},C=function(D,k,X,R,se,xe){var de=A.call(this,X,R,se),oe=this.internal.getCoordinateString,be=this.internal.getVerticalCoordinateString,je=p.call(this);if(X=de[0],R=de[1],je[se.index]=se,xe){xe*=Math.PI/180;var Q=Math.cos(xe),L=Math.sin(xe),U=function(K){return K.toFixed(4)},M=[U(Q),U(L),U(-1*L),U(Q),0,0,"cm"]}this.internal.write("q"),xe?(this.internal.write([1,"0","0",1,oe(D),be(k+R),"cm"].join(" ")),this.internal.write(M.join(" ")),this.internal.write([oe(X),"0","0",oe(R),"0","0","cm"].join(" "))):this.internal.write([oe(X),"0","0",oe(R),oe(D),be(k+R),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+se.index+" Do"),this.internal.write("Q")},S=r.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};r.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var F=r.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},O=r.__addimage__.sHashCode=function(D){var k,X,R=0;if(typeof D=="string")for(X=D.length,k=0;k<X;k++)R=(R<<5)-R+D.charCodeAt(k),R|=0;else if(ee(D))for(X=D.byteLength/2,k=0;k<X;k++)R=(R<<5)-R+D[k],R|=0;return R},B=r.__addimage__.validateStringAsBase64=function(D){(D=D||"").toString().trim();var k=!0;return D.length===0&&(k=!1),D.length%4!=0&&(k=!1),/^[A-Za-z0-9+/]+$/.test(D.substr(0,D.length-2))===!1&&(k=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(D.substr(-2))===!1&&(k=!1),k},H=r.__addimage__.extractImageFromDataUrl=function(D){if(D==null||!(D=D.trim()).startsWith("data:"))return null;var k=D.indexOf(",");return k<0?null:D.substring(0,k).trim().endsWith("base64")?D.substring(k+1):null};r.__addimage__.isArrayBuffer=function(D){return D instanceof ArrayBuffer};var ee=r.__addimage__.isArrayBufferView=function(D){return D instanceof Int8Array||D instanceof Uint8Array||D instanceof Uint8ClampedArray||D instanceof Int16Array||D instanceof Uint16Array||D instanceof Int32Array||D instanceof Uint32Array||D instanceof Float32Array||D instanceof Float64Array},ce=r.__addimage__.binaryStringToUint8Array=function(D){for(var k=D.length,X=new Uint8Array(k),R=0;R<k;R++)X[R]=D.charCodeAt(R);return X},W=r.__addimage__.arrayBufferToBinaryString=function(D){for(var k="",X=ee(D)?D:new Uint8Array(D),R=0;R<X.length;R+=8192)k+=String.fromCharCode.apply(null,X.subarray(R,R+8192));return k};r.addImage=function(){var D,k,X,R,se,xe,de,oe,be;if(typeof arguments[1]=="number"?(k=e,X=arguments[1],R=arguments[2],se=arguments[3],xe=arguments[4],de=arguments[5],oe=arguments[6],be=arguments[7]):(k=arguments[1],X=arguments[2],R=arguments[3],se=arguments[4],xe=arguments[5],de=arguments[6],oe=arguments[7],be=arguments[8]),ur(D=arguments[0])==="object"&&!_(D)&&"imageData"in D){var je=D;D=je.imageData,k=je.format||k||e,X=je.x||X||0,R=je.y||R||0,se=je.w||je.width||se,xe=je.h||je.height||xe,de=je.alias||de,oe=je.compression||oe,be=je.rotation||je.angle||be}var Q=this.internal.getFilters();if(oe===void 0&&Q.indexOf("FlateEncode")!==-1&&(oe="SLOW"),isNaN(X)||isNaN(R))throw new Error("Invalid coordinates passed to jsPDF.addImage");m.call(this);var L=I.call(this,D,k,de,oe);return C.call(this,X,R,se,xe,L,be),this};var I=function(D,k,X,R){var se,xe,de;if(typeof D=="string"&&s(D)===e){D=unescape(D);var oe=J(D,!1);(oe!==""||(oe=r.loadFile(D,!0))!==void 0)&&(D=oe)}if(_(D)&&(D=x(D,k)),k=s(D,k),!j(k))throw new Error("addImage does not support files of type '"+k+"', please ensure that a plugin for '"+k+"' support is added.");if(((de=X)==null||de.length===0)&&(X=(function(be){return typeof be=="string"||ee(be)?O(be):ee(be.data)?O(be.data):null})(D)),(se=P.call(this,X))||(D instanceof Uint8Array||k==="RGBA"||(xe=D,D=ce(D)),se=this["process"+k.toUpperCase()](D,y.call(this),X,(function(be){return be&&typeof be=="string"&&(be=be.toUpperCase()),be in r.image_compression?be:F.NONE})(R),xe)),!se)throw new Error("An unknown error occurred whilst processing the image.");return se},J=r.__addimage__.convertBase64ToBinaryString=function(D,k){k=typeof k!="boolean"||k;var X,R="";if(typeof D=="string"){var se;X=(se=H(D))!==null&&se!==void 0?se:D;try{R=bu(X)}catch(xe){if(k)throw B(X)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+xe.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return R};r.getImageProperties=function(D){var k,X,R="";if(_(D)&&(D=x(D)),typeof D=="string"&&s(D)===e&&((R=J(D,!1))===""&&(R=r.loadFile(D)||""),D=R),X=s(D),!j(X))throw new Error("addImage does not support files of type '"+X+"', please ensure that a plugin for '"+X+"' support is added.");if(D instanceof Uint8Array||(D=ce(D)),!(k=this["process"+X.toUpperCase()](D)))throw new Error("An unknown error occurred whilst processing the image");return k.fileType=X,k}})(ft.API),(function(r){var t=function(e){if(e!==void 0&&e!="")return!0};ft.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),r.events.push(["putPage",function(e){for(var a,s,l,d=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString,m=this.internal.getPageInfoByObjId(e.objId),p=e.pageContext.annotations,y=!1,j=0;j<p.length&&!y;j++)switch((a=p[j]).type){case"link":(t(a.options.url)||t(a.options.pageNumber))&&(y=!0);break;case"reference":case"text":case"freetext":y=!0}if(y!=0){this.internal.write("/Annots [");for(var _=0;_<p.length;_++){a=p[_];var x=this.internal.pdfEscape,P=this.internal.getEncryptor(e.objId);switch(a.type){case"reference":this.internal.write(" "+a.object.objId+" 0 R ");break;case"text":var A=this.internal.newAdditionalObject(),C=this.internal.newAdditionalObject(),S=this.internal.getEncryptor(A.objId),F=a.title||"Note";l="<</Type /Annot /Subtype /Text "+(s="/Rect ["+d(a.bounds.x)+" "+u(a.bounds.y+a.bounds.h)+" "+d(a.bounds.x+a.bounds.w)+" "+u(a.bounds.y)+"] ")+"/Contents ("+x(S(a.contents))+")",l+=" /Popup "+C.objId+" 0 R",l+=" /P "+m.objId+" 0 R",l+=" /T ("+x(S(F))+") >>",A.content=l;var O=A.objId+" 0 R";l="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+d(a.bounds.x+30)+" "+u(a.bounds.y+a.bounds.h)+" "+d(a.bounds.x+a.bounds.w+30)+" "+u(a.bounds.y)+"] ")+" /Parent "+O,a.open&&(l+=" /Open true"),l+=" >>",C.content=l,this.internal.write(A.objId,"0 R",C.objId,"0 R");break;case"freetext":s="/Rect ["+d(a.bounds.x)+" "+u(a.bounds.y)+" "+d(a.bounds.x+a.bounds.w)+" "+u(a.bounds.y+a.bounds.h)+"] ";var B=a.color||"#000000";l="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+x(P(a.contents))+")",l+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+B+")",l+=" /Border [0 0 0]",l+=" >>",this.internal.write(l);break;case"link":if(a.options.name){var H=this.annotations._nameMap[a.options.name];a.options.pageNumber=H.page,a.options.top=H.y}else a.options.top||(a.options.top=0);if(s="/Rect ["+a.finalBounds.x+" "+a.finalBounds.y+" "+a.finalBounds.w+" "+a.finalBounds.h+"] ",l="",a.options.url)l="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+x(P(a.options.url))+") >>";else if(a.options.pageNumber)switch(l="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(a.options.pageNumber).objId+" 0 R",a.options.magFactor=a.options.magFactor||"XYZ",a.options.magFactor){case"Fit":l+=" /Fit]";break;case"FitH":l+=" /FitH "+a.options.top+"]";break;case"FitV":a.options.left=a.options.left||0,l+=" /FitV "+a.options.left+"]";break;default:var ee=u(a.options.top);a.options.left=a.options.left||0,a.options.zoom===void 0&&(a.options.zoom=0),l+=" /XYZ "+a.options.left+" "+ee+" "+a.options.zoom+"]"}l!=""&&(l+=" >>",this.internal.write(l))}}this.internal.write("]")}}]),r.createAnnotation=function(e){var a=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":a.pageContext.annotations.push(e)}},r.link=function(e,a,s,l,d){var u=this.internal.getCurrentPageInfo(),m=this.internal.getCoordinateString,p=this.internal.getVerticalCoordinateString;u.pageContext.annotations.push({finalBounds:{x:m(e),y:p(a),w:m(e+s),h:p(a+l)},options:d,type:"link"})},r.textWithLink=function(e,a,s,l){var d,u,m=this.getTextWidth(e),p=this.internal.getLineHeight()/this.internal.scaleFactor;if(l.maxWidth!==void 0){u=l.maxWidth;var y=this.splitTextToSize(e,u).length;d=Math.ceil(p*y)}else u=m,d=p;return this.text(e,a,s,l),s+=.2*p,l.align==="center"&&(a-=m/2),l.align==="right"&&(a-=m),this.link(a,s-p,u,d,l),m},r.getTextWidth=function(e){var a=this.internal.getFontSize();return this.getStringUnitWidth(e)*a/this.internal.scaleFactor}})(ft.API),(function(r){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},e={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},a={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];r.__arabicParser__={};var l=r.__arabicParser__.isInArabicSubstitutionA=function(A){return t[A.charCodeAt(0)]!==void 0},d=r.__arabicParser__.isArabicLetter=function(A){return typeof A=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(A)},u=r.__arabicParser__.isArabicEndLetter=function(A){return d(A)&&l(A)&&t[A.charCodeAt(0)].length<=2},m=r.__arabicParser__.isArabicAlfLetter=function(A){return d(A)&&s.indexOf(A.charCodeAt(0))>=0};r.__arabicParser__.arabicLetterHasIsolatedForm=function(A){return d(A)&&l(A)&&t[A.charCodeAt(0)].length>=1};var p=r.__arabicParser__.arabicLetterHasFinalForm=function(A){return d(A)&&l(A)&&t[A.charCodeAt(0)].length>=2};r.__arabicParser__.arabicLetterHasInitialForm=function(A){return d(A)&&l(A)&&t[A.charCodeAt(0)].length>=3};var y=r.__arabicParser__.arabicLetterHasMedialForm=function(A){return d(A)&&l(A)&&t[A.charCodeAt(0)].length==4},j=r.__arabicParser__.resolveLigatures=function(A){var C=0,S=e,F="",O=0;for(C=0;C<A.length;C+=1)S[A.charCodeAt(C)]!==void 0?(O++,typeof(S=S[A.charCodeAt(C)])=="number"&&(F+=String.fromCharCode(S),S=e,O=0),C===A.length-1&&(S=e,F+=A.charAt(C-(O-1)),C-=O-1,O=0)):(S=e,F+=A.charAt(C-O),C-=O,O=0);return F};r.__arabicParser__.isArabicDiacritic=function(A){return A!==void 0&&a[A.charCodeAt(0)]!==void 0};var _=r.__arabicParser__.getCorrectForm=function(A,C,S){return d(A)?l(A)===!1?-1:!p(A)||!d(C)&&!d(S)||!d(S)&&u(C)||u(A)&&!d(C)||u(A)&&m(C)||u(A)&&u(C)?0:y(A)&&d(C)&&!u(C)&&d(S)&&p(S)?3:u(A)||!d(S)?1:2:-1},x=function(A){var C=0,S=0,F=0,O="",B="",H="",ee=(A=A||"").split("\\s+"),ce=[];for(C=0;C<ee.length;C+=1){for(ce.push(""),S=0;S<ee[C].length;S+=1)O=ee[C][S],B=ee[C][S-1],H=ee[C][S+1],d(O)?(F=_(O,B,H),ce[C]+=F!==-1?String.fromCharCode(t[O.charCodeAt(0)][F]):O):ce[C]+=O;ce[C]=j(ce[C])}return ce.join(" ")},P=r.__arabicParser__.processArabic=r.processArabic=function(){var A,C=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,S=[];if(Array.isArray(C)){var F=0;for(S=[],F=0;F<C.length;F+=1)Array.isArray(C[F])?S.push([x(C[F][0]),C[F][1],C[F][2]]):S.push([x(C[F])]);A=S}else A=x(C);return typeof arguments[0]=="string"?A:(arguments[0].text=A,arguments[0])};r.events.push(["preProcessText",P])})(ft.API),ft.API.autoPrint=function(r){var t;return(r=r||{}).variant=r.variant||"non-conform",r.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},(function(r){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(u){e=u}});var a=150;Object.defineProperty(this,"width",{get:function(){return a},set:function(u){a=isNaN(u)||Number.isInteger(u)===!1||u<0?150:u,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=a+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(u){s=isNaN(u)||Number.isInteger(u)===!1||u<0?300:u,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var l=[];Object.defineProperty(this,"childNodes",{get:function(){return l},set:function(u){l=u}});var d={};Object.defineProperty(this,"style",{get:function(){return d},set:function(u){d=u}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,a){var s;if((e=e||"2d")!=="2d")return null;for(s in a)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=a[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},r.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(ft.API),(function(r){var t={left:0,top:0,bottom:0,right:0},e=!1,a=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new l,this.internal.__cell__.pages=1},l=function(){var m=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return m},set:function(A){m=A}});var p=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return p},set:function(A){p=A}});var y=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return y},set:function(A){y=A}});var j=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return j},set:function(A){j=A}});var _=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return _},set:function(A){_=A}});var x=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return x},set:function(A){x=A}});var P=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return P},set:function(A){P=A}}),this};l.prototype.clone=function(){return new l(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},l.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},r.setHeaderFunction=function(m){return a.call(this),this.internal.__cell__.headerFunction=typeof m=="function"?m:void 0,this},r.getTextDimensions=function(m,p){a.call(this);var y=(p=p||{}).fontSize||this.getFontSize(),j=p.font||this.getFont(),_=p.scaleFactor||this.internal.scaleFactor,x=0,P=0,A=0,C=this;if(!Array.isArray(m)&&typeof m!="string"){if(typeof m!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");m=String(m)}var S=p.maxWidth;S>0?typeof m=="string"?m=this.splitTextToSize(m,S):Object.prototype.toString.call(m)==="[object Array]"&&(m=m.reduce(function(O,B){return O.concat(C.splitTextToSize(B,S))},[])):m=Array.isArray(m)?m:[m];for(var F=0;F<m.length;F++)x<(A=this.getStringUnitWidth(m[F],{font:j})*y)&&(x=A);return x!==0&&(P=m.length),{w:x/=_,h:Math.max((P*y*this.getLineHeightFactor()-y*(this.getLineHeightFactor()-1))/_,0)}},r.cellAddPage=function(){a.call(this),this.addPage();var m=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new l(m.left,m.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var d=r.cell=function(){var m;m=arguments[0]instanceof l?arguments[0]:new l(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),a.call(this);var p=this.internal.__cell__.lastCell,y=this.internal.__cell__.padding,j=this.internal.__cell__.margins||t,_=this.internal.__cell__.tableHeaderRow,x=this.internal.__cell__.printHeaders;return p.lineNumber!==void 0&&(p.lineNumber===m.lineNumber?(m.x=(p.x||0)+(p.width||0),m.y=p.y||0):p.y+p.height+m.height+j.bottom>this.getPageHeight()?(this.cellAddPage(),m.y=j.top,x&&_&&(this.printHeaderRow(m.lineNumber,!0),m.y+=_[0].height)):m.y=p.y+p.height||m.y),m.text[0]!==void 0&&(this.rect(m.x,m.y,m.width,m.height,e===!0?"FD":void 0),m.align==="right"?this.text(m.text,m.x+m.width-y,m.y+y,{align:"right",baseline:"top"}):m.align==="center"?this.text(m.text,m.x+m.width/2,m.y+y,{align:"center",baseline:"top",maxWidth:m.width-y-y}):this.text(m.text,m.x+y,m.y+y,{align:"left",baseline:"top",maxWidth:m.width-y-y})),this.internal.__cell__.lastCell=m,this};r.table=function(m,p,y,j,_){if(a.call(this),!y)throw new Error("No data for PDF table.");var x,P,A,C,S=[],F=[],O=[],B={},H={},ee=[],ce=[],W=(_=_||{}).autoSize||!1,I=_.printHeaders!==!1,J=_.css&&_.css["font-size"]!==void 0?16*_.css["font-size"]:_.fontSize||12,D=_.margins||Object.assign({width:this.getPageWidth()},t),k=typeof _.padding=="number"?_.padding:3,X=_.headerBackgroundColor||"#c8c8c8",R=_.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=I,this.internal.__cell__.margins=D,this.internal.__cell__.table_font_size=J,this.internal.__cell__.padding=k,this.internal.__cell__.headerBackgroundColor=X,this.internal.__cell__.headerTextColor=R,this.setFontSize(J),j==null)F=S=Object.keys(y[0]),O=S.map(function(){return"left"});else if(Array.isArray(j)&&ur(j[0])==="object")for(S=j.map(function(je){return je.name}),F=j.map(function(je){return je.prompt||je.name||""}),O=j.map(function(je){return je.align||"left"}),x=0;x<j.length;x+=1)H[j[x].name]=.7499990551181103*j[x].width;else Array.isArray(j)&&typeof j[0]=="string"&&(F=S=j,O=S.map(function(){return"left"}));if(W||Array.isArray(j)&&typeof j[0]=="string")for(x=0;x<S.length;x+=1){for(B[C=S[x]]=y.map(function(je){return je[C]}),this.setFont(void 0,"bold"),ee.push(this.getTextDimensions(F[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),P=B[C],this.setFont(void 0,"normal"),A=0;A<P.length;A+=1)ee.push(this.getTextDimensions(P[A],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);H[C]=Math.max.apply(null,ee)+k+k,ee=[]}if(I){var se={};for(x=0;x<S.length;x+=1)se[S[x]]={},se[S[x]].text=F[x],se[S[x]].align=O[x];var xe=u.call(this,se,H);ce=S.map(function(je){return new l(m,p,H[je],xe,se[je].text,void 0,se[je].align)}),this.setTableHeaderRow(ce),this.printHeaderRow(1,!1)}var de=j.reduce(function(je,Q){return je[Q.name]=Q.align,je},{});for(x=0;x<y.length;x+=1){"rowStart"in _&&_.rowStart instanceof Function&&_.rowStart({row:x,data:y[x]},this);var oe=u.call(this,y[x],H);for(A=0;A<S.length;A+=1){var be=y[x][S[A]];"cellStart"in _&&_.cellStart instanceof Function&&_.cellStart({row:x,col:A,data:be},this),d.call(this,new l(m,p,H[S[A]],oe,be,x+2,de[S[A]]))}}return this.internal.__cell__.table_x=m,this.internal.__cell__.table_y=p,this};var u=function(m,p){var y=this.internal.__cell__.padding,j=this.internal.__cell__.table_font_size,_=this.internal.scaleFactor;return Object.keys(m).map(function(x){var P=m[x];return this.splitTextToSize(P.hasOwnProperty("text")?P.text:P,p[x]-y-y)},this).map(function(x){return this.getLineHeightFactor()*x.length*j/_+y+y},this).reduce(function(x,P){return Math.max(x,P)},0)};r.setTableHeaderRow=function(m){a.call(this),this.internal.__cell__.tableHeaderRow=m},r.printHeaderRow=function(m,p){if(a.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var y;if(e=!0,typeof this.internal.__cell__.headerFunction=="function"){var j=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new l(j[0],j[1],j[2],j[3],void 0,-1)}this.setFont(void 0,"bold");for(var _=[],x=0;x<this.internal.__cell__.tableHeaderRow.length;x+=1){y=this.internal.__cell__.tableHeaderRow[x].clone(),p&&(y.y=this.internal.__cell__.margins.top||0,_.push(y)),y.lineNumber=m;var P=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),d.call(this,y),this.setTextColor(P)}_.length>0&&this.setTableHeaderRow(_),this.setFont(void 0,"normal"),e=!1}})(ft.API);var mg={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},gg=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Af=pg(gg),xg=[100,200,300,400,500,600,700,800,900],Pv=pg(xg);function nf(r){var t=r.family.replace(/"|'/g,"").toLowerCase(),e=(function(l){return mg[l=l||"normal"]?l:"normal"})(r.style),a=(function(l){return l?typeof l=="number"?l>=100&&l<=900&&l%100==0?l:400:/^\d00$/.test(l)?parseInt(l):l==="bold"?700:400:400})(r.weight),s=(function(l){return typeof Af[l=l||"normal"]=="number"?l:"normal"})(r.stretch);return{family:t,style:e,weight:a,stretch:s,src:r.src||[],ref:r.ref||{name:t,style:[s,e,a].join(" ")}}}function fm(r,t,e,a){var s;for(s=e;s>=0&&s<t.length;s+=a)if(r[t[s]])return r[t[s]];for(s=e;s>=0&&s<t.length;s-=a)if(r[t[s]])return r[t[s]]}var Iv={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},pm={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function mm(r){return[r.stretch,r.style,r.weight,r.family].join(" ")}function gm(r){return r.trimLeft()}function Ev(r,t){for(var e=0;e<r.length;){if(r.charAt(e)===t)return[r.substring(0,e),r.substring(e+1)];e+=1}return null}function zv(r){var t=r.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],r.substring(t[0].length)]}var mu,xm,ym,hc,gu,vm,bm,wm,of=["times"];function Sm(r,t,e,a,s){var l=4,d=km;switch(s){case ft.API.image_compression.FAST:l=1,d=jm;break;case ft.API.image_compression.MEDIUM:l=6,d=Cm;break;case ft.API.image_compression.SLOW:l=9,d=Tm}r=(function(m,p,y,j){for(var _,x=m.length/p,P=new Uint8Array(m.length+x),A=[Fv,jm,km,Cm,Tm],C=0;C<x;C+=1){var S=C*p,F=m.subarray(S,S+p);if(j)P.set(j(F,y,_),S+C);else{for(var O=A.length,B=[],H=0;H<O;H+=1)B[H]=A[H](F,y,_);var ee=Wv(B.concat());P.set(B[ee],S+C)}_=F}return P})(r,t,Math.ceil(e*a/8),d);var u=bf(r,{level:l});return ft.API.__addimage__.arrayBufferToBinaryString(u)}function Fv(r){var t=Array.apply([],r);return t.unshift(0),t}function jm(r,t){var e=r.length,a=[];a[0]=1;for(var s=0;s<e;s+=1){var l=r[s-t]||0;a[s+1]=r[s]-l+256&255}return a}function km(r,t,e){var a=r.length,s=[];s[0]=2;for(var l=0;l<a;l+=1){var d=e&&e[l]||0;s[l+1]=r[l]-d+256&255}return s}function Cm(r,t,e){var a=r.length,s=[];s[0]=3;for(var l=0;l<a;l+=1){var d=r[l-t]||0,u=e&&e[l]||0;s[l+1]=r[l]+256-(d+u>>>1)&255}return s}function Tm(r,t,e){var a=r.length,s=[];s[0]=4;for(var l=0;l<a;l+=1){var d=Ov(r[l-t]||0,e&&e[l]||0,e&&e[l-t]||0);s[l+1]=r[l]-d+256&255}return s}function Ov(r,t,e){if(r===t&&t===e)return r;var a=Math.abs(t-e),s=Math.abs(r-e),l=Math.abs(r+t-e-e);return a<=s&&a<=l?r:s<=l?t:e}function Wv(r){var t=r.map(function(e){return e.reduce(function(a,s){return a+Math.abs(s)},0)});return t.indexOf(Math.min.apply(null,t))}function af(r,t,e){var a=t*e,s=Math.floor(a/8),l=16-(a-8*s+e),d=(1<<e)-1;return yg(r,s)>>l&d}function Am(r,t,e,a){var s=e*a,l=Math.floor(s/8),d=16-(s-8*l+a),u=(1<<a)-1,m=(t&u)<<d;(function(p,y,j){if(y+1<p.byteLength)p.setUint16(y,j,!1);else{var _=j>>8&255;p.setUint8(y,_)}})(r,l,yg(r,l)&~(u<<d)&65535|m)}function yg(r,t){return t+1<r.byteLength?r.getUint16(t,!1):r.getUint8(t)<<8}function Mv(r){var t=0;if(r[t++]!==71||r[t++]!==73||r[t++]!==70||r[t++]!==56||(r[t++]+1&253)!=56||r[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var e=r[t++]|r[t++]<<8,a=r[t++]|r[t++]<<8,s=r[t++],l=s>>7,d=1<<1+(7&s);r[t++],r[t++];var u=null,m=null;l&&(u=t,m=d,t+=3*d);var p=!0,y=[],j=0,_=null,x=0,P=null;for(this.width=e,this.height=a;p&&t<r.length;)switch(r[t++]){case 33:switch(r[t++]){case 255:if(r[t]!==11||r[t+1]==78&&r[t+2]==69&&r[t+3]==84&&r[t+4]==83&&r[t+5]==67&&r[t+6]==65&&r[t+7]==80&&r[t+8]==69&&r[t+9]==50&&r[t+10]==46&&r[t+11]==48&&r[t+12]==3&&r[t+13]==1&&r[t+16]==0)t+=14,P=r[t++]|r[t++]<<8,t++;else for(t+=12;;){if(!((D=r[t++])>=0))throw Error("Invalid block size");if(D===0)break;t+=D}break;case 249:if(r[t++]!==4||r[t+4]!==0)throw new Error("Invalid graphics extension block.");var A=r[t++];j=r[t++]|r[t++]<<8,_=r[t++],1&A||(_=null),x=A>>2&7,t++;break;case 254:for(;;){if(!((D=r[t++])>=0))throw Error("Invalid block size");if(D===0)break;t+=D}break;default:throw new Error("Unknown graphic control label: 0x"+r[t-1].toString(16))}break;case 44:var C=r[t++]|r[t++]<<8,S=r[t++]|r[t++]<<8,F=r[t++]|r[t++]<<8,O=r[t++]|r[t++]<<8,B=r[t++],H=B>>6&1,ee=1<<1+(7&B),ce=u,W=m,I=!1;B>>7&&(I=!0,ce=t,W=ee,t+=3*ee);var J=t;for(t++;;){var D;if(!((D=r[t++])>=0))throw Error("Invalid block size");if(D===0)break;t+=D}y.push({x:C,y:S,width:F,height:O,has_local_palette:I,palette_offset:ce,palette_size:W,data_offset:J,data_length:t-J,transparent_index:_,interlaced:!!H,delay:j,disposal:x});break;case 59:p=!1;break;default:throw new Error("Unknown gif block: 0x"+r[t-1].toString(16))}this.numFrames=function(){return y.length},this.loopCount=function(){return P},this.frameInfo=function(k){if(k<0||k>=y.length)throw new Error("Frame index out of range.");return y[k]},this.decodeAndBlitFrameBGRA=function(k,X){var R=this.frameInfo(k),se=R.width*R.height,xe=new Uint8Array(se);_m(r,R.data_offset,xe,se);var de=R.palette_offset,oe=R.transparent_index;oe===null&&(oe=256);var be=R.width,je=e-be,Q=be,L=4*(R.y*e+R.x),U=4*((R.y+R.height)*e+R.x),M=L,K=4*je;R.interlaced===!0&&(K+=4*e*7);for(var Z=8,ae=0,he=xe.length;ae<he;++ae){var pe=xe[ae];if(Q===0&&(Q=be,(M+=K)>=U&&(K=4*je+4*e*(Z-1),M=L+(be+je)*(Z<<1),Z>>=1)),pe===oe)M+=4;else{var ue=r[de+3*pe],Te=r[de+3*pe+1],Oe=r[de+3*pe+2];X[M++]=Oe,X[M++]=Te,X[M++]=ue,X[M++]=255}--Q}},this.decodeAndBlitFrameRGBA=function(k,X){var R=this.frameInfo(k),se=R.width*R.height,xe=new Uint8Array(se);_m(r,R.data_offset,xe,se);var de=R.palette_offset,oe=R.transparent_index;oe===null&&(oe=256);var be=R.width,je=e-be,Q=be,L=4*(R.y*e+R.x),U=4*((R.y+R.height)*e+R.x),M=L,K=4*je;R.interlaced===!0&&(K+=4*e*7);for(var Z=8,ae=0,he=xe.length;ae<he;++ae){var pe=xe[ae];if(Q===0&&(Q=be,(M+=K)>=U&&(K=4*je+4*e*(Z-1),M=L+(be+je)*(Z<<1),Z>>=1)),pe===oe)M+=4;else{var ue=r[de+3*pe],Te=r[de+3*pe+1],Oe=r[de+3*pe+2];X[M++]=ue,X[M++]=Te,X[M++]=Oe,X[M++]=255}--Q}}}function _m(r,t,e,a){for(var s=r[t++],l=1<<s,d=l+1,u=d+1,m=s+1,p=(1<<m)-1,y=0,j=0,_=0,x=r[t++],P=new Int32Array(4096),A=null;;){for(;y<16&&x!==0;)j|=r[t++]<<y,y+=8,x===1?x=r[t++]:--x;if(y<m)break;var C=j&p;if(j>>=m,y-=m,C!==l){if(C===d)break;for(var S=C<u?C:A,F=0,O=S;O>l;)O=P[O]>>8,++F;var B=O;if(_+F+(S!==C?1:0)>a)return void yr.log("Warning, gif stream longer than expected.");e[_++]=B;var H=_+=F;for(S!==C&&(e[_++]=B),O=S;F--;)O=P[O],e[--H]=255&O,O>>=8;A!==null&&u<4096&&(P[u++]=A<<8|B,u>=p+1&&m<12&&(++m,p=p<<1|1)),A=C}else u=d+1,p=(1<<(m=s+1))-1,A=null}return _!==a&&yr.log("Warning, gif stream shorter than expected."),e}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function sf(r){var t,e,a,s,l,d=Math.floor,u=new Array(64),m=new Array(64),p=new Array(64),y=new Array(64),j=new Array(65535),_=new Array(65535),x=new Array(64),P=new Array(64),A=[],C=0,S=7,F=new Array(64),O=new Array(64),B=new Array(64),H=new Array(256),ee=new Array(2048),ce=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],W=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],J=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],D=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],k=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],X=[0,1,2,3,4,5,6,7,8,9,10,11],R=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],se=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function xe(L,U){for(var M=0,K=0,Z=new Array,ae=1;ae<=16;ae++){for(var he=1;he<=L[ae];he++)Z[U[K]]=[],Z[U[K]][0]=M,Z[U[K]][1]=ae,K++,M++;M*=2}return Z}function de(L){for(var U=L[0],M=L[1]-1;M>=0;)U&1<<M&&(C|=1<<S),M--,--S<0&&(C==255?(oe(255),oe(0)):oe(C),S=7,C=0)}function oe(L){A.push(L)}function be(L){oe(L>>8&255),oe(255&L)}function je(L,U,M,K,Z){for(var ae,he=Z[0],pe=Z[240],ue=(function(Ve,ot){var Ge,Nt,pt,Vt,Lt,Rt,Qt,Tt,ht,gt,st=0;for(ht=0;ht<8;++ht){Ge=Ve[st],Nt=Ve[st+1],pt=Ve[st+2],Vt=Ve[st+3],Lt=Ve[st+4],Rt=Ve[st+5],Qt=Ve[st+6];var hr=Ge+(Tt=Ve[st+7]),Ut=Ge-Tt,lt=Nt+Qt,It=Nt-Qt,tr=pt+Rt,mt=pt-Rt,Ot=Vt+Lt,At=Vt-Lt,kr=hr+Ot,br=hr-Ot,qt=lt+tr,jt=lt-tr;Ve[st]=kr+qt,Ve[st+4]=kr-qt;var Gt=.707106781*(jt+br);Ve[st+2]=br+Gt,Ve[st+6]=br-Gt;var Wo=.382683433*((kr=At+mt)-(jt=It+Ut)),fn=.5411961*kr+Wo,qi=1.306562965*jt+Wo,li=.707106781*(qt=mt+It),xt=Ut+li,Yn=Ut-li;Ve[st+5]=Yn+fn,Ve[st+3]=Yn-fn,Ve[st+1]=xt+qi,Ve[st+7]=xt-qi,st+=8}for(st=0,ht=0;ht<8;++ht){Ge=Ve[st],Nt=Ve[st+8],pt=Ve[st+16],Vt=Ve[st+24],Lt=Ve[st+32],Rt=Ve[st+40],Qt=Ve[st+48];var Ai=Ge+(Tt=Ve[st+56]),vn=Ge-Tt,ci=Nt+Qt,fr=Nt-Qt,zr=pt+Rt,qr=pt-Rt,ho=Vt+Lt,Mo=Vt-Lt,_i=Ai+ho,Hi=Ai-ho,pn=ci+zr,di=ci-zr;Ve[st]=_i+pn,Ve[st+32]=_i-pn;var Jn=.707106781*(di+Hi);Ve[st+16]=Hi+Jn,Ve[st+48]=Hi-Jn;var ca=.382683433*((_i=Mo+qr)-(di=fr+vn)),Bi=.5411961*_i+ca,Do=1.306562965*di+ca,da=.707106781*(pn=qr+fr),ua=vn+da,Za=vn-da;Ve[st+40]=Za+Bi,Ve[st+24]=Za-Bi,Ve[st+8]=ua+Do,Ve[st+56]=ua-Do,st++}for(ht=0;ht<64;++ht)gt=Ve[ht]*ot[ht],x[ht]=gt>0?gt+.5|0:gt-.5|0;return x})(L,U),Te=0;Te<64;++Te)P[ce[Te]]=ue[Te];var Oe=P[0]-M;M=P[0],Oe==0?de(K[0]):(de(K[_[ae=32767+Oe]]),de(j[ae]));for(var We=63;We>0&&P[We]==0;)We--;if(We==0)return de(he),M;for(var Le,ne=1;ne<=We;){for(var Ye=ne;P[ne]==0&&ne<=We;)++ne;var Ke=ne-Ye;if(Ke>=16){Le=Ke>>4;for(var Je=1;Je<=Le;++Je)de(pe);Ke&=15}ae=32767+P[ne],de(Z[(Ke<<4)+_[ae]]),de(j[ae]),ne++}return We!=63&&de(he),M}function Q(L){L=Math.min(Math.max(L,1),100),l!=L&&((function(U){for(var M=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],K=0;K<64;K++){var Z=d((M[K]*U+50)/100);Z=Math.min(Math.max(Z,1),255),u[ce[K]]=Z}for(var ae=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],he=0;he<64;he++){var pe=d((ae[he]*U+50)/100);pe=Math.min(Math.max(pe,1),255),m[ce[he]]=pe}for(var ue=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Te=0,Oe=0;Oe<8;Oe++)for(var We=0;We<8;We++)p[Te]=1/(u[ce[Te]]*ue[Oe]*ue[We]*8),y[Te]=1/(m[ce[Te]]*ue[Oe]*ue[We]*8),Te++})(L<50?Math.floor(5e3/L):Math.floor(200-2*L)),l=L)}this.encode=function(L,U){U&&Q(U),A=new Array,C=0,S=7,be(65496),be(65504),be(16),oe(74),oe(70),oe(73),oe(70),oe(0),oe(1),oe(1),oe(0),be(1),be(1),oe(0),oe(0),(function(){be(65499),be(132),oe(0);for(var Nt=0;Nt<64;Nt++)oe(u[Nt]);oe(1);for(var pt=0;pt<64;pt++)oe(m[pt])})(),(function(Nt,pt){be(65472),be(17),oe(8),be(pt),be(Nt),oe(3),oe(1),oe(17),oe(0),oe(2),oe(17),oe(1),oe(3),oe(17),oe(1)})(L.width,L.height),(function(){be(65476),be(418),oe(0);for(var Nt=0;Nt<16;Nt++)oe(W[Nt+1]);for(var pt=0;pt<=11;pt++)oe(I[pt]);oe(16);for(var Vt=0;Vt<16;Vt++)oe(J[Vt+1]);for(var Lt=0;Lt<=161;Lt++)oe(D[Lt]);oe(1);for(var Rt=0;Rt<16;Rt++)oe(k[Rt+1]);for(var Qt=0;Qt<=11;Qt++)oe(X[Qt]);oe(17);for(var Tt=0;Tt<16;Tt++)oe(R[Tt+1]);for(var ht=0;ht<=161;ht++)oe(se[ht])})(),be(65498),be(12),oe(3),oe(1),oe(0),oe(2),oe(17),oe(3),oe(17),oe(0),oe(63),oe(0);var M=0,K=0,Z=0;C=0,S=7,this.encode.displayName="_encode_";for(var ae,he,pe,ue,Te,Oe,We,Le,ne,Ye=L.data,Ke=L.width,Je=L.height,Ve=4*Ke,ot=0;ot<Je;){for(ae=0;ae<Ve;){for(Te=Ve*ot+ae,We=-1,Le=0,ne=0;ne<64;ne++)Oe=Te+(Le=ne>>3)*Ve+(We=4*(7&ne)),ot+Le>=Je&&(Oe-=Ve*(ot+1+Le-Je)),ae+We>=Ve&&(Oe-=ae+We-Ve+4),he=Ye[Oe++],pe=Ye[Oe++],ue=Ye[Oe++],F[ne]=(ee[he]+ee[pe+256|0]+ee[ue+512|0]>>16)-128,O[ne]=(ee[he+768|0]+ee[pe+1024|0]+ee[ue+1280|0]>>16)-128,B[ne]=(ee[he+1280|0]+ee[pe+1536|0]+ee[ue+1792|0]>>16)-128;M=je(F,p,M,t,a),K=je(O,y,K,e,s),Z=je(B,y,Z,e,s),ae+=32}ot+=8}if(S>=0){var Ge=[];Ge[1]=S+1,Ge[0]=(1<<S+1)-1,de(Ge)}return be(65497),new Uint8Array(A)},r=r||50,(function(){for(var L=String.fromCharCode,U=0;U<256;U++)H[U]=L(U)})(),t=xe(W,I),e=xe(k,X),a=xe(J,D),s=xe(R,se),(function(){for(var L=1,U=2,M=1;M<=15;M++){for(var K=L;K<U;K++)_[32767+K]=M,j[32767+K]=[],j[32767+K][1]=M,j[32767+K][0]=K;for(var Z=-(U-1);Z<=-L;Z++)_[32767+Z]=M,j[32767+Z]=[],j[32767+Z][1]=M,j[32767+Z][0]=U-1+Z;L<<=1,U<<=1}})(),(function(){for(var L=0;L<256;L++)ee[L]=19595*L,ee[L+256|0]=38470*L,ee[L+512|0]=7471*L+32768,ee[L+768|0]=-11059*L,ee[L+1024|0]=-21709*L,ee[L+1280|0]=32768*L+8421375,ee[L+1536|0]=-27439*L,ee[L+1792|0]=-5329*L})(),Q(r)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ro(r,t){if(this.pos=0,this.buffer=r,this.datav=new DataView(r.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Bm(r){function t(I){if(!I)throw Error("assert :P")}function e(I,J,D){for(var k=0;4>k;k++)if(I[J+k]!=D.charCodeAt(k))return!0;return!1}function a(I,J,D,k,X){for(var R=0;R<X;R++)I[J+R]=D[k+R]}function s(I,J,D,k){for(var X=0;X<k;X++)I[J+X]=D}function l(I){return new Int32Array(I)}function d(I,J){for(var D=[],k=0;k<I;k++)D.push(new J);return D}function u(I,J){var D=[];return(function k(X,R,se){for(var xe=se[R],de=0;de<xe&&(X.push(se.length>R+1?[]:new J),!(se.length<R+1));de++)k(X[de],R+1,se)})(D,0,I),D}var m=function(){var I=this;function J(h,g){for(var w=1<<g-1>>>0;h&w;)w>>>=1;return w?(h&w-1)+w:h}function D(h,g,w,N,E){t(!(N%w));do h[g+(N-=w)]=E;while(0<N)}function k(h,g,w,N,E){if(t(2328>=E),512>=E)var V=l(512);else if((V=l(E))==null)return 0;return(function(q,G,Y,te,me,Ce){var re,ye,ke=G,Ie=1<<Y,_e=l(16),Re=l(16);for(t(me!=0),t(te!=null),t(q!=null),t(0<Y),ye=0;ye<me;++ye){if(15<te[ye])return 0;++_e[te[ye]]}if(_e[0]==me)return 0;for(Re[1]=0,re=1;15>re;++re){if(_e[re]>1<<re)return 0;Re[re+1]=Re[re]+_e[re]}for(ye=0;ye<me;++ye)re=te[ye],0<te[ye]&&(Ce[Re[re]++]=ye);if(Re[15]==1)return(te=new X).g=0,te.value=Ce[0],D(q,ke,1,Ie,te),Ie;var Pe,ze=-1,Fe=Ie-1,dt=0,Ze=1,Et=1,rt=1<<Y;for(ye=0,re=1,me=2;re<=Y;++re,me<<=1){if(Ze+=Et<<=1,0>(Et-=_e[re]))return 0;for(;0<_e[re];--_e[re])(te=new X).g=re,te.value=Ce[ye++],D(q,ke+dt,me,rt,te),dt=J(dt,re)}for(re=Y+1,me=2;15>=re;++re,me<<=1){if(Ze+=Et<<=1,0>(Et-=_e[re]))return 0;for(;0<_e[re];--_e[re]){if(te=new X,(dt&Fe)!=ze){for(ke+=rt,Pe=1<<(ze=re)-Y;15>ze&&!(0>=(Pe-=_e[ze]));)++ze,Pe<<=1;Ie+=rt=1<<(Pe=ze-Y),q[G+(ze=dt&Fe)].g=Pe+Y,q[G+ze].value=ke-G-ze}te.g=re-Y,te.value=Ce[ye++],D(q,ke+(dt>>Y),me,rt,te),dt=J(dt,re)}}return Ze!=2*Re[15]-1?0:Ie})(h,g,w,N,E,V)}function X(){this.value=this.g=0}function R(){this.value=this.g=0}function se(){this.G=d(5,X),this.H=l(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=d(yi,R)}function xe(h,g,w,N){t(h!=null),t(g!=null),t(2147483648>N),h.Ca=254,h.I=0,h.b=-8,h.Ka=0,h.oa=g,h.pa=w,h.Jd=g,h.Yc=w+N,h.Zc=4<=N?w+N-4+1:w,he(h)}function de(h,g){for(var w=0;0<g--;)w|=ue(h,128)<<g;return w}function oe(h,g){var w=de(h,g);return pe(h)?-w:w}function be(h,g,w,N){var E,V=0;for(t(h!=null),t(g!=null),t(4294967288>N),h.Sb=N,h.Ra=0,h.u=0,h.h=0,4<N&&(N=4),E=0;E<N;++E)V+=g[w+E]<<8*E;h.Ra=V,h.bb=N,h.oa=g,h.pa=w}function je(h){for(;8<=h.u&&h.bb<h.Sb;)h.Ra>>>=8,h.Ra+=h.oa[h.pa+h.bb]<<Go-8>>>0,++h.bb,h.u-=8;K(h)&&(h.h=1,h.u=0)}function Q(h,g){if(t(0<=g),!h.h&&g<=ri){var w=M(h)&ti[g];return h.u+=g,je(h),w}return h.h=1,h.u=0}function L(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function U(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function M(h){return h.Ra>>>(h.u&Go-1)>>>0}function K(h){return t(h.bb<=h.Sb),h.h||h.bb==h.Sb&&h.u>Go}function Z(h,g){h.u=g,h.h=K(h)}function ae(h){h.u>=Qi&&(t(h.u>=Qi),je(h))}function he(h){t(h!=null&&h.oa!=null),h.pa<h.Zc?(h.I=(h.oa[h.pa++]|h.I<<8)>>>0,h.b+=8):(t(h!=null&&h.oa!=null),h.pa<h.Yc?(h.b+=8,h.I=h.oa[h.pa++]|h.I<<8):h.Ka?h.b=0:(h.I<<=8,h.b+=8,h.Ka=1))}function pe(h){return de(h,1)}function ue(h,g){var w=h.Ca;0>h.b&&he(h);var N=h.b,E=w*g>>>8,V=(h.I>>>N>E)+0;for(V?(w-=E,h.I-=E+1<<N>>>0):w=E+1,N=w,E=0;256<=N;)E+=8,N>>=8;return N=7^E+vo[N],h.b-=N,h.Ca=(w<<N)-1,V}function Te(h,g,w){h[g+0]=w>>24&255,h[g+1]=w>>16&255,h[g+2]=w>>8&255,h[g+3]=255&w}function Oe(h,g){return h[g+0]|h[g+1]<<8}function We(h,g){return Oe(h,g)|h[g+2]<<16}function Le(h,g){return Oe(h,g)|Oe(h,g+2)<<16}function ne(h,g){var w=1<<g;return t(h!=null),t(0<g),h.X=l(w),h.X==null?0:(h.Mb=32-g,h.Xa=g,1)}function Ye(h,g){t(h!=null),t(g!=null),t(h.Xa==g.Xa),a(g.X,0,h.X,0,1<<g.Xa)}function Ke(){this.X=[],this.Xa=this.Mb=0}function Je(h,g,w,N){t(w!=null),t(N!=null);var E=w[0],V=N[0];return E==0&&(E=(h*V+g/2)/g),V==0&&(V=(g*E+h/2)/h),0>=E||0>=V?0:(w[0]=E,N[0]=V,1)}function Ve(h,g){return h+(1<<g)-1>>>g}function ot(h,g){return((4278255360&h)+(4278255360&g)>>>0&4278255360)+((16711935&h)+(16711935&g)>>>0&16711935)>>>0}function Ge(h,g){I[g]=function(w,N,E,V,q,G,Y){var te;for(te=0;te<q;++te){var me=I[h](G[Y+te-1],E,V+te);G[Y+te]=ot(w[N+te],me)}}}function Nt(){this.ud=this.hd=this.jd=0}function pt(h,g){return((4278124286&(h^g))>>>1)+(h&g)>>>0}function Vt(h){return 0<=h&&256>h?h:0>h?0:255<h?255:void 0}function Lt(h,g){return Vt(h+(h-g+.5>>1))}function Rt(h,g,w){return Math.abs(g-w)-Math.abs(h-w)}function Qt(h,g,w,N,E,V,q){for(N=V[q-1],w=0;w<E;++w)V[q+w]=N=ot(h[g+w],N)}function Tt(h,g,w,N,E){var V;for(V=0;V<w;++V){var q=h[g+V],G=q>>8&255,Y=16711935&(Y=(Y=16711935&q)+((G<<16)+G));N[E+V]=(4278255360&q)+Y>>>0}}function ht(h,g){g.jd=255&h,g.hd=h>>8&255,g.ud=h>>16&255}function gt(h,g,w,N,E,V){var q;for(q=0;q<N;++q){var G=g[w+q],Y=G>>>8,te=G,me=255&(me=(me=G>>>16)+((h.jd<<24>>24)*(Y<<24>>24)>>>5));te=255&(te=(te+=(h.hd<<24>>24)*(Y<<24>>24)>>>5)+((h.ud<<24>>24)*(me<<24>>24)>>>5)),E[V+q]=(4278255360&G)+(me<<16)+te}}function st(h,g,w,N,E){I[g]=function(V,q,G,Y,te,me,Ce,re,ye){for(Y=Ce;Y<re;++Y)for(Ce=0;Ce<ye;++Ce)te[me++]=E(G[N(V[q++])])},I[h]=function(V,q,G,Y,te,me,Ce){var re=8>>V.b,ye=V.Ea,ke=V.K[0],Ie=V.w;if(8>re)for(V=(1<<V.b)-1,Ie=(1<<re)-1;q<G;++q){var _e,Re=0;for(_e=0;_e<ye;++_e)_e&V||(Re=N(Y[te++])),me[Ce++]=E(ke[Re&Ie]),Re>>=re}else I["VP8LMapColor"+w](Y,te,ke,Ie,me,Ce,q,G,ye)}}function hr(h,g,w,N,E){for(w=g+w;g<w;){var V=h[g++];N[E++]=V>>16&255,N[E++]=V>>8&255,N[E++]=255&V}}function Ut(h,g,w,N,E){for(w=g+w;g<w;){var V=h[g++];N[E++]=V>>16&255,N[E++]=V>>8&255,N[E++]=255&V,N[E++]=V>>24&255}}function lt(h,g,w,N,E){for(w=g+w;g<w;){var V=(q=h[g++])>>16&240|q>>12&15,q=240&q|q>>28&15;N[E++]=V,N[E++]=q}}function It(h,g,w,N,E){for(w=g+w;g<w;){var V=(q=h[g++])>>16&248|q>>13&7,q=q>>5&224|q>>3&31;N[E++]=V,N[E++]=q}}function tr(h,g,w,N,E){for(w=g+w;g<w;){var V=h[g++];N[E++]=255&V,N[E++]=V>>8&255,N[E++]=V>>16&255}}function mt(h,g,w,N,E,V){if(V==0)for(w=g+w;g<w;)Te(N,((V=h[g++])[0]>>24|V[1]>>8&65280|V[2]<<8&16711680|V[3]<<24)>>>0),E+=32;else a(N,E,h,g,w)}function Ot(h,g){I[g][0]=I[h+"0"],I[g][1]=I[h+"1"],I[g][2]=I[h+"2"],I[g][3]=I[h+"3"],I[g][4]=I[h+"4"],I[g][5]=I[h+"5"],I[g][6]=I[h+"6"],I[g][7]=I[h+"7"],I[g][8]=I[h+"8"],I[g][9]=I[h+"9"],I[g][10]=I[h+"10"],I[g][11]=I[h+"11"],I[g][12]=I[h+"12"],I[g][13]=I[h+"13"],I[g][14]=I[h+"0"],I[g][15]=I[h+"0"]}function At(h){return h==ps||h==Ia||h==il||h==ol}function kr(){this.eb=[],this.size=this.A=this.fb=0}function br(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function qt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new kr,this.f.kb=new br,this.sd=null}function jt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Gt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Wo(h){return alert("todo:WebPSamplerProcessPlane"),h.T}function fn(h,g){var w=h.T,N=g.ba.f.RGBA,E=N.eb,V=N.fb+h.ka*N.A,q=Wn[g.ba.S],G=h.y,Y=h.O,te=h.f,me=h.N,Ce=h.ea,re=h.W,ye=g.cc,ke=g.dc,Ie=g.Mc,_e=g.Nc,Re=h.ka,Pe=h.ka+h.T,ze=h.U,Fe=ze+1>>1;for(Re==0?q(G,Y,null,null,te,me,Ce,re,te,me,Ce,re,E,V,null,null,ze):(q(g.ec,g.fc,G,Y,ye,ke,Ie,_e,te,me,Ce,re,E,V-N.A,E,V,ze),++w);Re+2<Pe;Re+=2)ye=te,ke=me,Ie=Ce,_e=re,me+=h.Rc,re+=h.Rc,V+=2*N.A,q(G,(Y+=2*h.fa)-h.fa,G,Y,ye,ke,Ie,_e,te,me,Ce,re,E,V-N.A,E,V,ze);return Y+=h.fa,h.j+Pe<h.o?(a(g.ec,g.fc,G,Y,ze),a(g.cc,g.dc,te,me,Fe),a(g.Mc,g.Nc,Ce,re,Fe),w--):1&Pe||q(G,Y,null,null,te,me,Ce,re,te,me,Ce,re,E,V+N.A,null,null,ze),w}function qi(h,g,w){var N=h.F,E=[h.J];if(N!=null){var V=h.U,q=g.ba.S,G=q==nl||q==il;g=g.ba.f.RGBA;var Y=[0],te=h.ka;Y[0]=h.T,h.Kb&&(te==0?--Y[0]:(--te,E[0]-=h.width),h.j+h.ka+h.T==h.o&&(Y[0]=h.o-h.j-te));var me=g.eb;te=g.fb+te*g.A,h=tl(N,E[0],h.width,V,Y,me,te+(G?0:3),g.A),t(w==Y),h&&At(q)&&Pa(me,te,G,V,Y,g.A)}return 0}function li(h){var g=h.ma,w=g.ba.S,N=11>w,E=w==Xo||w==rl||w==nl||w==ar||w==12||At(w);if(g.memory=null,g.Ib=null,g.Jb=null,g.Nd=null,!ss(g.Oa,h,E?11:12))return 0;if(E&&At(w)&&Dl(),h.da)alert("todo:use_scaling");else{if(N){if(g.Ib=Wo,h.Kb){if(w=h.U+1>>1,g.memory=l(h.U+2*w),g.memory==null)return 0;g.ec=g.memory,g.fc=0,g.cc=g.ec,g.dc=g.fc+h.U,g.Mc=g.cc,g.Nc=g.dc+w,g.Ib=fn,Dl()}}else alert("todo:EmitYUV");E&&(g.Jb=qi,N&&xi())}if(N&&!gn){for(h=0;256>h;++h)Mn[h]=89858*(h-128)+Fi>>jo,Dn[h]=-22014*(h-128)+Fi,ys[h]=-45773*(h-128),Oa[h]=113618*(h-128)+Fi>>jo;for(h=rr;h<ir;++h)g=76283*(h-16)+Fi>>jo,Yl[h-rr]=_r(g,255),Rd[h-rr]=_r(g+8>>4,15);gn=1}return 1}function xt(h){var g=h.ma,w=h.U,N=h.T;return t(!(1&h.ka)),0>=w||0>=N?0:(w=g.Ib(h,g),g.Jb!=null&&g.Jb(h,g,w),g.Dc+=w,1)}function Yn(h){h.ma.memory=null}function Ai(h,g,w,N){return Q(h,8)!=47?0:(g[0]=Q(h,14)+1,w[0]=Q(h,14)+1,N[0]=Q(h,1),Q(h,3)!=0?0:!h.h)}function vn(h,g){if(4>h)return h+1;var w=h-2>>1;return(2+(1&h)<<w)+Q(g,w)+1}function ci(h,g){return 120<g?g-120:1<=(w=((w=Yu[g-1])>>4)*h+(8-(15&w)))?w:1;var w}function fr(h,g,w){var N=M(w),E=h[g+=255&N].g-8;return 0<E&&(Z(w,w.u+8),N=M(w),g+=h[g].value,g+=N&(1<<E)-1),Z(w,w.u+h[g].g),h[g].value}function zr(h,g,w){return w.g+=h.g,w.value+=h.value<<g>>>0,t(8>=w.g),h.g}function qr(h,g,w){var N=h.xc;return t((g=N==0?0:h.vc[h.md*(w>>N)+(g>>N)])<h.Wb),h.Ya[g]}function ho(h,g,w,N){var E=h.ab,V=h.c*g,q=h.C;g=q+g;var G=w,Y=N;for(N=h.Ta,w=h.Ua;0<E--;){var te=h.gc[E],me=q,Ce=g,re=G,ye=Y,ke=(Y=N,G=w,te.Ea);switch(t(me<Ce),t(Ce<=te.nc),te.hc){case 2:Wr(re,ye,(Ce-me)*ke,Y,G);break;case 0:var Ie=me,_e=Ce,Re=Y,Pe=G,ze=(rt=te).Ea;Ie==0&&(bo(re,ye,null,null,1,Re,Pe),Qt(re,ye+1,0,0,ze-1,Re,Pe+1),ye+=ze,Pe+=ze,++Ie);for(var Fe=1<<rt.b,dt=Fe-1,Ze=Ve(ze,rt.b),Et=rt.K,rt=rt.w+(Ie>>rt.b)*Ze;Ie<_e;){var Mt=Et,Lr=rt,zt=1;for(eo(re,ye,Re,Pe-ze,1,Re,Pe);zt<ze;){var Qe=(zt&~dt)+Fe;Qe>ze&&(Qe=ze),(0,Ba[Mt[Lr++]>>8&15])(re,ye+ +zt,Re,Pe+zt-ze,Qe-zt,Re,Pe+zt),zt=Qe}ye+=ze,Pe+=ze,++Ie&dt||(rt+=Ze)}Ce!=te.nc&&a(Y,G-ke,Y,G+(Ce-me-1)*ke,ke);break;case 1:for(ke=re,_e=ye,ze=(re=te.Ea)-(Pe=re&~(Re=(ye=1<<te.b)-1)),Ie=Ve(re,te.b),Fe=te.K,te=te.w+(me>>te.b)*Ie;me<Ce;){for(dt=Fe,Ze=te,Et=new Nt,rt=_e+Pe,Mt=_e+re;_e<rt;)ht(dt[Ze++],Et),cs(Et,ke,_e,ye,Y,G),_e+=ye,G+=ye;_e<Mt&&(ht(dt[Ze++],Et),cs(Et,ke,_e,ze,Y,G),_e+=ze,G+=ze),++me&Re||(te+=Ie)}break;case 3:if(re==Y&&ye==G&&0<te.b){for(_e=Y,re=ke=G+(Ce-me)*ke-(Pe=(Ce-me)*Ve(te.Ea,te.b)),ye=Y,Re=G,Ie=[],Pe=(ze=Pe)-1;0<=Pe;--Pe)Ie[Pe]=ye[Re+Pe];for(Pe=ze-1;0<=Pe;--Pe)_e[re+Pe]=Ie[Pe];Aa(te,me,Ce,Y,ke,Y,G)}else Aa(te,me,Ce,re,ye,Y,G)}G=N,Y=w}Y!=w&&a(N,w,G,Y,V)}function Mo(h,g){var w=h.V,N=h.Ba+h.c*h.C,E=g-h.C;if(t(g<=h.l.o),t(16>=E),0<E){var V=h.l,q=h.Ta,G=h.Ua,Y=V.width;if(ho(h,E,w,N),E=G=[G],t((w=h.C)<(N=g)),t(V.v<V.va),N>V.o&&(N=V.o),w<V.j){var te=V.j-w;w=V.j,E[0]+=te*Y}if(w>=N?w=0:(E[0]+=4*V.v,V.ka=w-V.j,V.U=V.va-V.v,V.T=N-w,w=1),w){if(G=G[0],11>(w=h.ca).S){var me=w.f.RGBA,Ce=(N=w.S,E=V.U,V=V.T,te=me.eb,me.A),re=V;for(me=me.fb+h.Ma*me.A;0<re--;){var ye=q,ke=G,Ie=E,_e=te,Re=me;switch(N){case ql:ds(ye,ke,Ie,_e,Re);break;case Xo:wo(ye,ke,Ie,_e,Re);break;case ps:wo(ye,ke,Ie,_e,Re),Pa(_e,Re,0,Ie,1,0);break;case Ad:Na(ye,ke,Ie,_e,Re);break;case rl:mt(ye,ke,Ie,_e,Re,1);break;case Ia:mt(ye,ke,Ie,_e,Re,1),Pa(_e,Re,0,Ie,1,0);break;case nl:mt(ye,ke,Ie,_e,Re,0);break;case il:mt(ye,ke,Ie,_e,Re,0),Pa(_e,Re,1,Ie,1,0);break;case ar:Ko(ye,ke,Ie,_e,Re);break;case ol:Ko(ye,ke,Ie,_e,Re),Ic(_e,Re,Ie,1,0);break;case Hl:Yo(ye,ke,Ie,_e,Re);break;default:t(0)}G+=Y,me+=Ce}h.Ma+=V}else alert("todo:EmitRescaledRowsYUVA");t(h.Ma<=w.height)}}h.C=g,t(h.C<=h.i)}function _i(h){var g;if(0<h.ua)return 0;for(g=0;g<h.Wb;++g){var w=h.Ya[g].G,N=h.Ya[g].H;if(0<w[1][N[1]+0].g||0<w[2][N[2]+0].g||0<w[3][N[3]+0].g)return 0}return 1}function Hi(h,g,w,N,E,V){if(h.Z!=0){var q=h.qd,G=h.rd;for(t(jn[h.Z]!=null);g<w;++g)jn[h.Z](q,G,N,E,N,E,V),q=N,G=E,E+=V;h.qd=q,h.rd=G}}function pn(h,g){var w=h.l.ma,N=w.Z==0||w.Z==1?h.l.j:h.C;if(N=h.C<N?N:h.C,t(g<=h.l.o),g>N){var E=h.l.width,V=w.ca,q=w.tb+E*N,G=h.V,Y=h.Ba+h.c*N,te=h.gc;t(h.ab==1),t(te[0].hc==3),Ei(te[0],N,g,G,Y,V,q),Hi(w,N,g,V,q,E)}h.C=h.Ma=g}function di(h,g,w,N,E,V,q){var G=h.$/N,Y=h.$%N,te=h.m,me=h.s,Ce=w+h.$,re=Ce;E=w+N*E;var ye=w+N*V,ke=280+me.ua,Ie=h.Pb?G:16777216,_e=0<me.ua?me.Wa:null,Re=me.wc,Pe=Ce<ye?qr(me,Y,G):null;t(h.C<V),t(ye<=E);var ze=!1;e:for(;;){for(;ze||Ce<ye;){var Fe=0;if(G>=Ie){var dt=Ce-w;t((Ie=h).Pb),Ie.wd=Ie.m,Ie.xd=dt,0<Ie.s.ua&&Ye(Ie.s.Wa,Ie.s.vb),Ie=G+Kl}if(Y&Re||(Pe=qr(me,Y,G)),t(Pe!=null),Pe.Qb&&(g[Ce]=Pe.qb,ze=!0),!ze)if(ae(te),Pe.jc){Fe=te,dt=g;var Ze=Ce,Et=Pe.pd[M(Fe)&yi-1];t(Pe.jc),256>Et.g?(Z(Fe,Fe.u+Et.g),dt[Ze]=Et.value,Fe=0):(Z(Fe,Fe.u+Et.g-256),t(256<=Et.value),Fe=Et.value),Fe==0&&(ze=!0)}else Fe=fr(Pe.G[0],Pe.H[0],te);if(te.h)break;if(ze||256>Fe){if(!ze)if(Pe.nd)g[Ce]=(Pe.qb|Fe<<8)>>>0;else{if(ae(te),ze=fr(Pe.G[1],Pe.H[1],te),ae(te),dt=fr(Pe.G[2],Pe.H[2],te),Ze=fr(Pe.G[3],Pe.H[3],te),te.h)break;g[Ce]=(Ze<<24|ze<<16|Fe<<8|dt)>>>0}if(ze=!1,++Ce,++Y>=N&&(Y=0,++G,q!=null&&G<=V&&!(G%16)&&q(h,G),_e!=null))for(;re<Ce;)Fe=g[re++],_e.X[(506832829*Fe&4294967295)>>>_e.Mb]=Fe}else if(280>Fe){if(Fe=vn(Fe-256,te),dt=fr(Pe.G[4],Pe.H[4],te),ae(te),dt=ci(N,dt=vn(dt,te)),te.h)break;if(Ce-w<dt||E-Ce<Fe)break e;for(Ze=0;Ze<Fe;++Ze)g[Ce+Ze]=g[Ce+Ze-dt];for(Ce+=Fe,Y+=Fe;Y>=N;)Y-=N,++G,q!=null&&G<=V&&!(G%16)&&q(h,G);if(t(Ce<=E),Y&Re&&(Pe=qr(me,Y,G)),_e!=null)for(;re<Ce;)Fe=g[re++],_e.X[(506832829*Fe&4294967295)>>>_e.Mb]=Fe}else{if(!(Fe<ke))break e;for(ze=Fe-280,t(_e!=null);re<Ce;)Fe=g[re++],_e.X[(506832829*Fe&4294967295)>>>_e.Mb]=Fe;Fe=Ce,t(!(ze>>>(dt=_e).Xa)),g[Fe]=dt.X[ze],ze=!0}ze||t(te.h==K(te))}if(h.Pb&&te.h&&Ce<E)t(h.m.h),h.a=5,h.m=h.wd,h.$=h.xd,0<h.s.ua&&Ye(h.s.vb,h.s.Wa);else{if(te.h)break e;q!=null&&q(h,G>V?V:G),h.a=0,h.$=Ce-w}return 1}return h.a=3,0}function Jn(h){t(h!=null),h.vc=null,h.yc=null,h.Ya=null;var g=h.Wa;g!=null&&(g.X=null),h.vb=null,t(h!=null)}function ca(){var h=new ct;return h==null?null:(h.a=0,h.xb=gs,Ot("Predictor","VP8LPredictors"),Ot("Predictor","VP8LPredictors_C"),Ot("PredictorAdd","VP8LPredictorsAdd"),Ot("PredictorAdd","VP8LPredictorsAdd_C"),Wr=Tt,cs=gt,ds=hr,wo=Ut,Ko=lt,Yo=It,Na=tr,I.VP8LMapColor32b=to,I.VP8LMapColor8b=_a,h)}function Bi(h,g,w,N,E){var V=1,q=[h],G=[g],Y=N.m,te=N.s,me=null,Ce=0;e:for(;;){if(w)for(;V&&Q(Y,1);){var re=q,ye=G,ke=N,Ie=1,_e=ke.m,Re=ke.gc[ke.ab],Pe=Q(_e,2);if(ke.Oc&1<<Pe)V=0;else{switch(ke.Oc|=1<<Pe,Re.hc=Pe,Re.Ea=re[0],Re.nc=ye[0],Re.K=[null],++ke.ab,t(4>=ke.ab),Pe){case 0:case 1:Re.b=Q(_e,3)+2,Ie=Bi(Ve(Re.Ea,Re.b),Ve(Re.nc,Re.b),0,ke,Re.K),Re.K=Re.K[0];break;case 3:var ze,Fe=Q(_e,8)+1,dt=16<Fe?0:4<Fe?1:2<Fe?2:3;if(re[0]=Ve(Re.Ea,dt),Re.b=dt,ze=Ie=Bi(Fe,1,0,ke,Re.K)){var Ze,Et=Fe,rt=Re,Mt=1<<(8>>rt.b),Lr=l(Mt);if(Lr==null)ze=0;else{var zt=rt.K[0],Qe=rt.w;for(Lr[0]=rt.K[0][0],Ze=1;Ze<1*Et;++Ze)Lr[Ze]=ot(zt[Qe+Ze],Lr[Ze-1]);for(;Ze<4*Mt;++Ze)Lr[Ze]=0;rt.K[0]=null,rt.K[0]=Lr,ze=1}}Ie=ze;break;case 2:break;default:t(0)}V=Ie}}if(q=q[0],G=G[0],V&&Q(Y,1)&&!(V=1<=(Ce=Q(Y,4))&&11>=Ce)){N.a=3;break e}var He;if(He=V)t:{var Mr,wt,Wt,mr=N,cn=q,Yr=G,Tr=Ce,rn=w,dn=mr.m,wr=mr.s,$t=[null],Jt=1,Sr=0,Xt=Bd[Tr];r:for(;;){if(rn&&Q(dn,1)){var Rr=Q(dn,3)+2,Pr=Ve(cn,Rr),sr=Ve(Yr,Rr),kn=Pr*sr;if(!Bi(Pr,sr,0,mr,$t))break r;for($t=$t[0],wr.xc=Rr,Mr=0;Mr<kn;++Mr){var or=$t[Mr]>>8&65535;$t[Mr]=or,or>=Jt&&(Jt=or+1)}}if(dn.h)break r;for(wt=0;5>wt;++wt){var lr=Ea[wt];!wt&&0<Tr&&(lr+=1<<Tr),Sr<lr&&(Sr=lr)}var Jr=d(Jt*Xt,X),xn=Jt,$n=d(xn,se);if($n==null)var Dr=null;else t(65536>=xn),Dr=$n;var $r=l(Sr);if(Dr==null||$r==null||Jr==null){mr.a=1;break r}var Cn=Jr;for(Mr=Wt=0;Mr<Jt;++Mr){var cr=Dr[Mr],Tn=cr.G,wi=cr.H,Oi=0,un=1,Vr=0;for(wt=0;5>wt;++wt){lr=Ea[wt],Tn[wt]=Cn,wi[wt]=Wt,!wt&&0<Tr&&(lr+=1<<Tr);i:{var ea,Co=lr,vs=mr,io=$r,Id=Cn,Hc=Wt,xr=0,Wi=vs.m,Gc=Q(Wi,1);if(s(io,0,0,Co),Gc){var Kc=Q(Wi,1)+1,Jl=Q(Wi,1),Xl=Q(Wi,Jl==0?1:8);io[Xl]=1,Kc==2&&(io[Xl=Q(Wi,8)]=1);var oo=1}else{var jr=l(19),Xr=Q(Wi,4)+4;if(19<Xr){vs.a=3;var Ur=0;break i}for(ea=0;ea<Xr;++ea)jr[Ku[ea]]=Q(Wi,3);var bs=void 0,To=void 0,ws=vs,eh=jr,nn=Co,Zl=io,dl=0,ao=ws.m,Mi=8,ni=d(128,X);n:for(;k(ni,0,7,eh,19);){if(Q(ao,1)){var ul=2+2*Q(ao,3);if((bs=2+Q(ao,ul))>nn)break n}else bs=nn;for(To=0;To<nn&&bs--;){ae(ao);var Ql=ni[0+(127&M(ao))];Z(ao,ao.u+Ql.g);var ta=Ql.value;if(16>ta)Zl[To++]=ta,ta!=0&&(Mi=ta);else{var Ed=ta==16,Yc=ta-16,zd=Gl[Yc],Jc=Q(ao,al[Yc])+zd;if(To+Jc>nn)break n;for(var Fd=Ed?Mi:0;0<Jc--;)Zl[To++]=Fd}}dl=1;break n}dl||(ws.a=3),oo=dl}(oo=oo&&!Wi.h)&&(xr=k(Id,Hc,8,io,Co)),oo&&xr!=0?Ur=xr:(vs.a=3,Ur=0)}if(Ur==0)break r;if(un&&_d[wt]==1&&(un=Cn[Wt].g==0),Oi+=Cn[Wt].g,Wt+=Ur,3>=wt){var Ss,ec=$r[0];for(Ss=1;Ss<lr;++Ss)$r[Ss]>ec&&(ec=$r[Ss]);Vr+=ec}}if(cr.nd=un,cr.Qb=0,un&&(cr.qb=(Tn[3][wi[3]+0].value<<24|Tn[1][wi[1]+0].value<<16|Tn[2][wi[2]+0].value)>>>0,Oi==0&&256>Tn[0][wi[0]+0].value&&(cr.Qb=1,cr.qb+=Tn[0][wi[0]+0].value<<8)),cr.jc=!cr.Qb&&6>Vr,cr.jc){var hl,ii=cr;for(hl=0;hl<yi;++hl){var Ao=hl,Di=ii.pd[Ao],Ma=ii.G[0][ii.H[0]+Ao];256<=Ma.value?(Di.g=Ma.g+256,Di.value=Ma.value):(Di.g=0,Di.value=0,Ao>>=zr(Ma,8,Di),Ao>>=zr(ii.G[1][ii.H[1]+Ao],16,Di),Ao>>=zr(ii.G[2][ii.H[2]+Ao],0,Di),zr(ii.G[3][ii.H[3]+Ao],24,Di))}}}wr.vc=$t,wr.Wb=Jt,wr.Ya=Dr,wr.yc=Jr,He=1;break t}He=0}if(!(V=He)){N.a=3;break e}if(0<Ce){if(te.ua=1<<Ce,!ne(te.Wa,Ce)){N.a=1,V=0;break e}}else te.ua=0;var tc=N,rc=q,Od=G,nc=tc.s,ic=nc.xc;if(tc.c=rc,tc.i=Od,nc.md=Ve(rc,ic),nc.wc=ic==0?-1:(1<<ic)-1,w){N.xb=no;break e}if((me=l(q*G))==null){N.a=1,V=0;break e}V=(V=di(N,me,0,q,G,G,null))&&!Y.h;break e}return V?(E!=null?E[0]=me:(t(me==null),t(w)),N.$=0,w||Jn(te)):Jn(te),V}function Do(h,g){var w=h.c*h.i,N=w+g+16*g;return t(h.c<=g),h.V=l(N),h.V==null?(h.Ta=null,h.Ua=0,h.a=1,0):(h.Ta=h.V,h.Ua=h.Ba+w+g,1)}function da(h,g){var w=h.C,N=g-w,E=h.V,V=h.Ba+h.c*w;for(t(g<=h.l.o);0<N;){var q=16<N?16:N,G=h.l.ma,Y=h.l.width,te=Y*q,me=G.ca,Ce=G.tb+Y*w,re=h.Ta,ye=h.Ua;ho(h,q,E,V),Ec(re,ye,me,Ce,te),Hi(G,w,w+q,me,Ce,Y),N-=q,E+=q*h.c,w+=q}t(w==g),h.C=h.Ma=g}function ua(){this.ub=this.yd=this.td=this.Rb=0}function Za(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Nc(){this.Fb=this.Bb=this.Cb=0,this.Zb=l(4),this.Lb=l(4)}function gr(){this.Yb=(function(){var h=[];return(function g(w,N,E){for(var V=E[N],q=0;q<V&&(w.push(E.length>N+1?[]:0),!(E.length<N+1));q++)g(w[q],N+1,E)})(h,0,[3,11]),h})()}function Rl(){this.jb=l(3),this.Wc=u([4,8],gr),this.Xc=u([4,17],gr)}function Qa(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new l(4),this.od=new l(4)}function Xn(){this.ld=this.La=this.dd=this.tc=0}function $o(){this.Na=this.la=0}function Pl(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function es(){this.ad=l(384),this.Za=0,this.Ob=l(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ha(){this.uc=this.M=this.Nb=0,this.wa=Array(new Xn),this.Y=0,this.ya=Array(new es),this.aa=0,this.l=new bn}function Zn(){this.y=l(16),this.f=l(8),this.ea=l(8)}function Il(){this.cb=this.a=0,this.sc="",this.m=new L,this.Od=new ua,this.Kc=new Za,this.ed=new Qa,this.Qa=new Nc,this.Ic=this.$c=this.Aa=0,this.D=new ha,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=d(8,L),this.ia=0,this.pb=d(4,Pl),this.Pa=new Rl,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Zn),this.Hd=0,this.rb=Array(new $o),this.sb=0,this.wa=Array(new Xn),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new es),this.L=this.aa=0,this.gd=u([4,2],Xn),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function bn(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Lc(){var h=new Il;return h!=null&&(h.a=0,h.sc="OK",h.cb=0,h.Xb=0,za||(za=ui)),h}function Hr(h,g,w){return h.a==0&&(h.a=g,h.sc=w,h.cb=0),0}function El(h,g,w){return 3<=w&&h[g+0]==157&&h[g+1]==1&&h[g+2]==42}function fa(h,g){if(h==null)return 0;if(h.a=0,h.sc="OK",g==null)return Hr(h,2,"null VP8Io passed to VP8GetHeaders()");var w=g.data,N=g.w,E=g.ha;if(4>E)return Hr(h,7,"Truncated header.");var V=w[N+0]|w[N+1]<<8|w[N+2]<<16,q=h.Od;if(q.Rb=!(1&V),q.td=V>>1&7,q.yd=V>>4&1,q.ub=V>>5,3<q.td)return Hr(h,3,"Incorrect keyframe parameters.");if(!q.yd)return Hr(h,4,"Frame not displayable.");N+=3,E-=3;var G=h.Kc;if(q.Rb){if(7>E)return Hr(h,7,"cannot parse picture header");if(!El(w,N,E))return Hr(h,3,"Bad code word");G.c=16383&(w[N+4]<<8|w[N+3]),G.Td=w[N+4]>>6,G.i=16383&(w[N+6]<<8|w[N+5]),G.Ud=w[N+6]>>6,N+=7,E-=7,h.za=G.c+15>>4,h.Ub=G.i+15>>4,g.width=G.c,g.height=G.i,g.Da=0,g.j=0,g.v=0,g.va=g.width,g.o=g.height,g.da=0,g.ib=g.width,g.hb=g.height,g.U=g.width,g.T=g.height,s((V=h.Pa).jb,0,255,V.jb.length),t((V=h.Qa)!=null),V.Cb=0,V.Bb=0,V.Fb=1,s(V.Zb,0,0,V.Zb.length),s(V.Lb,0,0,V.Lb)}if(q.ub>E)return Hr(h,7,"bad partition length");xe(V=h.m,w,N,q.ub),N+=q.ub,E-=q.ub,q.Rb&&(G.Ld=pe(V),G.Kd=pe(V)),G=h.Qa;var Y,te=h.Pa;if(t(V!=null),t(G!=null),G.Cb=pe(V),G.Cb){if(G.Bb=pe(V),pe(V)){for(G.Fb=pe(V),Y=0;4>Y;++Y)G.Zb[Y]=pe(V)?oe(V,7):0;for(Y=0;4>Y;++Y)G.Lb[Y]=pe(V)?oe(V,6):0}if(G.Bb)for(Y=0;3>Y;++Y)te.jb[Y]=pe(V)?de(V,8):255}else G.Bb=0;if(V.Ka)return Hr(h,3,"cannot parse segment header");if((G=h.ed).zd=pe(V),G.Tb=de(V,6),G.wb=de(V,3),G.Pc=pe(V),G.Pc&&pe(V)){for(te=0;4>te;++te)pe(V)&&(G.vd[te]=oe(V,6));for(te=0;4>te;++te)pe(V)&&(G.od[te]=oe(V,6))}if(h.L=G.Tb==0?0:G.zd?1:2,V.Ka)return Hr(h,3,"cannot parse filter header");var me=E;if(E=Y=N,N=Y+me,G=me,h.Xb=(1<<de(h.m,2))-1,me<3*(te=h.Xb))w=7;else{for(Y+=3*te,G-=3*te,me=0;me<te;++me){var Ce=w[E+0]|w[E+1]<<8|w[E+2]<<16;Ce>G&&(Ce=G),xe(h.Jc[+me],w,Y,Ce),Y+=Ce,G-=Ce,E+=3}xe(h.Jc[+te],w,Y,G),w=Y<N?0:5}if(w!=0)return Hr(h,w,"cannot parse partitions");for(w=de(Y=h.m,7),E=pe(Y)?oe(Y,4):0,N=pe(Y)?oe(Y,4):0,G=pe(Y)?oe(Y,4):0,te=pe(Y)?oe(Y,4):0,Y=pe(Y)?oe(Y,4):0,me=h.Qa,Ce=0;4>Ce;++Ce){if(me.Cb){var re=me.Zb[Ce];me.Fb||(re+=w)}else{if(0<Ce){h.pb[Ce]=h.pb[0];continue}re=w}var ye=h.pb[Ce];ye.Sc[0]=ms[_r(re+E,127)],ye.Sc[1]=sl[_r(re+0,127)],ye.Eb[0]=2*ms[_r(re+N,127)],ye.Eb[1]=101581*sl[_r(re+G,127)]>>16,8>ye.Eb[1]&&(ye.Eb[1]=8),ye.Qc[0]=ms[_r(re+te,117)],ye.Qc[1]=sl[_r(re+Y,127)],ye.lc=re+Y}if(!q.Rb)return Hr(h,4,"Not a key frame.");for(pe(V),q=h.Pa,w=0;4>w;++w){for(E=0;8>E;++E)for(N=0;3>N;++N)for(G=0;11>G;++G)te=ue(V,Xu[w][E][N][G])?de(V,8):Ld[w][E][N][G],q.Wc[w][E].Yb[N][G]=te;for(E=0;17>E;++E)q.Xc[w][E]=q.Wc[w][Vc[E]]}return h.kc=pe(V),h.kc&&(h.Bd=de(V,8)),h.cb=1}function ui(h,g,w,N,E,V,q){var G=g[E].Yb[w];for(w=0;16>E;++E){if(!ue(h,G[w+0]))return E;for(;!ue(h,G[w+1]);)if(G=g[++E].Yb[0],w=0,E==16)return 16;var Y=g[E+1].Yb;if(ue(h,G[w+2])){var te=h,me=0;if(ue(te,(re=G)[(Ce=w)+3]))if(ue(te,re[Ce+6])){for(G=0,Ce=2*(me=ue(te,re[Ce+8]))+(re=ue(te,re[Ce+9+me])),me=0,re=Dc[Ce];re[G];++G)me+=me+ue(te,re[G]);me+=3+(8<<Ce)}else ue(te,re[Ce+7])?(me=7+2*ue(te,165),me+=ue(te,145)):me=5+ue(te,159);else me=ue(te,re[Ce+4])?3+ue(te,re[Ce+5]):2;G=Y[2]}else me=1,G=Y[1];Y=q+$c[E],0>(te=h).b&&he(te);var Ce,re=te.b,ye=(Ce=te.Ca>>1)-(te.I>>re)>>31;--te.b,te.Ca+=ye,te.Ca|=1,te.I-=(Ce+1&ye)<<re,V[Y]=((me^ye)-ye)*N[(0<E)+0]}return 16}function Ni(h){var g=h.rb[h.sb-1];g.la=0,g.Na=0,s(h.zc,0,0,h.zc.length),h.ja=0}function In(h,g,w,N,E){E=h[g+w+32*N]+(E>>3),h[g+w+32*N]=-256&E?0>E?0:255:E}function pa(h,g,w,N,E,V){In(h,g,0,w,N+E),In(h,g,1,w,N+V),In(h,g,2,w,N-V),In(h,g,3,w,N-E)}function Fr(h){return(20091*h>>16)+h}function ma(h,g,w,N){var E,V=0,q=l(16);for(E=0;4>E;++E){var G=h[g+0]+h[g+8],Y=h[g+0]-h[g+8],te=(35468*h[g+4]>>16)-Fr(h[g+12]),me=Fr(h[g+4])+(35468*h[g+12]>>16);q[V+0]=G+me,q[V+1]=Y+te,q[V+2]=Y-te,q[V+3]=G-me,V+=4,g++}for(E=V=0;4>E;++E)G=(h=q[V+0]+4)+q[V+8],Y=h-q[V+8],te=(35468*q[V+4]>>16)-Fr(q[V+12]),In(w,N,0,0,G+(me=Fr(q[V+4])+(35468*q[V+12]>>16))),In(w,N,1,0,Y+te),In(w,N,2,0,Y-te),In(w,N,3,0,G-me),V++,N+=32}function zl(h,g,w,N){var E=h[g+0]+4,V=35468*h[g+4]>>16,q=Fr(h[g+4]),G=35468*h[g+1]>>16;pa(w,N,0,E+q,h=Fr(h[g+1]),G),pa(w,N,1,E+V,h,G),pa(w,N,2,E-V,h,G),pa(w,N,3,E-q,h,G)}function Us(h,g,w,N,E){ma(h,g,w,N),E&&ma(h,g+16,w,N+4)}function ga(h,g,w,N){La(h,g+0,w,N,1),La(h,g+32,w,N+128,1)}function Gi(h,g,w,N){var E;for(h=h[g+0]+4,E=0;4>E;++E)for(g=0;4>g;++g)In(w,N,g,E,h)}function ts(h,g,w,N){h[g+0]&&Yt(h,g+0,w,N),h[g+16]&&Yt(h,g+16,w,N+4),h[g+32]&&Yt(h,g+32,w,N+128),h[g+48]&&Yt(h,g+48,w,N+128+4)}function Ht(h,g,w,N){var E,V=l(16);for(E=0;4>E;++E){var q=h[g+0+E]+h[g+12+E],G=h[g+4+E]+h[g+8+E],Y=h[g+4+E]-h[g+8+E],te=h[g+0+E]-h[g+12+E];V[0+E]=q+G,V[8+E]=q-G,V[4+E]=te+Y,V[12+E]=te-Y}for(E=0;4>E;++E)q=(h=V[0+4*E]+3)+V[3+4*E],G=V[1+4*E]+V[2+4*E],Y=V[1+4*E]-V[2+4*E],te=h-V[3+4*E],w[N+0]=q+G>>3,w[N+16]=te+Y>>3,w[N+32]=q-G>>3,w[N+48]=te-Y>>3,N+=64}function fo(h,g,w){var N,E=g-32,V=Nn,q=255-h[E-1];for(N=0;N<w;++N){var G,Y=V,te=q+h[g-1];for(G=0;G<w;++G)h[g+G]=Y[te+h[E+G]];g+=32}}function rs(h,g){fo(h,g,4)}function qs(h,g){fo(h,g,8)}function Fl(h,g){fo(h,g,16)}function Ol(h,g){var w;for(w=0;16>w;++w)a(h,g+32*w,h,g-32,16)}function ns(h,g){var w;for(w=16;0<w;--w)s(h,g,h[g-1],16),g+=32}function po(h,g,w){var N;for(N=0;16>N;++N)s(g,w+32*N,h,16)}function Li(h,g){var w,N=16;for(w=0;16>w;++w)N+=h[g-1+32*w]+h[g+w-32];po(N>>5,h,g)}function Ki(h,g){var w,N=8;for(w=0;16>w;++w)N+=h[g-1+32*w];po(N>>4,h,g)}function En(h,g){var w,N=8;for(w=0;16>w;++w)N+=h[g+w-32];po(N>>4,h,g)}function hi(h,g){po(128,h,g)}function bt(h,g,w){return h+2*g+w+2>>2}function xa(h,g){var w,N=g-32;for(N=new Uint8Array([bt(h[N-1],h[N+0],h[N+1]),bt(h[N+0],h[N+1],h[N+2]),bt(h[N+1],h[N+2],h[N+3]),bt(h[N+2],h[N+3],h[N+4])]),w=0;4>w;++w)a(h,g+32*w,N,0,N.length)}function Yi(h,g){var w=h[g-1],N=h[g-1+32],E=h[g-1+64],V=h[g-1+96];Te(h,g+0,16843009*bt(h[g-1-32],w,N)),Te(h,g+32,16843009*bt(w,N,E)),Te(h,g+64,16843009*bt(N,E,V)),Te(h,g+96,16843009*bt(E,V,V))}function Rc(h,g){var w,N=4;for(w=0;4>w;++w)N+=h[g+w-32]+h[g-1+32*w];for(N>>=3,w=0;4>w;++w)s(h,g+32*w,N,4)}function Wl(h,g){var w=h[g-1+0],N=h[g-1+32],E=h[g-1+64],V=h[g-1-32],q=h[g+0-32],G=h[g+1-32],Y=h[g+2-32],te=h[g+3-32];h[g+0+96]=bt(N,E,h[g-1+96]),h[g+1+96]=h[g+0+64]=bt(w,N,E),h[g+2+96]=h[g+1+64]=h[g+0+32]=bt(V,w,N),h[g+3+96]=h[g+2+64]=h[g+1+32]=h[g+0+0]=bt(q,V,w),h[g+3+64]=h[g+2+32]=h[g+1+0]=bt(G,q,V),h[g+3+32]=h[g+2+0]=bt(Y,G,q),h[g+3+0]=bt(te,Y,G)}function Qn(h,g){var w=h[g+1-32],N=h[g+2-32],E=h[g+3-32],V=h[g+4-32],q=h[g+5-32],G=h[g+6-32],Y=h[g+7-32];h[g+0+0]=bt(h[g+0-32],w,N),h[g+1+0]=h[g+0+32]=bt(w,N,E),h[g+2+0]=h[g+1+32]=h[g+0+64]=bt(N,E,V),h[g+3+0]=h[g+2+32]=h[g+1+64]=h[g+0+96]=bt(E,V,q),h[g+3+32]=h[g+2+64]=h[g+1+96]=bt(V,q,G),h[g+3+64]=h[g+2+96]=bt(q,G,Y),h[g+3+96]=bt(G,Y,Y)}function mo(h,g){var w=h[g-1+0],N=h[g-1+32],E=h[g-1+64],V=h[g-1-32],q=h[g+0-32],G=h[g+1-32],Y=h[g+2-32],te=h[g+3-32];h[g+0+0]=h[g+1+64]=V+q+1>>1,h[g+1+0]=h[g+2+64]=q+G+1>>1,h[g+2+0]=h[g+3+64]=G+Y+1>>1,h[g+3+0]=Y+te+1>>1,h[g+0+96]=bt(E,N,w),h[g+0+64]=bt(N,w,V),h[g+0+32]=h[g+1+96]=bt(w,V,q),h[g+1+32]=h[g+2+96]=bt(V,q,G),h[g+2+32]=h[g+3+96]=bt(q,G,Y),h[g+3+32]=bt(G,Y,te)}function Ml(h,g){var w=h[g+0-32],N=h[g+1-32],E=h[g+2-32],V=h[g+3-32],q=h[g+4-32],G=h[g+5-32],Y=h[g+6-32],te=h[g+7-32];h[g+0+0]=w+N+1>>1,h[g+1+0]=h[g+0+64]=N+E+1>>1,h[g+2+0]=h[g+1+64]=E+V+1>>1,h[g+3+0]=h[g+2+64]=V+q+1>>1,h[g+0+32]=bt(w,N,E),h[g+1+32]=h[g+0+96]=bt(N,E,V),h[g+2+32]=h[g+1+96]=bt(E,V,q),h[g+3+32]=h[g+2+96]=bt(V,q,G),h[g+3+64]=bt(q,G,Y),h[g+3+96]=bt(G,Y,te)}function is(h,g){var w=h[g-1+0],N=h[g-1+32],E=h[g-1+64],V=h[g-1+96];h[g+0+0]=w+N+1>>1,h[g+2+0]=h[g+0+32]=N+E+1>>1,h[g+2+32]=h[g+0+64]=E+V+1>>1,h[g+1+0]=bt(w,N,E),h[g+3+0]=h[g+1+32]=bt(N,E,V),h[g+3+32]=h[g+1+64]=bt(E,V,V),h[g+3+64]=h[g+2+64]=h[g+0+96]=h[g+1+96]=h[g+2+96]=h[g+3+96]=V}function ya(h,g){var w=h[g-1+0],N=h[g-1+32],E=h[g-1+64],V=h[g-1+96],q=h[g-1-32],G=h[g+0-32],Y=h[g+1-32],te=h[g+2-32];h[g+0+0]=h[g+2+32]=w+q+1>>1,h[g+0+32]=h[g+2+64]=N+w+1>>1,h[g+0+64]=h[g+2+96]=E+N+1>>1,h[g+0+96]=V+E+1>>1,h[g+3+0]=bt(G,Y,te),h[g+2+0]=bt(q,G,Y),h[g+1+0]=h[g+3+32]=bt(w,q,G),h[g+1+32]=h[g+3+64]=bt(N,w,q),h[g+1+64]=h[g+3+96]=bt(E,N,w),h[g+1+96]=bt(V,E,N)}function Hs(h,g){var w;for(w=0;8>w;++w)a(h,g+32*w,h,g-32,8)}function Ri(h,g){var w;for(w=0;8>w;++w)s(h,g,h[g-1],8),g+=32}function Ji(h,g,w){var N;for(N=0;8>N;++N)s(g,w+32*N,h,8)}function Pi(h,g){var w,N=8;for(w=0;8>w;++w)N+=h[g+w-32]+h[g-1+32*w];Ji(N>>4,h,g)}function os(h,g){var w,N=4;for(w=0;8>w;++w)N+=h[g+w-32];Ji(N>>3,h,g)}function Gs(h,g){var w,N=4;for(w=0;8>w;++w)N+=h[g-1+32*w];Ji(N>>3,h,g)}function Ks(h,g){Ji(128,h,g)}function go(h,g,w){var N=h[g-w],E=h[g+0],V=3*(E-N)+ro[1020+h[g-2*w]-h[g+w]],q=fs[112+(V+4>>3)];h[g-w]=Nn[255+N+fs[112+(V+3>>3)]],h[g+0]=Nn[255+E-q]}function Xi(h,g,w,N){var E=h[g+0],V=h[g+w];return vi[255+h[g-2*w]-h[g-w]]>N||vi[255+V-E]>N}function va(h,g,w,N){return 4*vi[255+h[g-w]-h[g+0]]+vi[255+h[g-2*w]-h[g+w]]<=N}function ba(h,g,w,N,E){var V=h[g-3*w],q=h[g-2*w],G=h[g-w],Y=h[g+0],te=h[g+w],me=h[g+2*w],Ce=h[g+3*w];return 4*vi[255+G-Y]+vi[255+q-te]>N?0:vi[255+h[g-4*w]-V]<=E&&vi[255+V-q]<=E&&vi[255+q-G]<=E&&vi[255+Ce-me]<=E&&vi[255+me-te]<=E&&vi[255+te-Y]<=E}function fi(h,g,w,N){var E=2*N+1;for(N=0;16>N;++N)va(h,g+N,w,E)&&go(h,g+N,w)}function xo(h,g,w,N){var E=2*N+1;for(N=0;16>N;++N)va(h,g+N*w,1,E)&&go(h,g+N*w,1)}function wa(h,g,w,N){var E;for(E=3;0<E;--E)fi(h,g+=4*w,w,N)}function Ys(h,g,w,N){var E;for(E=3;0<E;--E)xo(h,g+=4,w,N)}function pi(h,g,w,N,E,V,q,G){for(V=2*V+1;0<E--;){if(ba(h,g,w,V,q))if(Xi(h,g,w,G))go(h,g,w);else{var Y=h,te=g,me=w,Ce=Y[te-2*me],re=Y[te-me],ye=Y[te+0],ke=Y[te+me],Ie=Y[te+2*me],_e=27*(Pe=ro[1020+3*(ye-re)+ro[1020+Ce-ke]])+63>>7,Re=18*Pe+63>>7,Pe=9*Pe+63>>7;Y[te-3*me]=Nn[255+Y[te-3*me]+Pe],Y[te-2*me]=Nn[255+Ce+Re],Y[te-me]=Nn[255+re+_e],Y[te+0]=Nn[255+ye-_e],Y[te+me]=Nn[255+ke-Re],Y[te+2*me]=Nn[255+Ie-Pe]}g+=N}}function mi(h,g,w,N,E,V,q,G){for(V=2*V+1;0<E--;){if(ba(h,g,w,V,q))if(Xi(h,g,w,G))go(h,g,w);else{var Y=h,te=g,me=w,Ce=Y[te-me],re=Y[te+0],ye=Y[te+me],ke=fs[112+(4+(Ie=3*(re-Ce))>>3)],Ie=fs[112+(Ie+3>>3)],_e=ke+1>>1;Y[te-2*me]=Nn[255+Y[te-2*me]+_e],Y[te-me]=Nn[255+Ce+Ie],Y[te+0]=Nn[255+re-ke],Y[te+me]=Nn[255+ye-_e]}g+=N}}function Js(h,g,w,N,E,V){pi(h,g,w,1,16,N,E,V)}function wn(h,g,w,N,E,V){pi(h,g,1,w,16,N,E,V)}function gi(h,g,w,N,E,V){var q;for(q=3;0<q;--q)mi(h,g+=4*w,w,1,16,N,E,V)}function as(h,g,w,N,E,V){var q;for(q=3;0<q;--q)mi(h,g+=4,1,w,16,N,E,V)}function v(h,g,w,N,E,V,q,G){pi(h,g,E,1,8,V,q,G),pi(w,N,E,1,8,V,q,G)}function z(h,g,w,N,E,V,q,G){pi(h,g,1,E,8,V,q,G),pi(w,N,1,E,8,V,q,G)}function ie(h,g,w,N,E,V,q,G){mi(h,g+4*E,E,1,8,V,q,G),mi(w,N+4*E,E,1,8,V,q,G)}function fe(h,g,w,N,E,V,q,G){mi(h,g+4,1,E,8,V,q,G),mi(w,N+4,1,E,8,V,q,G)}function Se(){this.ba=new qt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Gt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ee(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Me(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function tt(){this.ua=0,this.Wa=new Ke,this.vb=new Ke,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new se,this.yc=new X}function ct(){this.xb=this.a=0,this.l=new bn,this.ca=new qt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new U,this.Pb=0,this.wd=new U,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new tt,this.ab=0,this.gc=d(4,Me),this.Oc=0}function kt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new bn,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ct(h,g,w,N,E,V,q){for(h=h==null?0:h[g+0],g=0;g<q;++g)E[V+g]=h+w[N+g]&255,h=E[V+g]}function Kt(h,g,w,N,E,V,q){var G;if(h==null)Ct(null,null,w,N,E,V,q);else for(G=0;G<q;++G)E[V+G]=h[g+G]+w[N+G]&255}function Cr(h,g,w,N,E,V,q){if(h==null)Ct(null,null,w,N,E,V,q);else{var G,Y=h[g+0],te=Y,me=Y;for(G=0;G<q;++G)te=me+(Y=h[g+G])-te,me=w[N+G]+(-256&te?0>te?0:255:te)&255,te=Y,E[V+G]=me}}function Gr(h,g,w,N){var E=g.width,V=g.o;if(t(h!=null&&g!=null),0>w||0>=N||w+N>V)return null;if(!h.Cc){if(h.ga==null){var q;if(h.ga=new kt,(q=h.ga==null)||(q=g.width*g.o,t(h.Gb.length==0),h.Gb=l(q),h.Uc=0,h.Gb==null?q=0:(h.mb=h.Gb,h.nb=h.Uc,h.rc=null,q=1),q=!q),!q){q=h.ga;var G=h.Fa,Y=h.P,te=h.qc,me=h.mb,Ce=h.nb,re=Y+1,ye=te-1,ke=q.l;if(t(G!=null&&me!=null&&g!=null),jn[0]=null,jn[1]=Ct,jn[2]=Kt,jn[3]=Cr,q.ca=me,q.tb=Ce,q.c=g.width,q.i=g.height,t(0<q.c&&0<q.i),1>=te)g=0;else if(q.$a=3&G[Y+0],q.Z=G[Y+0]>>2&3,q.Lc=G[Y+0]>>4&3,Y=G[Y+0]>>6&3,0>q.$a||1<q.$a||4<=q.Z||1<q.Lc||Y)g=0;else if(ke.put=xt,ke.ac=li,ke.bc=Yn,ke.ma=q,ke.width=g.width,ke.height=g.height,ke.Da=g.Da,ke.v=g.v,ke.va=g.va,ke.j=g.j,ke.o=g.o,q.$a)e:{t(q.$a==1),g=ca();t:for(;;){if(g==null){g=0;break e}if(t(q!=null),q.mc=g,g.c=q.c,g.i=q.i,g.l=q.l,g.l.ma=q,g.l.width=q.c,g.l.height=q.i,g.a=0,be(g.m,G,re,ye),!Bi(q.c,q.i,1,g,null)||(g.ab==1&&g.gc[0].hc==3&&_i(g.s)?(q.ic=1,G=g.c*g.i,g.Ta=null,g.Ua=0,g.V=l(G),g.Ba=0,g.V==null?(g.a=1,g=0):g=1):(q.ic=0,g=Do(g,q.c)),!g))break t;g=1;break e}q.mc=null,g=0}else g=ye>=q.c*q.i;q=!g}if(q)return null;h.ga.Lc!=1?h.Ga=0:N=V-w}t(h.ga!=null),t(w+N<=V);e:{if(g=(G=h.ga).c,V=G.l.o,G.$a==0){if(re=h.rc,ye=h.Vc,ke=h.Fa,Y=h.P+1+w*g,te=h.mb,me=h.nb+w*g,t(Y<=h.P+h.qc),G.Z!=0)for(t(jn[G.Z]!=null),q=0;q<N;++q)jn[G.Z](re,ye,ke,Y,te,me,g),re=te,ye=me,me+=g,Y+=g;else for(q=0;q<N;++q)a(te,me,ke,Y,g),re=te,ye=me,me+=g,Y+=g;h.rc=re,h.Vc=ye}else{if(t(G.mc!=null),g=w+N,t((q=G.mc)!=null),t(g<=q.i),q.C>=g)g=1;else if(G.ic||xi(),G.ic){G=q.V,re=q.Ba,ye=q.c;var Ie=q.i,_e=(ke=1,Y=q.$/ye,te=q.$%ye,me=q.m,Ce=q.s,q.$),Re=ye*Ie,Pe=ye*g,ze=Ce.wc,Fe=_e<Pe?qr(Ce,te,Y):null;t(_e<=Re),t(g<=Ie),t(_i(Ce));t:for(;;){for(;!me.h&&_e<Pe;){if(te&ze||(Fe=qr(Ce,te,Y)),t(Fe!=null),ae(me),256>(Ie=fr(Fe.G[0],Fe.H[0],me)))G[re+_e]=Ie,++_e,++te>=ye&&(te=0,++Y<=g&&!(Y%16)&&pn(q,Y));else{if(!(280>Ie)){ke=0;break t}Ie=vn(Ie-256,me);var dt,Ze=fr(Fe.G[4],Fe.H[4],me);if(ae(me),!(_e>=(Ze=ci(ye,Ze=vn(Ze,me)))&&Re-_e>=Ie)){ke=0;break t}for(dt=0;dt<Ie;++dt)G[re+_e+dt]=G[re+_e+dt-Ze];for(_e+=Ie,te+=Ie;te>=ye;)te-=ye,++Y<=g&&!(Y%16)&&pn(q,Y);_e<Pe&&te&ze&&(Fe=qr(Ce,te,Y))}t(me.h==K(me))}pn(q,Y>g?g:Y);break t}!ke||me.h&&_e<Re?(ke=0,q.a=me.h?5:3):q.$=_e,g=ke}else g=di(q,q.V,q.Ba,q.c,q.i,g,da);if(!g){N=0;break e}}w+N>=V&&(h.Cc=1),N=1}if(!N)return null;if(h.Cc&&((N=h.ga)!=null&&(N.mc=null),h.ga=null,0<h.Ga))return alert("todo:WebPDequantizeLevels"),null}return h.nb+w*E}function pr(h,g,w,N,E,V){for(;0<E--;){var q,G=h,Y=g+(w?1:0),te=h,me=g+(w?0:3);for(q=0;q<N;++q){var Ce=te[me+4*q];Ce!=255&&(Ce*=32897,G[Y+4*q+0]=G[Y+4*q+0]*Ce>>23,G[Y+4*q+1]=G[Y+4*q+1]*Ce>>23,G[Y+4*q+2]=G[Y+4*q+2]*Ce>>23)}g+=V}}function tn(h,g,w,N,E){for(;0<N--;){var V;for(V=0;V<w;++V){var q=h[g+2*V+0],G=15&(te=h[g+2*V+1]),Y=4369*G,te=(240&te|te>>4)*Y>>16;h[g+2*V+0]=(240&q|q>>4)*Y>>16&240|(15&q|q<<4)*Y>>16>>4&15,h[g+2*V+1]=240&te|G}g+=E}}function Or(h,g,w,N,E,V,q,G){var Y,te,me=255;for(te=0;te<E;++te){for(Y=0;Y<N;++Y){var Ce=h[g+Y];V[q+4*Y]=Ce,me&=Ce}g+=w,q+=G}return me!=255}function mn(h,g,w,N,E){var V;for(V=0;V<E;++V)w[N+V]=h[g+V]>>8}function xi(){Pa=pr,Ic=tn,tl=Or,Ec=mn}function zn(h,g,w){I[h]=function(N,E,V,q,G,Y,te,me,Ce,re,ye,ke,Ie,_e,Re,Pe,ze){var Fe,dt=ze-1>>1,Ze=G[Y+0]|te[me+0]<<16,Et=Ce[re+0]|ye[ke+0]<<16;t(N!=null);var rt=3*Ze+Et+131074>>2;for(g(N[E+0],255&rt,rt>>16,Ie,_e),V!=null&&(rt=3*Et+Ze+131074>>2,g(V[q+0],255&rt,rt>>16,Re,Pe)),Fe=1;Fe<=dt;++Fe){var Mt=G[Y+Fe]|te[me+Fe]<<16,Lr=Ce[re+Fe]|ye[ke+Fe]<<16,zt=Ze+Mt+Et+Lr+524296,Qe=zt+2*(Mt+Et)>>3;rt=Qe+Ze>>1,Ze=(zt=zt+2*(Ze+Lr)>>3)+Mt>>1,g(N[E+2*Fe-1],255&rt,rt>>16,Ie,_e+(2*Fe-1)*w),g(N[E+2*Fe-0],255&Ze,Ze>>16,Ie,_e+(2*Fe-0)*w),V!=null&&(rt=zt+Et>>1,Ze=Qe+Lr>>1,g(V[q+2*Fe-1],255&rt,rt>>16,Re,Pe+(2*Fe-1)*w),g(V[q+2*Fe+0],255&Ze,Ze>>16,Re,Pe+(2*Fe+0)*w)),Ze=Mt,Et=Lr}1&ze||(rt=3*Ze+Et+131074>>2,g(N[E+ze-1],255&rt,rt>>16,Ie,_e+(ze-1)*w),V!=null&&(rt=3*Et+Ze+131074>>2,g(V[q+ze-1],255&rt,rt>>16,Re,Pe+(ze-1)*w)))}}function Dl(){Wn[ql]=Zu,Wn[Xo]=Zo,Wn[Ad]=Qu,Wn[rl]=xs,Wn[nl]=Fa,Wn[ar]=ll,Wn[Hl]=Uc,Wn[ps]=Zo,Wn[Ia]=xs,Wn[il]=Fa,Wn[ol]=ll}function Vo(h){return h&-16384?0>h?0:255:h>>Qo}function Sa(h,g){return Vo((19077*h>>8)+(26149*g>>8)-14234)}function Uo(h,g,w){return Vo((19077*h>>8)-(6419*g>>8)-(13320*w>>8)+8708)}function ja(h,g){return Vo((19077*h>>8)+(33050*g>>8)-17685)}function qo(h,g,w,N,E){N[E+0]=Sa(h,w),N[E+1]=Uo(h,g,w),N[E+2]=ja(h,g)}function ka(h,g,w,N,E){N[E+0]=ja(h,g),N[E+1]=Uo(h,g,w),N[E+2]=Sa(h,w)}function Sn(h,g,w,N,E){var V=Uo(h,g,w);g=V<<3&224|ja(h,g)>>3,N[E+0]=248&Sa(h,w)|V>>5,N[E+1]=g}function Ca(h,g,w,N,E){var V=240&ja(h,g)|15;N[E+0]=240&Sa(h,w)|Uo(h,g,w)>>4,N[E+1]=V}function Ta(h,g,w,N,E){N[E+0]=255,qo(h,g,w,N,E+1)}function Xs(h,g,w,N,E){ka(h,g,w,N,E),N[E+3]=255}function Zs(h,g,w,N,E){qo(h,g,w,N,E),N[E+3]=255}function _r(h,g){return 0>h?0:h>g?g:h}function Ii(h,g,w){I[h]=function(N,E,V,q,G,Y,te,me,Ce){for(var re=me+(-2&Ce)*w;me!=re;)g(N[E+0],V[q+0],G[Y+0],te,me),g(N[E+1],V[q+0],G[Y+0],te,me+w),E+=2,++q,++Y,me+=2*w;1&Ce&&g(N[E+0],V[q+0],G[Y+0],te,me)}}function Zi(h,g,w){return w==0?h==0?g==0?6:5:g==0?4:0:w}function $l(h,g,w,N,E){switch(h>>>30){case 3:La(g,w,N,E,0);break;case 2:Br(g,w,N,E);break;case 1:Yt(g,w,N,E)}}function ei(h,g){var w,N,E=g.M,V=g.Nb,q=h.oc,G=h.pc+40,Y=h.oc,te=h.pc+584,me=h.oc,Ce=h.pc+600;for(w=0;16>w;++w)q[G+32*w-1]=129;for(w=0;8>w;++w)Y[te+32*w-1]=129,me[Ce+32*w-1]=129;for(0<E?q[G-1-32]=Y[te-1-32]=me[Ce-1-32]=129:(s(q,G-32-1,127,21),s(Y,te-32-1,127,9),s(me,Ce-32-1,127,9)),N=0;N<h.za;++N){var re=g.ya[g.aa+N];if(0<N){for(w=-1;16>w;++w)a(q,G+32*w-4,q,G+32*w+12,4);for(w=-1;8>w;++w)a(Y,te+32*w-4,Y,te+32*w+4,4),a(me,Ce+32*w-4,me,Ce+32*w+4,4)}var ye=h.Gd,ke=h.Hd+N,Ie=re.ad,_e=re.Hc;if(0<E&&(a(q,G-32,ye[ke].y,0,16),a(Y,te-32,ye[ke].f,0,8),a(me,Ce-32,ye[ke].ea,0,8)),re.Za){var Re=q,Pe=G-32+16;for(0<E&&(N>=h.za-1?s(Re,Pe,ye[ke].y[15],4):a(Re,Pe,ye[ke+1].y,0,4)),w=0;4>w;w++)Re[Pe+128+w]=Re[Pe+256+w]=Re[Pe+384+w]=Re[Pe+0+w];for(w=0;16>w;++w,_e<<=2)Re=q,Pe=G+qc[w],bi[re.Ob[w]](Re,Pe),$l(_e,Ie,16*+w,Re,Pe)}else if(Re=Zi(N,E,re.Ob[0]),Ln[Re](q,G),_e!=0)for(w=0;16>w;++w,_e<<=2)$l(_e,Ie,16*+w,q,G+qc[w]);for(w=re.Gc,Re=Zi(N,E,re.Dd),On[Re](Y,te),On[Re](me,Ce),_e=Ie,Re=Y,Pe=te,255&(re=0|w)&&(170&re?Fn(_e,256,Re,Pe):nr(_e,256,Re,Pe)),re=me,_e=Ce,255&(w>>=8)&&(170&w?Fn(Ie,320,re,_e):nr(Ie,320,re,_e)),E<h.Ub-1&&(a(ye[ke].y,0,q,G+480,16),a(ye[ke].f,0,Y,te+224,8),a(ye[ke].ea,0,me,Ce+224,8)),w=8*V*h.B,ye=h.sa,ke=h.ta+16*N+16*V*h.R,Ie=h.qa,re=h.ra+8*N+w,_e=h.Ha,Re=h.Ia+8*N+w,w=0;16>w;++w)a(ye,ke+w*h.R,q,G+32*w,16);for(w=0;8>w;++w)a(Ie,re+w*h.B,Y,te+32*w,8),a(_e,Re+w*h.B,me,Ce+32*w,8)}}function Ho(h,g,w,N,E,V,q,G,Y){var te=[0],me=[0],Ce=0,re=Y!=null?Y.kd:0,ye=Y??new Ee;if(h==null||12>w)return 7;ye.data=h,ye.w=g,ye.ha=w,g=[g],w=[w],ye.gb=[ye.gb];e:{var ke=g,Ie=w,_e=ye.gb;if(t(h!=null),t(Ie!=null),t(_e!=null),_e[0]=0,12<=Ie[0]&&!e(h,ke[0],"RIFF")){if(e(h,ke[0]+8,"WEBP")){_e=3;break e}var Re=Le(h,ke[0]+4);if(12>Re||4294967286<Re){_e=3;break e}if(re&&Re>Ie[0]-8){_e=7;break e}_e[0]=Re,ke[0]+=12,Ie[0]-=12}_e=0}if(_e!=0)return _e;for(Re=0<ye.gb[0],w=w[0];;){e:{var Pe=h;Ie=g,_e=w;var ze=te,Fe=me,dt=ke=[0];if((rt=Ce=[Ce])[0]=0,8>_e[0])_e=7;else{if(!e(Pe,Ie[0],"VP8X")){if(Le(Pe,Ie[0]+4)!=10){_e=3;break e}if(18>_e[0]){_e=7;break e}var Ze=Le(Pe,Ie[0]+8),Et=1+We(Pe,Ie[0]+12);if(2147483648<=Et*(Pe=1+We(Pe,Ie[0]+15))){_e=3;break e}dt!=null&&(dt[0]=Ze),ze!=null&&(ze[0]=Et),Fe!=null&&(Fe[0]=Pe),Ie[0]+=18,_e[0]-=18,rt[0]=1}_e=0}}if(Ce=Ce[0],ke=ke[0],_e!=0)return _e;if(Ie=!!(2&ke),!Re&&Ce)return 3;if(V!=null&&(V[0]=!!(16&ke)),q!=null&&(q[0]=Ie),G!=null&&(G[0]=0),q=te[0],ke=me[0],Ce&&Ie&&Y==null){_e=0;break}if(4>w){_e=7;break}if(Re&&Ce||!Re&&!Ce&&!e(h,g[0],"ALPH")){w=[w],ye.na=[ye.na],ye.P=[ye.P],ye.Sa=[ye.Sa];e:{Ze=h,_e=g,Re=w;var rt=ye.gb;ze=ye.na,Fe=ye.P,dt=ye.Sa,Et=22,t(Ze!=null),t(Re!=null),Pe=_e[0];var Mt=Re[0];for(t(ze!=null),t(dt!=null),ze[0]=null,Fe[0]=null,dt[0]=0;;){if(_e[0]=Pe,Re[0]=Mt,8>Mt){_e=7;break e}var Lr=Le(Ze,Pe+4);if(4294967286<Lr){_e=3;break e}var zt=8+Lr+1&-2;if(Et+=zt,0<rt&&Et>rt){_e=3;break e}if(!e(Ze,Pe,"VP8 ")||!e(Ze,Pe,"VP8L")){_e=0;break e}if(Mt[0]<zt){_e=7;break e}e(Ze,Pe,"ALPH")||(ze[0]=Ze,Fe[0]=Pe+8,dt[0]=Lr),Pe+=zt,Mt-=zt}}if(w=w[0],ye.na=ye.na[0],ye.P=ye.P[0],ye.Sa=ye.Sa[0],_e!=0)break}w=[w],ye.Ja=[ye.Ja],ye.xa=[ye.xa];e:if(rt=h,_e=g,Re=w,ze=ye.gb[0],Fe=ye.Ja,dt=ye.xa,Ze=_e[0],Pe=!e(rt,Ze,"VP8 "),Et=!e(rt,Ze,"VP8L"),t(rt!=null),t(Re!=null),t(Fe!=null),t(dt!=null),8>Re[0])_e=7;else{if(Pe||Et){if(rt=Le(rt,Ze+4),12<=ze&&rt>ze-12){_e=3;break e}if(re&&rt>Re[0]-8){_e=7;break e}Fe[0]=rt,_e[0]+=8,Re[0]-=8,dt[0]=Et}else dt[0]=5<=Re[0]&&rt[Ze+0]==47&&!(rt[Ze+4]>>5),Fe[0]=Re[0];_e=0}if(w=w[0],ye.Ja=ye.Ja[0],ye.xa=ye.xa[0],g=g[0],_e!=0)break;if(4294967286<ye.Ja)return 3;if(G==null||Ie||(G[0]=ye.xa?2:1),q=[q],ke=[ke],ye.xa){if(5>w){_e=7;break}G=q,re=ke,Ie=V,h==null||5>w?h=0:5<=w&&h[g+0]==47&&!(h[g+4]>>5)?(Re=[0],rt=[0],ze=[0],be(Fe=new U,h,g,w),Ai(Fe,Re,rt,ze)?(G!=null&&(G[0]=Re[0]),re!=null&&(re[0]=rt[0]),Ie!=null&&(Ie[0]=ze[0]),h=1):h=0):h=0}else{if(10>w){_e=7;break}G=ke,h==null||10>w||!El(h,g+3,w-3)?h=0:(re=h[g+0]|h[g+1]<<8|h[g+2]<<16,Ie=16383&(h[g+7]<<8|h[g+6]),h=16383&(h[g+9]<<8|h[g+8]),1&re||3<(re>>1&7)||!(re>>4&1)||re>>5>=ye.Ja||!Ie||!h?h=0:(q&&(q[0]=Ie),G&&(G[0]=h),h=1))}if(!h||(q=q[0],ke=ke[0],Ce&&(te[0]!=q||me[0]!=ke)))return 3;Y!=null&&(Y[0]=ye,Y.offset=g-Y.w,t(4294967286>g-Y.w),t(Y.offset==Y.ha-w));break}return _e==0||_e==7&&Ce&&Y==null?(V!=null&&(V[0]|=ye.na!=null&&0<ye.na.length),N!=null&&(N[0]=q),E!=null&&(E[0]=ke),0):_e}function ss(h,g,w){var N=g.width,E=g.height,V=0,q=0,G=N,Y=E;if(g.Da=h!=null&&0<h.Da,g.Da&&(G=h.cd,Y=h.bd,V=h.v,q=h.j,11>w||(V&=-2,q&=-2),0>V||0>q||0>=G||0>=Y||V+G>N||q+Y>E))return 0;if(g.v=V,g.j=q,g.va=V+G,g.o=q+Y,g.U=G,g.T=Y,g.da=h!=null&&0<h.da,g.da){if(!Je(G,Y,w=[h.ib],V=[h.hb]))return 0;g.ib=w[0],g.hb=V[0]}return g.ob=h!=null&&h.ob,g.Kb=h==null||!h.Sd,g.da&&(g.ob=g.ib<3*N/4&&g.hb<3*E/4,g.Kb=0),1}function ls(h){if(h==null)return 2;if(11>h.S){var g=h.f.RGBA;g.fb+=(h.height-1)*g.A,g.A=-g.A}else g=h.f.kb,h=h.height,g.O+=(h-1)*g.fa,g.fa=-g.fa,g.N+=(h-1>>1)*g.Ab,g.Ab=-g.Ab,g.W+=(h-1>>1)*g.Db,g.Db=-g.Db,g.F!=null&&(g.J+=(h-1)*g.lb,g.lb=-g.lb);return 0}function yo(h,g,w,N){if(N==null||0>=h||0>=g)return 2;if(w!=null){if(w.Da){var E=w.cd,V=w.bd,q=-2&w.v,G=-2&w.j;if(0>q||0>G||0>=E||0>=V||q+E>h||G+V>g)return 2;h=E,g=V}if(w.da){if(!Je(h,g,E=[w.ib],V=[w.hb]))return 2;h=E[0],g=V[0]}}N.width=h,N.height=g;e:{var Y=N.width,te=N.height;if(h=N.S,0>=Y||0>=te||!(h>=ql&&13>h))h=2;else{if(0>=N.Rd&&N.sd==null){q=V=E=g=0;var me=(G=Y*cl[h])*te;if(11>h||(V=(te+1)/2*(g=(Y+1)/2),h==12&&(q=(E=Y)*te)),(te=l(me+2*V+q))==null){h=1;break e}N.sd=te,11>h?((Y=N.f.RGBA).eb=te,Y.fb=0,Y.A=G,Y.size=me):((Y=N.f.kb).y=te,Y.O=0,Y.fa=G,Y.Fd=me,Y.f=te,Y.N=0+me,Y.Ab=g,Y.Cd=V,Y.ea=te,Y.W=0+me+V,Y.Db=g,Y.Ed=V,h==12&&(Y.F=te,Y.J=0+me+2*V),Y.Tc=q,Y.lb=E)}if(g=1,E=N.S,V=N.width,q=N.height,E>=ql&&13>E)if(11>E)h=N.f.RGBA,g&=(G=Math.abs(h.A))*(q-1)+V<=h.size,g&=G>=V*cl[E],g&=h.eb!=null;else{h=N.f.kb,G=(V+1)/2,me=(q+1)/2,Y=Math.abs(h.fa),te=Math.abs(h.Ab);var Ce=Math.abs(h.Db),re=Math.abs(h.lb),ye=re*(q-1)+V;g&=Y*(q-1)+V<=h.Fd,g&=te*(me-1)+G<=h.Cd,g=(g&=Ce*(me-1)+G<=h.Ed)&Y>=V&te>=G&Ce>=G,g&=h.y!=null,g&=h.f!=null,g&=h.ea!=null,E==12&&(g&=re>=V,g&=ye<=h.Tc,g&=h.F!=null)}else g=0;h=g?0:2}}return h!=0||w!=null&&w.fd&&(h=ls(N)),h}var yi=64,ti=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ri=24,Go=32,Qi=8,vo=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ge("Predictor0","PredictorAdd0"),I.Predictor0=function(){return 4278190080},I.Predictor1=function(h){return h},I.Predictor2=function(h,g,w){return g[w+0]},I.Predictor3=function(h,g,w){return g[w+1]},I.Predictor4=function(h,g,w){return g[w-1]},I.Predictor5=function(h,g,w){return pt(pt(h,g[w+1]),g[w+0])},I.Predictor6=function(h,g,w){return pt(h,g[w-1])},I.Predictor7=function(h,g,w){return pt(h,g[w+0])},I.Predictor8=function(h,g,w){return pt(g[w-1],g[w+0])},I.Predictor9=function(h,g,w){return pt(g[w+0],g[w+1])},I.Predictor10=function(h,g,w){return pt(pt(h,g[w-1]),pt(g[w+0],g[w+1]))},I.Predictor11=function(h,g,w){var N=g[w+0];return 0>=Rt(N>>24&255,h>>24&255,(g=g[w-1])>>24&255)+Rt(N>>16&255,h>>16&255,g>>16&255)+Rt(N>>8&255,h>>8&255,g>>8&255)+Rt(255&N,255&h,255&g)?N:h},I.Predictor12=function(h,g,w){var N=g[w+0];return(Vt((h>>24&255)+(N>>24&255)-((g=g[w-1])>>24&255))<<24|Vt((h>>16&255)+(N>>16&255)-(g>>16&255))<<16|Vt((h>>8&255)+(N>>8&255)-(g>>8&255))<<8|Vt((255&h)+(255&N)-(255&g)))>>>0},I.Predictor13=function(h,g,w){var N=g[w-1];return(Lt((h=pt(h,g[w+0]))>>24&255,N>>24&255)<<24|Lt(h>>16&255,N>>16&255)<<16|Lt(h>>8&255,N>>8&255)<<8|Lt(255&h,255&N))>>>0};var bo=I.PredictorAdd0;I.PredictorAdd1=Qt,Ge("Predictor2","PredictorAdd2"),Ge("Predictor3","PredictorAdd3"),Ge("Predictor4","PredictorAdd4"),Ge("Predictor5","PredictorAdd5"),Ge("Predictor6","PredictorAdd6"),Ge("Predictor7","PredictorAdd7"),Ge("Predictor8","PredictorAdd8"),Ge("Predictor9","PredictorAdd9"),Ge("Predictor10","PredictorAdd10"),Ge("Predictor11","PredictorAdd11"),Ge("Predictor12","PredictorAdd12"),Ge("Predictor13","PredictorAdd13");var eo=I.PredictorAdd2;st("ColorIndexInverseTransform","MapARGB","32b",function(h){return h>>8&255},function(h){return h}),st("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(h){return h},function(h){return h>>8&255});var Wr,Aa=I.ColorIndexInverseTransform,to=I.MapARGB,Ei=I.VP8LColorIndexInverseTransformAlpha,_a=I.MapAlpha,Ba=I.VP8LPredictorsAdd=[];Ba.length=16,(I.VP8LPredictors=[]).length=16,(I.VP8LPredictorsAdd_C=[]).length=16,(I.VP8LPredictors_C=[]).length=16;var cs,ds,wo,Ko,Yo,Na,Jo,La,Br,Fn,Yt,nr,Nr,Kr,zi,Qs,us,So,Vl,hs,Ul,Pc,el,Ra,Pa,Ic,tl,Ec,zc=l(511),Fc=l(2041),Oc=l(225),Wc=l(767),Mc=0,ro=Fc,fs=Oc,Nn=Wc,vi=zc,ql=0,Xo=1,Ad=2,rl=3,nl=4,ar=5,Hl=6,ps=7,Ia=8,il=9,ol=10,al=[2,3,7],Gl=[3,3,11],Ea=[280,256,256,256,40],_d=[0,1,1,1,0],Ku=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Yu=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Bd=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Kl=8,ms=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],sl=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],za=null,Dc=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],$c=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Nd=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Ld=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Ju=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Xu=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Vc=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ln=[],bi=[],On=[],no=1,gs=2,jn=[],Wn=[];zn("UpsampleRgbLinePair",qo,3),zn("UpsampleBgrLinePair",ka,3),zn("UpsampleRgbaLinePair",Zs,4),zn("UpsampleBgraLinePair",Xs,4),zn("UpsampleArgbLinePair",Ta,4),zn("UpsampleRgba4444LinePair",Ca,2),zn("UpsampleRgb565LinePair",Sn,2);var Zu=I.UpsampleRgbLinePair,Qu=I.UpsampleBgrLinePair,Zo=I.UpsampleRgbaLinePair,xs=I.UpsampleBgraLinePair,Fa=I.UpsampleArgbLinePair,ll=I.UpsampleRgba4444LinePair,Uc=I.UpsampleRgb565LinePair,jo=16,Fi=1<<jo-1,rr=-227,ir=482,Qo=6,gn=0,Mn=l(256),Oa=l(256),ys=l(256),Dn=l(256),Yl=l(ir-rr),Rd=l(ir-rr);Ii("YuvToRgbRow",qo,3),Ii("YuvToBgrRow",ka,3),Ii("YuvToRgbaRow",Zs,4),Ii("YuvToBgraRow",Xs,4),Ii("YuvToArgbRow",Ta,4),Ii("YuvToRgba4444Row",Ca,2),Ii("YuvToRgb565Row",Sn,2);var qc=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Wa=[0,2,8],Pd=[8,7,6,4,4,2,2,2,1,1,1,1],ko=1;this.WebPDecodeRGBA=function(h,g,w,N,E){var V=Xo,q=new Se,G=new qt;q.ba=G,G.S=V,G.width=[G.width],G.height=[G.height];var Y=G.width,te=G.height,me=new jt;if(me==null||h==null)var Ce=2;else t(me!=null),Ce=Ho(h,g,w,me.width,me.height,me.Pd,me.Qd,me.format,null);if(Ce!=0?Y=0:(Y!=null&&(Y[0]=me.width[0]),te!=null&&(te[0]=me.height[0]),Y=1),Y){G.width=G.width[0],G.height=G.height[0],N!=null&&(N[0]=G.width),E!=null&&(E[0]=G.height);e:{if(N=new bn,(E=new Ee).data=h,E.w=g,E.ha=w,E.kd=1,g=[0],t(E!=null),((h=Ho(E.data,E.w,E.ha,null,null,null,g,null,E))==0||h==7)&&g[0]&&(h=4),(g=h)==0){if(t(q!=null),N.data=E.data,N.w=E.w+E.offset,N.ha=E.ha-E.offset,N.put=xt,N.ac=li,N.bc=Yn,N.ma=q,E.xa){if((h=ca())==null){q=1;break e}if((function(re,ye){var ke=[0],Ie=[0],_e=[0];t:for(;;){if(re==null)return 0;if(ye==null)return re.a=2,0;if(re.l=ye,re.a=0,be(re.m,ye.data,ye.w,ye.ha),!Ai(re.m,ke,Ie,_e)){re.a=3;break t}if(re.xb=gs,ye.width=ke[0],ye.height=Ie[0],!Bi(ke[0],Ie[0],1,re,null))break t;return 1}return t(re.a!=0),0})(h,N)){if(N=(g=yo(N.width,N.height,q.Oa,q.ba))==0){t:{N=h;r:for(;;){if(N==null){N=0;break t}if(t(N.s.yc!=null),t(N.s.Ya!=null),t(0<N.s.Wb),t((w=N.l)!=null),t((E=w.ma)!=null),N.xb!=0){if(N.ca=E.ba,N.tb=E.tb,t(N.ca!=null),!ss(E.Oa,w,rl)){N.a=2;break r}if(!Do(N,w.width)||w.da)break r;if((w.da||At(N.ca.S))&&xi(),11>N.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),N.ca.f.kb.F!=null&&xi()),N.Pb&&0<N.s.ua&&N.s.vb.X==null&&!ne(N.s.vb,N.s.Wa.Xa)){N.a=1;break r}N.xb=0}if(!di(N,N.V,N.Ba,N.c,N.i,w.o,Mo))break r;E.Dc=N.Ma,N=1;break t}t(N.a!=0),N=0}N=!N}N&&(g=h.a)}else g=h.a}else{if((h=new Lc)==null){q=1;break e}if(h.Fa=E.na,h.P=E.P,h.qc=E.Sa,fa(h,N)){if((g=yo(N.width,N.height,q.Oa,q.ba))==0){if(h.Aa=0,w=q.Oa,t((E=h)!=null),w!=null){if(0<(Y=0>(Y=w.Md)?0:100<Y?255:255*Y/100)){for(te=me=0;4>te;++te)12>(Ce=E.pb[te]).lc&&(Ce.ia=Y*Pd[0>Ce.lc?0:Ce.lc]>>3),me|=Ce.ia;me&&(alert("todo:VP8InitRandom"),E.ia=1)}E.Ga=w.Id,100<E.Ga?E.Ga=100:0>E.Ga&&(E.Ga=0)}(function(re,ye){if(re==null)return 0;if(ye==null)return Hr(re,2,"NULL VP8Io parameter in VP8Decode().");if(!re.cb&&!fa(re,ye))return 0;if(t(re.cb),ye.ac==null||ye.ac(ye)){ye.ob&&(re.L=0);var ke=Wa[re.L];if(re.L==2?(re.yb=0,re.zb=0):(re.yb=ye.v-ke>>4,re.zb=ye.j-ke>>4,0>re.yb&&(re.yb=0),0>re.zb&&(re.zb=0)),re.Va=ye.o+15+ke>>4,re.Hb=ye.va+15+ke>>4,re.Hb>re.za&&(re.Hb=re.za),re.Va>re.Ub&&(re.Va=re.Ub),0<re.L){var Ie=re.ed;for(ke=0;4>ke;++ke){var _e;if(re.Qa.Cb){var Re=re.Qa.Lb[ke];re.Qa.Fb||(Re+=Ie.Tb)}else Re=Ie.Tb;for(_e=0;1>=_e;++_e){var Pe=re.gd[ke][_e],ze=Re;if(Ie.Pc&&(ze+=Ie.vd[0],_e&&(ze+=Ie.od[0])),0<(ze=0>ze?0:63<ze?63:ze)){var Fe=ze;0<Ie.wb&&(Fe=4<Ie.wb?Fe>>2:Fe>>1)>9-Ie.wb&&(Fe=9-Ie.wb),1>Fe&&(Fe=1),Pe.dd=Fe,Pe.tc=2*ze+Fe,Pe.ld=40<=ze?2:15<=ze?1:0}else Pe.tc=0;Pe.La=_e}}}ke=0}else Hr(re,6,"Frame setup failed"),ke=re.a;if(ke=ke==0){if(ke){re.$c=0,0<re.Aa||(re.Ic=ko);t:{ke=re.Ic,Ie=4*(Fe=re.za);var dt=32*Fe,Ze=Fe+1,Et=0<re.L?Fe*(0<re.Aa?2:1):0,rt=(re.Aa==2?2:1)*Fe;if((Pe=Ie+832+(_e=3*(16*ke+Wa[re.L])/2*dt)+(Re=re.Fa!=null&&0<re.Fa.length?re.Kc.c*re.Kc.i:0))!=Pe)ke=0;else{if(Pe>re.Vb){if(re.Vb=0,re.Ec=l(Pe),re.Fc=0,re.Ec==null){ke=Hr(re,1,"no memory during frame initialization.");break t}re.Vb=Pe}Pe=re.Ec,ze=re.Fc,re.Ac=Pe,re.Bc=ze,ze+=Ie,re.Gd=d(dt,Zn),re.Hd=0,re.rb=d(Ze+1,$o),re.sb=1,re.wa=Et?d(Et,Xn):null,re.Y=0,re.D.Nb=0,re.D.wa=re.wa,re.D.Y=re.Y,0<re.Aa&&(re.D.Y+=Fe),t(!0),re.oc=Pe,re.pc=ze,ze+=832,re.ya=d(rt,es),re.aa=0,re.D.ya=re.ya,re.D.aa=re.aa,re.Aa==2&&(re.D.aa+=Fe),re.R=16*Fe,re.B=8*Fe,Fe=(dt=Wa[re.L])*re.R,dt=dt/2*re.B,re.sa=Pe,re.ta=ze+Fe,re.qa=re.sa,re.ra=re.ta+16*ke*re.R+dt,re.Ha=re.qa,re.Ia=re.ra+8*ke*re.B+dt,re.$c=0,ze+=_e,re.mb=Re?Pe:null,re.nb=Re?ze:null,t(ze+Re<=re.Fc+re.Vb),Ni(re),s(re.Ac,re.Bc,0,Ie),ke=1}}if(ke){if(ye.ka=0,ye.y=re.sa,ye.O=re.ta,ye.f=re.qa,ye.N=re.ra,ye.ea=re.Ha,ye.Vd=re.Ia,ye.fa=re.R,ye.Rc=re.B,ye.F=null,ye.J=0,!Mc){for(ke=-255;255>=ke;++ke)zc[255+ke]=0>ke?-ke:ke;for(ke=-1020;1020>=ke;++ke)Fc[1020+ke]=-128>ke?-128:127<ke?127:ke;for(ke=-112;112>=ke;++ke)Oc[112+ke]=-16>ke?-16:15<ke?15:ke;for(ke=-255;510>=ke;++ke)Wc[255+ke]=0>ke?0:255<ke?255:ke;Mc=1}Jo=Ht,La=Us,Fn=ga,Yt=Gi,nr=ts,Br=zl,Nr=Js,Kr=wn,zi=v,Qs=z,us=gi,So=as,Vl=ie,hs=fe,Ul=fi,Pc=xo,el=wa,Ra=Ys,bi[0]=Rc,bi[1]=rs,bi[2]=xa,bi[3]=Yi,bi[4]=Wl,bi[5]=mo,bi[6]=Qn,bi[7]=Ml,bi[8]=ya,bi[9]=is,Ln[0]=Li,Ln[1]=Fl,Ln[2]=Ol,Ln[3]=ns,Ln[4]=Ki,Ln[5]=En,Ln[6]=hi,On[0]=Pi,On[1]=qs,On[2]=Hs,On[3]=Ri,On[4]=Gs,On[5]=os,On[6]=Ks,ke=1}else ke=0}ke&&(ke=(function(Mt,Lr){for(Mt.M=0;Mt.M<Mt.Va;++Mt.M){var zt,Qe=Mt.Jc[Mt.M&Mt.Xb],He=Mt.m,Mr=Mt;for(zt=0;zt<Mr.za;++zt){var wt=He,Wt=Mr,mr=Wt.Ac,cn=Wt.Bc+4*zt,Yr=Wt.zc,Tr=Wt.ya[Wt.aa+zt];if(Wt.Qa.Bb?Tr.$b=ue(wt,Wt.Pa.jb[0])?2+ue(wt,Wt.Pa.jb[2]):ue(wt,Wt.Pa.jb[1]):Tr.$b=0,Wt.kc&&(Tr.Ad=ue(wt,Wt.Bd)),Tr.Za=!ue(wt,145)+0,Tr.Za){var rn=Tr.Ob,dn=0;for(Wt=0;4>Wt;++Wt){var wr,$t=Yr[0+Wt];for(wr=0;4>wr;++wr){$t=Ju[mr[cn+wr]][$t];for(var Jt=Nd[ue(wt,$t[0])];0<Jt;)Jt=Nd[2*Jt+ue(wt,$t[Jt])];$t=-Jt,mr[cn+wr]=$t}a(rn,dn,mr,cn,4),dn+=4,Yr[0+Wt]=$t}}else $t=ue(wt,156)?ue(wt,128)?1:3:ue(wt,163)?2:0,Tr.Ob[0]=$t,s(mr,cn,$t,4),s(Yr,0,$t,4);Tr.Dd=ue(wt,142)?ue(wt,114)?ue(wt,183)?1:3:2:0}if(Mr.m.Ka)return Hr(Mt,7,"Premature end-of-partition0 encountered.");for(;Mt.ja<Mt.za;++Mt.ja){if(Mr=Qe,wt=(He=Mt).rb[He.sb-1],mr=He.rb[He.sb+He.ja],zt=He.ya[He.aa+He.ja],cn=He.kc?zt.Ad:0)wt.la=mr.la=0,zt.Za||(wt.Na=mr.Na=0),zt.Hc=0,zt.Gc=0,zt.ia=0;else{var Sr,Xt;if(wt=mr,mr=Mr,cn=He.Pa.Xc,Yr=He.ya[He.aa+He.ja],Tr=He.pb[Yr.$b],Wt=Yr.ad,rn=0,dn=He.rb[He.sb-1],$t=wr=0,s(Wt,rn,0,384),Yr.Za)var Rr=0,Pr=cn[3];else{Jt=l(16);var sr=wt.Na+dn.Na;if(sr=za(mr,cn[1],sr,Tr.Eb,0,Jt,0),wt.Na=dn.Na=(0<sr)+0,1<sr)Jo(Jt,0,Wt,rn);else{var kn=Jt[0]+3>>3;for(Jt=0;256>Jt;Jt+=16)Wt[rn+Jt]=kn}Rr=1,Pr=cn[0]}var or=15&wt.la,lr=15&dn.la;for(Jt=0;4>Jt;++Jt){var Jr=1&lr;for(kn=Xt=0;4>kn;++kn)or=or>>1|(Jr=(sr=za(mr,Pr,sr=Jr+(1&or),Tr.Sc,Rr,Wt,rn))>Rr)<<7,Xt=Xt<<2|(3<sr?3:1<sr?2:Wt[rn+0]!=0),rn+=16;or>>=4,lr=lr>>1|Jr<<7,wr=(wr<<8|Xt)>>>0}for(Pr=or,Rr=lr>>4,Sr=0;4>Sr;Sr+=2){for(Xt=0,or=wt.la>>4+Sr,lr=dn.la>>4+Sr,Jt=0;2>Jt;++Jt){for(Jr=1&lr,kn=0;2>kn;++kn)sr=Jr+(1&or),or=or>>1|(Jr=0<(sr=za(mr,cn[2],sr,Tr.Qc,0,Wt,rn)))<<3,Xt=Xt<<2|(3<sr?3:1<sr?2:Wt[rn+0]!=0),rn+=16;or>>=2,lr=lr>>1|Jr<<5}$t|=Xt<<4*Sr,Pr|=or<<4<<Sr,Rr|=(240&lr)<<Sr}wt.la=Pr,dn.la=Rr,Yr.Hc=wr,Yr.Gc=$t,Yr.ia=43690&$t?0:Tr.ia,cn=!(wr|$t)}if(0<He.L&&(He.wa[He.Y+He.ja]=He.gd[zt.$b][zt.Za],He.wa[He.Y+He.ja].La|=!cn),Mr.Ka)return Hr(Mt,7,"Premature end-of-file encountered.")}if(Ni(Mt),He=Lr,Mr=1,zt=(Qe=Mt).D,wt=0<Qe.L&&Qe.M>=Qe.zb&&Qe.M<=Qe.Va,Qe.Aa==0)t:{if(zt.M=Qe.M,zt.uc=wt,ei(Qe,zt),Mr=1,zt=(Xt=Qe.D).Nb,wt=($t=Wa[Qe.L])*Qe.R,mr=$t/2*Qe.B,Jt=16*zt*Qe.R,kn=8*zt*Qe.B,cn=Qe.sa,Yr=Qe.ta-wt+Jt,Tr=Qe.qa,Wt=Qe.ra-mr+kn,rn=Qe.Ha,dn=Qe.Ia-mr+kn,lr=(or=Xt.M)==0,wr=or>=Qe.Va-1,Qe.Aa==2&&ei(Qe,Xt),Xt.uc)for(Jr=(sr=Qe).D.M,t(sr.D.uc),Xt=sr.yb;Xt<sr.Hb;++Xt){Rr=Xt,Pr=Jr;var xn=($n=(Vr=sr).D).Nb;Sr=Vr.R;var $n=$n.wa[$n.Y+Rr],Dr=Vr.sa,$r=Vr.ta+16*xn*Sr+16*Rr,Cn=$n.dd,cr=$n.tc;if(cr!=0)if(t(3<=cr),Vr.L==1)0<Rr&&Pc(Dr,$r,Sr,cr+4),$n.La&&Ra(Dr,$r,Sr,cr),0<Pr&&Ul(Dr,$r,Sr,cr+4),$n.La&&el(Dr,$r,Sr,cr);else{var Tn=Vr.B,wi=Vr.qa,Oi=Vr.ra+8*xn*Tn+8*Rr,un=Vr.Ha,Vr=Vr.Ia+8*xn*Tn+8*Rr;xn=$n.ld,0<Rr&&(Kr(Dr,$r,Sr,cr+4,Cn,xn),Qs(wi,Oi,un,Vr,Tn,cr+4,Cn,xn)),$n.La&&(So(Dr,$r,Sr,cr,Cn,xn),hs(wi,Oi,un,Vr,Tn,cr,Cn,xn)),0<Pr&&(Nr(Dr,$r,Sr,cr+4,Cn,xn),zi(wi,Oi,un,Vr,Tn,cr+4,Cn,xn)),$n.La&&(us(Dr,$r,Sr,cr,Cn,xn),Vl(wi,Oi,un,Vr,Tn,cr,Cn,xn))}}if(Qe.ia&&alert("todo:DitherRow"),He.put!=null){if(Xt=16*or,or=16*(or+1),lr?(He.y=Qe.sa,He.O=Qe.ta+Jt,He.f=Qe.qa,He.N=Qe.ra+kn,He.ea=Qe.Ha,He.W=Qe.Ia+kn):(Xt-=$t,He.y=cn,He.O=Yr,He.f=Tr,He.N=Wt,He.ea=rn,He.W=dn),wr||(or-=$t),or>He.o&&(or=He.o),He.F=null,He.J=null,Qe.Fa!=null&&0<Qe.Fa.length&&Xt<or&&(He.J=Gr(Qe,He,Xt,or-Xt),He.F=Qe.mb,He.F==null&&He.F.length==0)){Mr=Hr(Qe,3,"Could not decode alpha data.");break t}Xt<He.j&&($t=He.j-Xt,Xt=He.j,t(!(1&$t)),He.O+=Qe.R*$t,He.N+=Qe.B*($t>>1),He.W+=Qe.B*($t>>1),He.F!=null&&(He.J+=He.width*$t)),Xt<or&&(He.O+=He.v,He.N+=He.v>>1,He.W+=He.v>>1,He.F!=null&&(He.J+=He.v),He.ka=Xt-He.j,He.U=He.va-He.v,He.T=or-Xt,Mr=He.put(He))}zt+1!=Qe.Ic||wr||(a(Qe.sa,Qe.ta-wt,cn,Yr+16*Qe.R,wt),a(Qe.qa,Qe.ra-mr,Tr,Wt+8*Qe.B,mr),a(Qe.Ha,Qe.Ia-mr,rn,dn+8*Qe.B,mr))}if(!Mr)return Hr(Mt,6,"Output aborted.")}return 1})(re,ye)),ye.bc!=null&&ye.bc(ye),ke&=1}return ke?(re.cb=0,ke):0})(h,N)||(g=h.a)}}else g=h.a}g==0&&q.Oa!=null&&q.Oa.fd&&(g=ls(q.ba))}q=g}V=q!=0?null:11>V?G.f.RGBA.eb:G.f.kb.y}else V=null;return V};var cl=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function p(I,J){for(var D="",k=0;k<4;k++)D+=String.fromCharCode(I[J++]);return D}function y(I,J){return I[J+0]|I[J+1]<<8}function j(I,J){return(I[J+0]|I[J+1]<<8|I[J+2]<<16)>>>0}function _(I,J){return(I[J+0]|I[J+1]<<8|I[J+2]<<16|I[J+3]<<24)>>>0}new m;var x=[0],P=[0],A=[],C=new m,S=r,F=(function(I,J){var D={},k=0,X=!1,R=0,se=0;if(D.frames=[],!(function(L,U){for(var M=0;M<4;M++)if(L[U+M]!="RIFF".charCodeAt(M))return!0;return!1})(I,J)){for(_(I,J+=4),J+=8;J<I.length;){var xe=p(I,J),de=_(I,J+=4);J+=4;var oe=de+(1&de);switch(xe){case"VP8 ":case"VP8L":D.frames[k]===void 0&&(D.frames[k]={}),(Q=D.frames[k]).src_off=X?se:J-8,Q.src_size=R+de+8,k++,X&&(X=!1,R=0,se=0);break;case"VP8X":(Q=D.header={}).feature_flags=I[J];var be=J+4;Q.canvas_width=1+j(I,be),be+=3,Q.canvas_height=1+j(I,be),be+=3;break;case"ALPH":X=!0,R=oe+8,se=J-8;break;case"ANIM":(Q=D.header).bgcolor=_(I,J),be=J+4,Q.loop_count=y(I,be),be+=2;break;case"ANMF":var je,Q;(Q=D.frames[k]={}).offset_x=2*j(I,J),J+=3,Q.offset_y=2*j(I,J),J+=3,Q.width=1+j(I,J),J+=3,Q.height=1+j(I,J),J+=3,Q.duration=j(I,J),J+=3,je=I[J++],Q.dispose=1&je,Q.blend=je>>1&1}xe!="ANMF"&&(J+=oe)}return D}})(S,0);F.response=S,F.rgbaoutput=!0,F.dataurl=!1;var O=F.header?F.header:null,B=F.frames?F.frames:null;if(O){O.loop_counter=O.loop_count,x=[O.canvas_height],P=[O.canvas_width];for(var H=0;H<B.length&&B[H].blend!=0;H++);}var ee=B[0],ce=C.WebPDecodeRGBA(S,ee.src_off,ee.src_size,P,x);ee.rgba=ce,ee.imgwidth=P[0],ee.imgheight=x[0];for(var W=0;W<P[0]*x[0]*4;W++)A[W]=ce[W];return this.width=P,this.height=x,this.data=A,this}(function(r){var t,e,a,s,l,d,u,m,p,y=function(L){return L=L||{},this.isStrokeTransparent=L.isStrokeTransparent||!1,this.strokeOpacity=L.strokeOpacity||1,this.strokeStyle=L.strokeStyle||"#000000",this.fillStyle=L.fillStyle||"#000000",this.isFillTransparent=L.isFillTransparent||!1,this.fillOpacity=L.fillOpacity||1,this.font=L.font||"10px sans-serif",this.textBaseline=L.textBaseline||"alphabetic",this.textAlign=L.textAlign||"left",this.lineWidth=L.lineWidth||1,this.lineJoin=L.lineJoin||"miter",this.lineCap=L.lineCap||"butt",this.path=L.path||[],this.transform=L.transform!==void 0?L.transform.clone():new m,this.globalCompositeOperation=L.globalCompositeOperation||"normal",this.globalAlpha=L.globalAlpha||1,this.clip_path=L.clip_path||[],this.currentPoint=L.currentPoint||new d,this.miterLimit=L.miterLimit||10,this.lastPoint=L.lastPoint||new d,this.lineDashOffset=L.lineDashOffset||0,this.lineDash=L.lineDash||[],this.margin=L.margin||[0,0,0,0],this.prevPageLastElemOffset=L.prevPageLastElemOffset||0,this.ignoreClearRect=typeof L.ignoreClearRect!="boolean"||L.ignoreClearRect,this};r.events.push(["initialized",function(){this.context2d=new j(this),t=this.internal.f2,e=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,l=this.internal.getVerticalCoordinate,d=this.internal.Point,u=this.internal.Rectangle,m=this.internal.Matrix,p=new y}]);var j=function(L){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var U=L;Object.defineProperty(this,"pdf",{get:function(){return U}});var M=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return M},set:function(Le){M=!!Le}});var K=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return K},set:function(Le){K=!!Le}});var Z=0;Object.defineProperty(this,"posX",{get:function(){return Z},set:function(Le){isNaN(Le)||(Z=Le)}});var ae=0;Object.defineProperty(this,"posY",{get:function(){return ae},set:function(Le){isNaN(Le)||(ae=Le)}}),Object.defineProperty(this,"margin",{get:function(){return p.margin},set:function(Le){var ne;typeof Le=="number"?ne=[Le,Le,Le,Le]:((ne=new Array(4))[0]=Le[0],ne[1]=Le.length>=2?Le[1]:ne[0],ne[2]=Le.length>=3?Le[2]:ne[0],ne[3]=Le.length>=4?Le[3]:ne[1]),p.margin=ne}});var he=!1;Object.defineProperty(this,"autoPaging",{get:function(){return he},set:function(Le){he=Le}});var pe=0;Object.defineProperty(this,"lastBreak",{get:function(){return pe},set:function(Le){pe=Le}});var ue=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ue},set:function(Le){ue=Le}}),Object.defineProperty(this,"ctx",{get:function(){return p},set:function(Le){Le instanceof y&&(p=Le)}}),Object.defineProperty(this,"path",{get:function(){return p.path},set:function(Le){p.path=Le}});var Te=[];Object.defineProperty(this,"ctxStack",{get:function(){return Te},set:function(Le){Te=Le}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Le){var ne;ne=_(Le),this.ctx.fillStyle=ne.style,this.ctx.isFillTransparent=ne.a===0,this.ctx.fillOpacity=ne.a,this.pdf.setFillColor(ne.r,ne.g,ne.b,{a:ne.a}),this.pdf.setTextColor(ne.r,ne.g,ne.b,{a:ne.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Le){var ne=_(Le);this.ctx.strokeStyle=ne.style,this.ctx.isStrokeTransparent=ne.a===0,this.ctx.strokeOpacity=ne.a,ne.a===0?this.pdf.setDrawColor(255,255,255):(ne.a,this.pdf.setDrawColor(ne.r,ne.g,ne.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Le){["butt","round","square"].indexOf(Le)!==-1&&(this.ctx.lineCap=Le,this.pdf.setLineCap(Le))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Le){isNaN(Le)||(this.ctx.lineWidth=Le,this.pdf.setLineWidth(Le))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Le){["bevel","round","miter"].indexOf(Le)!==-1&&(this.ctx.lineJoin=Le,this.pdf.setLineJoin(Le))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Le){isNaN(Le)||(this.ctx.miterLimit=Le,this.pdf.setMiterLimit(Le))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Le){this.ctx.textBaseline=Le}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Le){["right","end","center","left","start"].indexOf(Le)!==-1&&(this.ctx.textAlign=Le)}});var Oe=null,We=null;Object.defineProperty(this,"fontFaces",{get:function(){return We},set:function(Le){Oe=null,We=Le}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Le){var ne;if(this.ctx.font=Le,(ne=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Le))!==null){var Ye=ne[1];ne[2];var Ke=ne[3],Je=ne[4];ne[5];var Ve=ne[6],ot=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Je)[2];Je=Math.floor(ot==="px"?parseFloat(Je)*this.pdf.internal.scaleFactor:ot==="em"?parseFloat(Je)*this.pdf.getFontSize():parseFloat(Je)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Je);var Ge=(function(gt){var st,hr,Ut=[],lt=gt.trim();if(lt==="")return of;if(lt in pm)return[pm[lt]];for(;lt!=="";){switch(hr=null,st=(lt=gm(lt)).charAt(0)){case'"':case"'":hr=Ev(lt.substring(1),st);break;default:hr=zv(lt)}if(hr===null||(Ut.push(hr[0]),(lt=gm(hr[1]))!==""&&lt.charAt(0)!==","))return of;lt=lt.replace(/^,/,"")}return Ut})(Ve);if(this.fontFaces){var Nt=(function(gt,st){if(Oe===null){var hr=(function(Ut){var lt=[];return Object.keys(Ut).forEach(function(It){Ut[It].forEach(function(tr){var mt=null;switch(tr){case"bold":mt={family:It,weight:"bold"};break;case"italic":mt={family:It,style:"italic"};break;case"bolditalic":mt={family:It,weight:"bold",style:"italic"};break;case"":case"normal":mt={family:It}}mt!==null&&(mt.ref={name:It,style:tr},lt.push(mt))})}),lt})(gt.getFontList());Oe=(function(Ut){for(var lt={},It=0;It<Ut.length;++It){var tr=nf(Ut[It]),mt=tr.family,Ot=tr.stretch,At=tr.style,kr=tr.weight;lt[mt]=lt[mt]||{},lt[mt][Ot]=lt[mt][Ot]||{},lt[mt][Ot][At]=lt[mt][Ot][At]||{},lt[mt][Ot][At][kr]=tr}return lt})(hr.concat(st))}return Oe})(this.pdf,this.fontFaces),pt=Ge.map(function(gt){return{family:gt,stretch:"normal",weight:Ke,style:Ye}}),Vt=(function(gt,st,hr){for(var Ut=(hr=hr||{}).defaultFontFamily||"times",lt=Object.assign({},Iv,hr.genericFontFamilies||{}),It=null,tr=null,mt=0;mt<st.length;++mt)if(lt[(It=nf(st[mt])).family]&&(It.family=lt[It.family]),gt.hasOwnProperty(It.family)){tr=gt[It.family];break}if(!(tr=tr||gt[Ut]))throw new Error("Could not find a font-family for the rule '"+mm(It)+"' and default family '"+Ut+"'.");if(tr=(function(Ot,At){if(At[Ot])return At[Ot];var kr=Af[Ot],br=kr<=Af.normal?-1:1,qt=fm(At,gg,kr,br);if(!qt)throw new Error("Could not find a matching font-stretch value for "+Ot);return qt})(It.stretch,tr),tr=(function(Ot,At){if(At[Ot])return At[Ot];for(var kr=mg[Ot],br=0;br<kr.length;++br)if(At[kr[br]])return At[kr[br]];throw new Error("Could not find a matching font-style for "+Ot)})(It.style,tr),!(tr=(function(Ot,At){if(At[Ot])return At[Ot];if(Ot===400&&At[500])return At[500];if(Ot===500&&At[400])return At[400];var kr=Pv[Ot],br=fm(At,xg,kr,Ot<400?-1:1);if(!br)throw new Error("Could not find a matching font-weight for value "+Ot);return br})(It.weight,tr)))throw new Error("Failed to resolve a font for the rule '"+mm(It)+"'.");return tr})(Nt,pt);this.pdf.setFont(Vt.ref.name,Vt.ref.style)}else{var Lt="";(Ke==="bold"||parseInt(Ke,10)>=700||Ye==="bold")&&(Lt="bold"),Ye==="italic"&&(Lt+="italic"),Lt.length===0&&(Lt="normal");for(var Rt="",Qt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Tt=0;Tt<Ge.length;Tt++){if(this.pdf.internal.getFont(Ge[Tt],Lt,{noFallback:!0,disableWarning:!0})!==void 0){Rt=Ge[Tt];break}if(Lt==="bolditalic"&&this.pdf.internal.getFont(Ge[Tt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Rt=Ge[Tt],Lt="bold";else if(this.pdf.internal.getFont(Ge[Tt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Rt=Ge[Tt],Lt="normal";break}}if(Rt===""){for(var ht=0;ht<Ge.length;ht++)if(Qt[Ge[ht]]){Rt=Qt[Ge[ht]];break}}Rt=Rt===""?"Times":Rt,this.pdf.setFont(Rt,Lt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Le){this.ctx.globalCompositeOperation=Le}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Le){this.ctx.globalAlpha=Le}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Le){this.ctx.lineDashOffset=Le,Q.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Le){this.ctx.lineDash=Le,Q.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Le){this.ctx.ignoreClearRect=!!Le}})};j.prototype.setLineDash=function(L){this.lineDash=L},j.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},j.prototype.fill=function(){B.call(this,"fill",!1)},j.prototype.stroke=function(){B.call(this,"stroke",!1)},j.prototype.beginPath=function(){this.path=[{type:"begin"}]},j.prototype.moveTo=function(L,U){if(isNaN(L)||isNaN(U))throw yr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var M=this.ctx.transform.applyToPoint(new d(L,U));this.path.push({type:"mt",x:M.x,y:M.y}),this.ctx.lastPoint=new d(L,U)},j.prototype.closePath=function(){var L=new d(0,0),U=0;for(U=this.path.length-1;U!==-1;U--)if(this.path[U].type==="begin"&&ur(this.path[U+1])==="object"&&typeof this.path[U+1].x=="number"){L=new d(this.path[U+1].x,this.path[U+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new d(L.x,L.y)},j.prototype.lineTo=function(L,U){if(isNaN(L)||isNaN(U))throw yr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var M=this.ctx.transform.applyToPoint(new d(L,U));this.path.push({type:"lt",x:M.x,y:M.y}),this.ctx.lastPoint=new d(M.x,M.y)},j.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),B.call(this,null,!0)},j.prototype.quadraticCurveTo=function(L,U,M,K){if(isNaN(M)||isNaN(K)||isNaN(L)||isNaN(U))throw yr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Z=this.ctx.transform.applyToPoint(new d(M,K)),ae=this.ctx.transform.applyToPoint(new d(L,U));this.path.push({type:"qct",x1:ae.x,y1:ae.y,x:Z.x,y:Z.y}),this.ctx.lastPoint=new d(Z.x,Z.y)},j.prototype.bezierCurveTo=function(L,U,M,K,Z,ae){if(isNaN(Z)||isNaN(ae)||isNaN(L)||isNaN(U)||isNaN(M)||isNaN(K))throw yr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var he=this.ctx.transform.applyToPoint(new d(Z,ae)),pe=this.ctx.transform.applyToPoint(new d(L,U)),ue=this.ctx.transform.applyToPoint(new d(M,K));this.path.push({type:"bct",x1:pe.x,y1:pe.y,x2:ue.x,y2:ue.y,x:he.x,y:he.y}),this.ctx.lastPoint=new d(he.x,he.y)},j.prototype.arc=function(L,U,M,K,Z,ae){if(isNaN(L)||isNaN(U)||isNaN(M)||isNaN(K)||isNaN(Z))throw yr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ae=!!ae,!this.ctx.transform.isIdentity){var he=this.ctx.transform.applyToPoint(new d(L,U));L=he.x,U=he.y;var pe=this.ctx.transform.applyToPoint(new d(0,M)),ue=this.ctx.transform.applyToPoint(new d(0,0));M=Math.sqrt(Math.pow(pe.x-ue.x,2)+Math.pow(pe.y-ue.y,2))}Math.abs(Z-K)>=2*Math.PI&&(K=0,Z=2*Math.PI),this.path.push({type:"arc",x:L,y:U,radius:M,startAngle:K,endAngle:Z,counterclockwise:ae})},j.prototype.arcTo=function(L,U,M,K,Z){throw new Error("arcTo not implemented.")},j.prototype.rect=function(L,U,M,K){if(isNaN(L)||isNaN(U)||isNaN(M)||isNaN(K))throw yr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(L,U),this.lineTo(L+M,U),this.lineTo(L+M,U+K),this.lineTo(L,U+K),this.lineTo(L,U),this.lineTo(L+M,U),this.lineTo(L,U)},j.prototype.fillRect=function(L,U,M,K){if(isNaN(L)||isNaN(U)||isNaN(M)||isNaN(K))throw yr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!x.call(this)){var Z={};this.lineCap!=="butt"&&(Z.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Z.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(L,U,M,K),this.fill(),Z.hasOwnProperty("lineCap")&&(this.lineCap=Z.lineCap),Z.hasOwnProperty("lineJoin")&&(this.lineJoin=Z.lineJoin)}},j.prototype.strokeRect=function(L,U,M,K){if(isNaN(L)||isNaN(U)||isNaN(M)||isNaN(K))throw yr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");P.call(this)||(this.beginPath(),this.rect(L,U,M,K),this.stroke())},j.prototype.clearRect=function(L,U,M,K){if(isNaN(L)||isNaN(U)||isNaN(M)||isNaN(K))throw yr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(L,U,M,K))},j.prototype.save=function(L){L=typeof L!="boolean"||L;for(var U=this.pdf.internal.getCurrentPageInfo().pageNumber,M=0;M<this.pdf.internal.getNumberOfPages();M++)this.pdf.setPage(M+1),this.pdf.internal.out("q");if(this.pdf.setPage(U),L){this.ctx.fontSize=this.pdf.internal.getFontSize();var K=new y(this.ctx);this.ctxStack.push(this.ctx),this.ctx=K}},j.prototype.restore=function(L){L=typeof L!="boolean"||L;for(var U=this.pdf.internal.getCurrentPageInfo().pageNumber,M=0;M<this.pdf.internal.getNumberOfPages();M++)this.pdf.setPage(M+1),this.pdf.internal.out("Q");this.pdf.setPage(U),L&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},j.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var _=function(L){var U,M,K,Z;if(L.isCanvasGradient===!0&&(L=L.getColor()),!L)return{r:0,g:0,b:0,a:0,style:L};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(L))U=0,M=0,K=0,Z=0;else{var ae=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(L);if(ae!==null)U=parseInt(ae[1]),M=parseInt(ae[2]),K=parseInt(ae[3]),Z=1;else if((ae=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(L))!==null)U=parseInt(ae[1]),M=parseInt(ae[2]),K=parseInt(ae[3]),Z=parseFloat(ae[4]);else{if(Z=1,typeof L=="string"&&L.charAt(0)!=="#"){var he=new lg(L);L=he.ok?he.toHex():"#000000"}L.length===4?(U=L.substring(1,2),U+=U,M=L.substring(2,3),M+=M,K=L.substring(3,4),K+=K):(U=L.substring(1,3),M=L.substring(3,5),K=L.substring(5,7)),U=parseInt(U,16),M=parseInt(M,16),K=parseInt(K,16)}}return{r:U,g:M,b:K,a:Z,style:L}},x=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},P=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};j.prototype.fillText=function(L,U,M,K){if(isNaN(U)||isNaN(M)||typeof L!="string")throw yr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(K=isNaN(K)?void 0:K,!x.call(this)){var Z=oe(this.ctx.transform.rotation),ae=this.ctx.transform.scaleX;k.call(this,{text:L,x:U,y:M,scale:ae,angle:Z,align:this.textAlign,maxWidth:K})}},j.prototype.strokeText=function(L,U,M,K){if(isNaN(U)||isNaN(M)||typeof L!="string")throw yr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!P.call(this)){K=isNaN(K)?void 0:K;var Z=oe(this.ctx.transform.rotation),ae=this.ctx.transform.scaleX;k.call(this,{text:L,x:U,y:M,scale:ae,renderingMode:"stroke",angle:Z,align:this.textAlign,maxWidth:K})}},j.prototype.measureText=function(L){if(typeof L!="string")throw yr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var U=this.pdf,M=this.pdf.internal.scaleFactor,K=U.internal.getFontSize(),Z=U.getStringUnitWidth(L)*K/U.internal.scaleFactor;return new function(ae){var he=(ae=ae||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return he}}),this}({width:Z*=Math.round(96*M/72*1e4)/1e4})},j.prototype.scale=function(L,U){if(isNaN(L)||isNaN(U))throw yr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var M=new m(L,0,0,U,0,0);this.ctx.transform=this.ctx.transform.multiply(M)},j.prototype.rotate=function(L){if(isNaN(L))throw yr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var U=new m(Math.cos(L),Math.sin(L),-Math.sin(L),Math.cos(L),0,0);this.ctx.transform=this.ctx.transform.multiply(U)},j.prototype.translate=function(L,U){if(isNaN(L)||isNaN(U))throw yr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var M=new m(1,0,0,1,L,U);this.ctx.transform=this.ctx.transform.multiply(M)},j.prototype.transform=function(L,U,M,K,Z,ae){if(isNaN(L)||isNaN(U)||isNaN(M)||isNaN(K)||isNaN(Z)||isNaN(ae))throw yr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var he=new m(L,U,M,K,Z,ae);this.ctx.transform=this.ctx.transform.multiply(he)},j.prototype.setTransform=function(L,U,M,K,Z,ae){L=isNaN(L)?1:L,U=isNaN(U)?0:U,M=isNaN(M)?0:M,K=isNaN(K)?1:K,Z=isNaN(Z)?0:Z,ae=isNaN(ae)?0:ae,this.ctx.transform=new m(L,U,M,K,Z,ae)};var A=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};j.prototype.drawImage=function(L,U,M,K,Z,ae,he,pe,ue){var Te=this.pdf.getImageProperties(L),Oe=1,We=1,Le=1,ne=1;K!==void 0&&pe!==void 0&&(Le=pe/K,ne=ue/Z,Oe=Te.width/K*pe/K,We=Te.height/Z*ue/Z),ae===void 0&&(ae=U,he=M,U=0,M=0),K!==void 0&&pe===void 0&&(pe=K,ue=Z),K===void 0&&pe===void 0&&(pe=Te.width,ue=Te.height);for(var Ye,Ke=this.ctx.transform.decompose(),Je=oe(Ke.rotate.shx),Ve=new m,ot=(Ve=(Ve=(Ve=Ve.multiply(Ke.translate)).multiply(Ke.skew)).multiply(Ke.scale)).applyToRectangle(new u(ae-U*Le,he-M*ne,K*Oe,Z*We)),Ge=C.call(this,ot),Nt=[],pt=0;pt<Ge.length;pt+=1)Nt.indexOf(Ge[pt])===-1&&Nt.push(Ge[pt]);if(O(Nt),this.autoPaging)for(var Vt=Nt[0],Lt=Nt[Nt.length-1],Rt=Vt;Rt<Lt+1;Rt++){this.pdf.setPage(Rt);var Qt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Tt=Rt===1?this.posY+this.margin[0]:this.margin[0],ht=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],gt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],st=Rt===1?0:ht+(Rt-2)*gt;if(this.ctx.clip_path.length!==0){var hr=this.path;Ye=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=F(Ye,this.posX+this.margin[3],-st+Tt+this.ctx.prevPageLastElemOffset),H.call(this,"fill",!0),this.path=hr}var Ut=JSON.parse(JSON.stringify(ot));Ut=F([Ut],this.posX+this.margin[3],-st+Tt+this.ctx.prevPageLastElemOffset)[0];var lt=(Rt>Vt||Rt<Lt)&&A.call(this);lt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Qt,gt,null).clip().discardPath()),this.pdf.addImage(L,"JPEG",Ut.x,Ut.y,Ut.w,Ut.h,null,null,Je),lt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(L,"JPEG",ot.x,ot.y,ot.w,ot.h,null,null,Je)};var C=function(L,U,M){var K=[];U=U||this.pdf.internal.pageSize.width,M=M||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Z=this.posY+this.ctx.prevPageLastElemOffset;switch(L.type){default:case"mt":case"lt":K.push(Math.floor((L.y+Z)/M)+1);break;case"arc":K.push(Math.floor((L.y+Z-L.radius)/M)+1),K.push(Math.floor((L.y+Z+L.radius)/M)+1);break;case"qct":var ae=be(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x,L.y);K.push(Math.floor((ae.y+Z)/M)+1),K.push(Math.floor((ae.y+ae.h+Z)/M)+1);break;case"bct":var he=je(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x2,L.y2,L.x,L.y);K.push(Math.floor((he.y+Z)/M)+1),K.push(Math.floor((he.y+he.h+Z)/M)+1);break;case"rect":K.push(Math.floor((L.y+Z)/M)+1),K.push(Math.floor((L.y+L.h+Z)/M)+1)}for(var pe=0;pe<K.length;pe+=1)for(;this.pdf.internal.getNumberOfPages()<K[pe];)S.call(this);return K},S=function(){var L=this.fillStyle,U=this.strokeStyle,M=this.font,K=this.lineCap,Z=this.lineWidth,ae=this.lineJoin;this.pdf.addPage(),this.fillStyle=L,this.strokeStyle=U,this.font=M,this.lineCap=K,this.lineWidth=Z,this.lineJoin=ae},F=function(L,U,M){for(var K=0;K<L.length;K++)switch(L[K].type){case"bct":L[K].x2+=U,L[K].y2+=M;case"qct":L[K].x1+=U,L[K].y1+=M;default:L[K].x+=U,L[K].y+=M}return L},O=function(L){return L.sort(function(U,M){return U-M})},B=function(L,U){for(var M,K,Z=this.fillStyle,ae=this.strokeStyle,he=this.lineCap,pe=this.lineWidth,ue=Math.abs(pe*this.ctx.transform.scaleX),Te=this.lineJoin,Oe=JSON.parse(JSON.stringify(this.path)),We=JSON.parse(JSON.stringify(this.path)),Le=[],ne=0;ne<We.length;ne++)if(We[ne].x!==void 0)for(var Ye=C.call(this,We[ne]),Ke=0;Ke<Ye.length;Ke+=1)Le.indexOf(Ye[Ke])===-1&&Le.push(Ye[Ke]);for(var Je=0;Je<Le.length;Je++)for(;this.pdf.internal.getNumberOfPages()<Le[Je];)S.call(this);if(O(Le),this.autoPaging)for(var Ve=Le[0],ot=Le[Le.length-1],Ge=Ve;Ge<ot+1;Ge++){this.pdf.setPage(Ge),this.fillStyle=Z,this.strokeStyle=ae,this.lineCap=he,this.lineWidth=ue,this.lineJoin=Te;var Nt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],pt=Ge===1?this.posY+this.margin[0]:this.margin[0],Vt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Lt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Rt=Ge===1?0:Vt+(Ge-2)*Lt;if(this.ctx.clip_path.length!==0){var Qt=this.path;M=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=F(M,this.posX+this.margin[3],-Rt+pt+this.ctx.prevPageLastElemOffset),H.call(this,L,!0),this.path=Qt}if(K=JSON.parse(JSON.stringify(Oe)),this.path=F(K,this.posX+this.margin[3],-Rt+pt+this.ctx.prevPageLastElemOffset),U===!1||Ge===0){var Tt=(Ge>Ve||Ge<ot)&&A.call(this);Tt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Nt,Lt,null).clip().discardPath()),H.call(this,L,U),Tt&&this.pdf.restoreGraphicsState()}this.lineWidth=pe}else this.lineWidth=ue,H.call(this,L,U),this.lineWidth=pe;this.path=Oe},H=function(L,U){if((L!=="stroke"||U||!P.call(this))&&(L==="stroke"||U||!x.call(this))){for(var M,K,Z=[],ae=this.path,he=0;he<ae.length;he++){var pe=ae[he];switch(pe.type){case"begin":Z.push({begin:!0});break;case"close":Z.push({close:!0});break;case"mt":Z.push({start:pe,deltas:[],abs:[]});break;case"lt":var ue=Z.length;if(ae[he-1]&&!isNaN(ae[he-1].x)&&(M=[pe.x-ae[he-1].x,pe.y-ae[he-1].y],ue>0)){for(;ue>=0;ue--)if(Z[ue-1].close!==!0&&Z[ue-1].begin!==!0){Z[ue-1].deltas.push(M),Z[ue-1].abs.push(pe);break}}break;case"bct":M=[pe.x1-ae[he-1].x,pe.y1-ae[he-1].y,pe.x2-ae[he-1].x,pe.y2-ae[he-1].y,pe.x-ae[he-1].x,pe.y-ae[he-1].y],Z[Z.length-1].deltas.push(M);break;case"qct":var Te=ae[he-1].x+2/3*(pe.x1-ae[he-1].x),Oe=ae[he-1].y+2/3*(pe.y1-ae[he-1].y),We=pe.x+2/3*(pe.x1-pe.x),Le=pe.y+2/3*(pe.y1-pe.y),ne=pe.x,Ye=pe.y;M=[Te-ae[he-1].x,Oe-ae[he-1].y,We-ae[he-1].x,Le-ae[he-1].y,ne-ae[he-1].x,Ye-ae[he-1].y],Z[Z.length-1].deltas.push(M);break;case"arc":Z.push({deltas:[],abs:[],arc:!0}),Array.isArray(Z[Z.length-1].abs)&&Z[Z.length-1].abs.push(pe)}}K=U?null:L==="stroke"?"stroke":"fill";for(var Ke=!1,Je=0;Je<Z.length;Je++)if(Z[Je].arc)for(var Ve=Z[Je].abs,ot=0;ot<Ve.length;ot++){var Ge=Ve[ot];Ge.type==="arc"?W.call(this,Ge.x,Ge.y,Ge.radius,Ge.startAngle,Ge.endAngle,Ge.counterclockwise,void 0,U,!Ke):X.call(this,Ge.x,Ge.y),Ke=!0}else if(Z[Je].close===!0)this.pdf.internal.out("h"),Ke=!1;else if(Z[Je].begin!==!0){var Nt=Z[Je].start.x,pt=Z[Je].start.y;R.call(this,Z[Je].deltas,Nt,pt),Ke=!0}K&&I.call(this,K),U&&J.call(this)}},ee=function(L){var U=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,M=U*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return L-M;case"top":return L+U-M;case"hanging":return L+U-2*M;case"middle":return L+U/2-M;default:return L}},ce=function(L){return L+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};j.prototype.createLinearGradient=function(){var L=function(){};return L.colorStops=[],L.addColorStop=function(U,M){this.colorStops.push([U,M])},L.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},L.isCanvasGradient=!0,L},j.prototype.createPattern=function(){return this.createLinearGradient()},j.prototype.createRadialGradient=function(){return this.createLinearGradient()};var W=function(L,U,M,K,Z,ae,he,pe,ue){for(var Te=xe.call(this,M,K,Z,ae),Oe=0;Oe<Te.length;Oe++){var We=Te[Oe];Oe===0&&(ue?D.call(this,We.x1+L,We.y1+U):X.call(this,We.x1+L,We.y1+U)),se.call(this,L,U,We.x2,We.y2,We.x3,We.y3,We.x4,We.y4)}pe?J.call(this):I.call(this,he)},I=function(L){switch(L){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},J=function(){this.pdf.clip(),this.pdf.discardPath()},D=function(L,U){this.pdf.internal.out(e(L)+" "+a(U)+" m")},k=function(L){var U;switch(L.align){case"right":case"end":U="right";break;case"center":U="center";break;default:U="left"}var M=this.pdf.getTextDimensions(L.text),K=ee.call(this,L.y),Z=ce.call(this,K)-M.h,ae=this.ctx.transform.applyToPoint(new d(L.x,K)),he=this.ctx.transform.decompose(),pe=new m;pe=(pe=(pe=pe.multiply(he.translate)).multiply(he.skew)).multiply(he.scale);for(var ue,Te,Oe,We=this.ctx.transform.applyToRectangle(new u(L.x,K,M.w,M.h)),Le=pe.applyToRectangle(new u(L.x,Z,M.w,M.h)),ne=C.call(this,Le),Ye=[],Ke=0;Ke<ne.length;Ke+=1)Ye.indexOf(ne[Ke])===-1&&Ye.push(ne[Ke]);if(O(Ye),this.autoPaging)for(var Je=Ye[0],Ve=Ye[Ye.length-1],ot=Je;ot<Ve+1;ot++){this.pdf.setPage(ot);var Ge=ot===1?this.posY+this.margin[0]:this.margin[0],Nt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],pt=this.pdf.internal.pageSize.height-this.margin[2],Vt=pt-this.margin[0],Lt=this.pdf.internal.pageSize.width-this.margin[1],Rt=Lt-this.margin[3],Qt=ot===1?0:Nt+(ot-2)*Vt;if(this.ctx.clip_path.length!==0){var Tt=this.path;ue=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=F(ue,this.posX+this.margin[3],-1*Qt+Ge),H.call(this,"fill",!0),this.path=Tt}var ht=F([JSON.parse(JSON.stringify(Le))],this.posX+this.margin[3],-Qt+Ge+this.ctx.prevPageLastElemOffset)[0];L.scale>=.01&&(Te=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Te*L.scale),Oe=this.lineWidth,this.lineWidth=Oe*L.scale);var gt=this.autoPaging!=="text";if(gt||ht.y+ht.h<=pt){if(gt||ht.y>=Ge&&ht.x<=Lt){var st=gt?L.text:this.pdf.splitTextToSize(L.text,L.maxWidth||Lt-ht.x)[0],hr=F([JSON.parse(JSON.stringify(We))],this.posX+this.margin[3],-Qt+Ge+this.ctx.prevPageLastElemOffset)[0],Ut=gt&&(ot>Je||ot<Ve)&&A.call(this);Ut&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Rt,Vt,null).clip().discardPath()),this.pdf.text(st,hr.x,hr.y,{angle:L.angle,align:U,renderingMode:L.renderingMode}),Ut&&this.pdf.restoreGraphicsState()}}else ht.y<pt&&(this.ctx.prevPageLastElemOffset+=pt-ht.y);L.scale>=.01&&(this.pdf.setFontSize(Te),this.lineWidth=Oe)}else L.scale>=.01&&(Te=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Te*L.scale),Oe=this.lineWidth,this.lineWidth=Oe*L.scale),this.pdf.text(L.text,ae.x+this.posX,ae.y+this.posY,{angle:L.angle,align:U,renderingMode:L.renderingMode,maxWidth:L.maxWidth}),L.scale>=.01&&(this.pdf.setFontSize(Te),this.lineWidth=Oe)},X=function(L,U,M,K){M=M||0,K=K||0,this.pdf.internal.out(e(L+M)+" "+a(U+K)+" l")},R=function(L,U,M){return this.pdf.lines(L,U,M,null,null)},se=function(L,U,M,K,Z,ae,he,pe){this.pdf.internal.out([t(s(M+L)),t(l(K+U)),t(s(Z+L)),t(l(ae+U)),t(s(he+L)),t(l(pe+U)),"c"].join(" "))},xe=function(L,U,M,K){for(var Z=2*Math.PI,ae=Math.PI/2;U>M;)U-=Z;var he=Math.abs(M-U);he<Z&&K&&(he=Z-he);for(var pe=[],ue=K?-1:1,Te=U;he>1e-5;){var Oe=Te+ue*Math.min(he,ae);pe.push(de.call(this,L,Te,Oe)),he-=Math.abs(Oe-Te),Te=Oe}return pe},de=function(L,U,M){var K=(M-U)/2,Z=L*Math.cos(K),ae=L*Math.sin(K),he=Z,pe=-ae,ue=he*he+pe*pe,Te=ue+he*Z+pe*ae,Oe=4/3*(Math.sqrt(2*ue*Te)-Te)/(he*ae-pe*Z),We=he-Oe*pe,Le=pe+Oe*he,ne=We,Ye=-Le,Ke=K+U,Je=Math.cos(Ke),Ve=Math.sin(Ke);return{x1:L*Math.cos(U),y1:L*Math.sin(U),x2:We*Je-Le*Ve,y2:We*Ve+Le*Je,x3:ne*Je-Ye*Ve,y3:ne*Ve+Ye*Je,x4:L*Math.cos(M),y4:L*Math.sin(M)}},oe=function(L){return 180*L/Math.PI},be=function(L,U,M,K,Z,ae){var he=L+.5*(M-L),pe=U+.5*(K-U),ue=Z+.5*(M-Z),Te=ae+.5*(K-ae),Oe=Math.min(L,Z,he,ue),We=Math.max(L,Z,he,ue),Le=Math.min(U,ae,pe,Te),ne=Math.max(U,ae,pe,Te);return new u(Oe,Le,We-Oe,ne-Le)},je=function(L,U,M,K,Z,ae,he,pe){var ue,Te,Oe,We,Le,ne,Ye,Ke,Je,Ve,ot,Ge,Nt,pt,Vt=M-L,Lt=K-U,Rt=Z-M,Qt=ae-K,Tt=he-Z,ht=pe-ae;for(Te=0;Te<41;Te++)Je=(Ye=(Oe=L+(ue=Te/40)*Vt)+ue*((Le=M+ue*Rt)-Oe))+ue*(Le+ue*(Z+ue*Tt-Le)-Ye),Ve=(Ke=(We=U+ue*Lt)+ue*((ne=K+ue*Qt)-We))+ue*(ne+ue*(ae+ue*ht-ne)-Ke),Te==0?(ot=Je,Ge=Ve,Nt=Je,pt=Ve):(ot=Math.min(ot,Je),Ge=Math.min(Ge,Ve),Nt=Math.max(Nt,Je),pt=Math.max(pt,Ve));return new u(Math.round(ot),Math.round(Ge),Math.round(Nt-ot),Math.round(pt-Ge))},Q=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var L,U,M=(L=this.ctx.lineDash,U=this.ctx.lineDashOffset,JSON.stringify({lineDash:L,lineDashOffset:U}));this.prevLineDash!==M&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=M)}}})(ft.API),(function(r){var t=function(d){var u,m,p,y,j,_,x,P,A,C;for(m=[],p=0,y=(d+=u="\0\0\0\0".slice(d.length%4||4)).length;y>p;p+=4)(j=(d.charCodeAt(p)<<24)+(d.charCodeAt(p+1)<<16)+(d.charCodeAt(p+2)<<8)+d.charCodeAt(p+3))!==0?(_=(j=((j=((j=((j=(j-(C=j%85))/85)-(A=j%85))/85)-(P=j%85))/85)-(x=j%85))/85)%85,m.push(_+33,x+33,P+33,A+33,C+33)):m.push(122);return(function(S,F){for(var O=F;O>0;O--)S.pop()})(m,u.length),String.fromCharCode.apply(String,m)+"~>"},e=function(d){var u,m,p,y,j,_=String,x="length",P=255,A="charCodeAt",C="slice",S="replace";for(d[C](-2),d=d[C](0,-2)[S](/\s/g,"")[S]("z","!!!!!"),p=[],y=0,j=(d+=u="uuuuu"[C](d[x]%5||5))[x];j>y;y+=5)m=52200625*(d[A](y)-33)+614125*(d[A](y+1)-33)+7225*(d[A](y+2)-33)+85*(d[A](y+3)-33)+(d[A](y+4)-33),p.push(P&m>>24,P&m>>16,P&m>>8,P&m);return(function(F,O){for(var B=O;B>0;B--)F.pop()})(p,u[x]),_.fromCharCode.apply(_,p)},a=function(d){return d.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(d){var u=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((d=d.replace(/\s/g,"")).indexOf(">")!==-1&&(d=d.substr(0,d.indexOf(">"))),d.length%2&&(d+="0"),u.test(d)===!1)return"";for(var m="",p=0;p<d.length;p+=2)m+=String.fromCharCode("0x"+(d[p]+d[p+1]));return m},l=function(d){for(var u=new Uint8Array(d.length),m=d.length;m--;)u[m]=d.charCodeAt(m);return(u=bf(u)).reduce(function(p,y){return p+String.fromCharCode(y)},"")};r.processDataByFilters=function(d,u){var m=0,p=d||"",y=[];for(typeof(u=u||[])=="string"&&(u=[u]),m=0;m<u.length;m+=1)switch(u[m]){case"ASCII85Decode":case"/ASCII85Decode":p=e(p),y.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":p=t(p),y.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":p=s(p),y.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":p=a(p),y.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":p=l(p),y.push("/FlateDecode");break;default:throw new Error('The filter: "'+u[m]+'" is not implemented')}return{data:p,reverseChain:y.reverse().join(" ")}}})(ft.API),(function(r){r.loadFile=function(t,e,a){return(function(s,l,d){l=l!==!1,d=typeof d=="function"?d:function(){};var u=void 0;try{u=(function(m,p,y){var j=new XMLHttpRequest,_=0,x=function(P){var A=P.length,C=[],S=String.fromCharCode;for(_=0;_<A;_+=1)C.push(S(255&P.charCodeAt(_)));return C.join("")};if(j.open("GET",m,!p),j.overrideMimeType("text/plain; charset=x-user-defined"),p===!1&&(j.onload=function(){j.status===200?y(x(this.responseText)):y(void 0)}),j.send(null),p&&j.status===200)return x(j.responseText)})(s,l,d)}catch{}return u})(t,e,a)},r.loadImageFile=r.loadFile})(ft.API),(function(r){function t(){return(Bt.html2canvas?Promise.resolve(Bt.html2canvas):Wh(()=>import("./html2canvas.esm-QH1iLAAe.js"),[])).catch(function(u){return Promise.reject(new Error("Could not load html2canvas: "+u))}).then(function(u){return u.default?u.default:u})}function e(){return(Bt.DOMPurify?Promise.resolve(Bt.DOMPurify):Wh(()=>import("./purify.es-aGzT-_H7.js"),[])).catch(function(u){return Promise.reject(new Error("Could not load dompurify: "+u))}).then(function(u){return u.default?u.default:u})}var a=function(u){var m=ur(u);return m==="undefined"?"undefined":m==="string"||u instanceof String?"string":m==="number"||u instanceof Number?"number":m==="function"||u instanceof Function?"function":u&&u.constructor===Array?"array":u&&u.nodeType===1?"element":m==="object"?"object":"unknown"},s=function(u,m){var p=document.createElement(u);for(var y in m.className&&(p.className=m.className),m.innerHTML&&m.dompurify&&(p.innerHTML=m.dompurify.sanitize(m.innerHTML)),m.style)p.style[y]=m.style[y];return p},l=function u(m,p){for(var y=m.nodeType===3?document.createTextNode(m.nodeValue):m.cloneNode(!1),j=m.firstChild;j;j=j.nextSibling)p!==!0&&j.nodeType===1&&j.nodeName==="SCRIPT"||y.appendChild(u(j,p));return m.nodeType===1&&(m.nodeName==="CANVAS"?(y.width=m.width,y.height=m.height,y.getContext("2d").drawImage(m,0,0)):m.nodeName!=="TEXTAREA"&&m.nodeName!=="SELECT"||(y.value=m.value),y.addEventListener("load",function(){y.scrollTop=m.scrollTop,y.scrollLeft=m.scrollLeft},!0)),y},d=function u(m){var p=Object.assign(u.convert(Promise.resolve()),JSON.parse(JSON.stringify(u.template))),y=u.convert(Promise.resolve(),p);return(y=y.setProgress(1,u,1,[u])).set(m)};(d.prototype=Object.create(Promise.prototype)).constructor=d,d.convert=function(u,m){return u.__proto__=m||d.prototype,u},d.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},d.prototype.from=function(u,m){return this.then(function(){switch(m=m||(function(p){switch(a(p)){case"string":return"string";case"element":return p.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(u),m){case"string":return this.then(e).then(function(p){return this.set({src:s("div",{innerHTML:u,dompurify:p})})});case"element":return this.set({src:u});case"canvas":return this.set({canvas:u});case"img":return this.set({img:u});default:return this.error("Unknown source type.")}})},d.prototype.to=function(u){switch(u){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},d.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var u={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},m=l(this.prop.src,this.opt.html2canvas.javascriptEnabled);m.tagName==="BODY"&&(u.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:u}),this.prop.container.appendChild(m),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},d.prototype.toCanvas=function(){var u=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(u).then(t).then(function(m){var p=Object.assign({},this.opt.html2canvas);return delete p.onrendered,m(this.prop.container,p)}).then(function(m){(this.opt.html2canvas.onrendered||function(){})(m),this.prop.canvas=m,document.body.removeChild(this.prop.overlay)})},d.prototype.toContext2d=function(){var u=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(u).then(t).then(function(m){var p=this.opt.jsPDF,y=this.opt.fontFaces,j=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,_=Object.assign({async:!0,allowTaint:!0,scale:j,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete _.onrendered,p.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,p.context2d.posX=this.opt.x,p.context2d.posY=this.opt.y,p.context2d.margin=this.opt.margin,p.context2d.fontFaces=y,y)for(var x=0;x<y.length;++x){var P=y[x],A=P.src.find(function(C){return C.format==="truetype"});A&&p.addFont(A.url,P.ref.name,P.ref.style)}return _.windowHeight=_.windowHeight||0,_.windowHeight=_.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):_.windowHeight,p.context2d.save(!0),m(this.prop.container,_)}).then(function(m){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(m),this.prop.canvas=m,document.body.removeChild(this.prop.overlay)})},d.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var u=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=u})},d.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},d.prototype.output=function(u,m,p){return(p=p||"pdf").toLowerCase()==="img"||p.toLowerCase()==="image"?this.outputImg(u,m):this.outputPdf(u,m)},d.prototype.outputPdf=function(u,m){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(u,m)})},d.prototype.outputImg=function(u){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(u){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+u+'" is not supported.'}})},d.prototype.save=function(u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(u?{filename:u}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},d.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},d.prototype.set=function(u){if(a(u)!=="object")return this;var m=Object.keys(u||{}).map(function(p){if(p in d.template.prop)return function(){this.prop[p]=u[p]};switch(p){case"margin":return this.setMargin.bind(this,u.margin);case"jsPDF":return function(){return this.opt.jsPDF=u.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,u.pageSize);default:return function(){this.opt[p]=u[p]}}},this);return this.then(function(){return this.thenList(m)})},d.prototype.get=function(u,m){return this.then(function(){var p=u in d.template.prop?this.prop[u]:this.opt[u];return m?m(p):p})},d.prototype.setMargin=function(u){return this.then(function(){switch(a(u)){case"number":u=[u,u,u,u];case"array":if(u.length===2&&(u=[u[0],u[1],u[0],u[1]]),u.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=u}).then(this.setPageSize)},d.prototype.setPageSize=function(u){function m(p,y){return Math.floor(p*y/72*96)}return this.then(function(){(u=u||ft.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(u.inner={width:u.width-this.opt.margin[1]-this.opt.margin[3],height:u.height-this.opt.margin[0]-this.opt.margin[2]},u.inner.px={width:m(u.inner.width,u.k),height:m(u.inner.height,u.k)},u.inner.ratio=u.inner.height/u.inner.width),this.prop.pageSize=u})},d.prototype.setProgress=function(u,m,p,y){return u!=null&&(this.progress.val=u),m!=null&&(this.progress.state=m),p!=null&&(this.progress.n=p),y!=null&&(this.progress.stack=y),this.progress.ratio=this.progress.val/this.progress.state,this},d.prototype.updateProgress=function(u,m,p,y){return this.setProgress(u?this.progress.val+u:null,m||null,p?this.progress.n+p:null,y?this.progress.stack.concat(y):null)},d.prototype.then=function(u,m){var p=this;return this.thenCore(u,m,function(y,j){return p.updateProgress(null,null,1,[y]),Promise.prototype.then.call(this,function(_){return p.updateProgress(null,y),_}).then(y,j).then(function(_){return p.updateProgress(1),_})})},d.prototype.thenCore=function(u,m,p){p=p||Promise.prototype.then;var y=this;u&&(u=u.bind(y)),m&&(m=m.bind(y));var j=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?y:d.convert(Object.assign({},y),Promise.prototype),_=p.call(j,u,m);return d.convert(_,y.__proto__)},d.prototype.thenExternal=function(u,m){return Promise.prototype.then.call(this,u,m)},d.prototype.thenList=function(u){var m=this;return u.forEach(function(p){m=m.thenCore(p)}),m},d.prototype.catch=function(u){u&&(u=u.bind(this));var m=Promise.prototype.catch.call(this,u);return d.convert(m,this)},d.prototype.catchExternal=function(u){return Promise.prototype.catch.call(this,u)},d.prototype.error=function(u){return this.then(function(){throw new Error(u)})},d.prototype.using=d.prototype.set,d.prototype.saveAs=d.prototype.save,d.prototype.export=d.prototype.output,d.prototype.run=d.prototype.then,ft.getPageSize=function(u,m,p){if(ur(u)==="object"){var y=u;u=y.orientation,m=y.unit||m,p=y.format||p}m=m||"mm",p=p||"a4",u=(""+(u||"P")).toLowerCase();var j,_=(""+p).toLowerCase(),x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(m){case"pt":j=1;break;case"mm":j=72/25.4;break;case"cm":j=72/2.54;break;case"in":j=72;break;case"px":j=.75;break;case"pc":case"em":j=12;break;case"ex":j=6;break;default:throw"Invalid unit: "+m}var P,A=0,C=0;if(x.hasOwnProperty(_))A=x[_][1]/j,C=x[_][0]/j;else try{A=p[1],C=p[0]}catch{throw new Error("Invalid format: "+p)}if(u==="p"||u==="portrait")u="p",C>A&&(P=C,C=A,A=P);else{if(u!=="l"&&u!=="landscape")throw"Invalid orientation: "+u;u="l",A>C&&(P=C,C=A,A=P)}return{width:C,height:A,unit:m,k:j,orientation:u}},r.html=function(u,m){(m=m||{}).callback=m.callback||function(){},m.html2canvas=m.html2canvas||{},m.html2canvas.canvas=m.html2canvas.canvas||this.canvas,m.jsPDF=m.jsPDF||this,m.fontFaces=m.fontFaces?m.fontFaces.map(nf):null;var p=new d(m);return m.worker?p:p.from(u).doCallback()}})(ft.API),ft.API.addJS=function(r){return ym=r,this.internal.events.subscribe("postPutResources",function(){mu=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(mu+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),xm=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+ym+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){mu!==void 0&&xm!==void 0&&this.internal.out("/Names <</JavaScript "+mu+" 0 R>>")}),this},(function(r){var t;r.events.push(["postPutResources",function(){var e=this,a=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=e.outline.render().split(/\r\n/),l=0;l<s.length;l++){var d=s[l],u=a.exec(d);if(u!=null){var m=u[1];e.internal.newObjectDeferredBegin(m,!1)}e.internal.write(d)}if(this.outline.createNamedDestinations){var p=this.internal.pages.length,y=[];for(l=0;l<p;l++){var j=e.internal.newObject();y.push(j);var _=e.internal.getPageInfo(l+1);e.internal.write("<< /D["+_.objId+" 0 R /XYZ null null null]>> endobj")}var x=e.internal.newObject();for(e.internal.write("<< /Names [ "),l=0;l<y.length;l++)e.internal.write("(page_"+(l+1)+")"+y[l]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+x+" 0 R"),e.internal.write(">>","endobj")}}]),r.events.push(["putCatalog",function(){var e=this;e.outline.root.children.length>0&&(e.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&e.internal.write("/Names "+t+" 0 R"))}]),r.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(a,s,l){var d={title:s,options:l,children:[]};return a==null&&(a=this.root),a.children.push(d),d},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(a){a.id=e.internal.newObjectDeferred();for(var s=0;s<a.children.length;s++)this.genIds_r(a.children[s])},e.outline.renderRoot=function(a){this.objStart(a),this.line("/Type /Outlines"),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1]))),this.line("/Count "+this.count_r({count:0},a)),this.objEnd()},e.outline.renderItems=function(a){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,l=0;l<a.children.length;l++){var d=a.children[l];this.objStart(d),this.line("/Title "+this.makeString(d.title)),this.line("/Parent "+this.makeRef(a)),l>0&&this.line("/Prev "+this.makeRef(a.children[l-1])),l<a.children.length-1&&this.line("/Next "+this.makeRef(a.children[l+1])),d.children.length>0&&(this.line("/First "+this.makeRef(d.children[0])),this.line("/Last "+this.makeRef(d.children[d.children.length-1])));var u=this.count=this.count_r({count:0},d);if(u>0&&this.line("/Count "+u),d.options&&d.options.pageNumber){var m=e.internal.getPageInfo(d.options.pageNumber);this.line("/Dest ["+m.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var p=0;p<a.children.length;p++)this.renderItems(a.children[p])},e.outline.line=function(a){this.ctx.val+=a+`\r
`},e.outline.makeRef=function(a){return a.id+" 0 R"},e.outline.makeString=function(a){return"("+e.internal.pdfEscape(a)+")"},e.outline.objStart=function(a){this.ctx.val+=`\r
`+a.id+` 0 obj\r
<<\r
`},e.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},e.outline.count_r=function(a,s){for(var l=0;l<s.children.length;l++)a.count++,this.count_r(a,s.children[l]);return a.count}}])})(ft.API),(function(r){var t=[192,193,194,195,196,197,198,199];r.processJPEG=function(e,a,s,l,d,u){var m,p=this.decode.DCT_DECODE,y=null;if(typeof e=="string"||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=d||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,m=(function(j){for(var _,x=256*j.charCodeAt(4)+j.charCodeAt(5),P=j.length,A={width:0,height:0,numcomponents:1},C=4;C<P;C+=2){if(C+=x,t.indexOf(j.charCodeAt(C+1))!==-1){_=256*j.charCodeAt(C+5)+j.charCodeAt(C+6),A={width:256*j.charCodeAt(C+7)+j.charCodeAt(C+8),height:_,numcomponents:j.charCodeAt(C+9)};break}x=256*j.charCodeAt(C+2)+j.charCodeAt(C+3)}return A})(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e),m.numcomponents){case 1:u=this.color_spaces.DEVICE_GRAY;break;case 4:u=this.color_spaces.DEVICE_CMYK;break;case 3:u=this.color_spaces.DEVICE_RGB}y={data:e,width:m.width,height:m.height,colorSpace:u,bitsPerComponent:8,filter:p,index:a,alias:s}}return y}})(ft.API),ft.API.processPNG=function(r,t,e,a){if(this.__addimage__.isArrayBuffer(r)&&(r=new Uint8Array(r)),this.__addimage__.isArrayBufferView(r)){var s,l=vv(r,{checkCrc:!0}),d=l.width,u=l.height,m=l.channels,p=l.palette,y=l.depth;s=p&&m===1?(function(W){for(var I=W.width,J=W.height,D=W.data,k=W.palette,X=W.depth,R=!1,se=[],xe=[],de=void 0,oe=!1,be=0,je=0;je<k.length;je++){var Q=S0(k[je],4),L=Q[0],U=Q[1],M=Q[2],K=Q[3];se.push(L,U,M),K!=null&&(K===0?(be++,xe.length<1&&xe.push(je)):K<255&&(oe=!0))}if(oe||be>1){R=!0,xe=void 0;var Z=I*J;de=new Uint8Array(Z);for(var ae=new DataView(D.buffer),he=0;he<Z;he++){var pe=af(ae,he,X),ue=S0(k[pe],4)[3];de[he]=ue}}else be===0&&(xe=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:R?8:void 0,colorBytes:D,alphaBytes:de,needSMask:R,palette:se,mask:xe}})(l):m===2||m===4?(function(W){for(var I=W.data,J=W.width,D=W.height,k=W.channels,X=W.depth,R=k===2?"DeviceGray":"DeviceRGB",se=k-1,xe=J*D,de=se,oe=xe*de,be=1*xe,je=Math.ceil(oe*X/8),Q=Math.ceil(be*X/8),L=new Uint8Array(je),U=new Uint8Array(Q),M=new DataView(I.buffer),K=new DataView(L.buffer),Z=new DataView(U.buffer),ae=!1,he=0;he<xe;he++){for(var pe=he*k,ue=0;ue<de;ue++)Am(K,af(M,pe+ue,X),he*de+ue,X);var Te=af(M,pe+de,X);Te<(1<<X)-1&&(ae=!0),Am(Z,Te,1*he,X)}return{colorSpace:R,colorsPerPixel:se,sMaskBitsPerComponent:ae?X:void 0,colorBytes:L,alphaBytes:U,needSMask:ae}})(l):(function(W){var I=W.data,J=W.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:J,colorsPerPixel:J==="DeviceGray"?1:3,colorBytes:I instanceof Uint16Array?(function(D){for(var k=D.length,X=new Uint8Array(2*k),R=new DataView(X.buffer,X.byteOffset,X.byteLength),se=0;se<k;se++)R.setUint16(2*se,D[se],!1);return X})(I):I,needSMask:!1}})(l);var j,_,x,P=s,A=P.colorSpace,C=P.colorsPerPixel,S=P.sMaskBitsPerComponent,F=P.colorBytes,O=P.alphaBytes,B=P.needSMask,H=P.palette,ee=P.mask,ce=null;return a!==ft.API.image_compression.NONE&&typeof bf=="function"?(ce=(function(W){var I;switch(W){case ft.API.image_compression.FAST:I=11;break;case ft.API.image_compression.MEDIUM:I=13;break;case ft.API.image_compression.SLOW:I=14;break;default:I=12}return I})(a),j=this.decode.FLATE_DECODE,_="/Predictor ".concat(ce," /Colors ").concat(C," /BitsPerComponent ").concat(y," /Columns ").concat(d),r=Sm(F,Math.ceil(d*C*y/8),C,y,a),B&&(x=Sm(O,Math.ceil(d*S/8),1,S,a))):(j=void 0,_=void 0,r=F,B&&(x=O)),(this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r))&&(r=this.__addimage__.arrayBufferToBinaryString(r)),(x&&this.__addimage__.isArrayBuffer(x)||this.__addimage__.isArrayBufferView(x))&&(x=this.__addimage__.arrayBufferToBinaryString(x)),{alias:e,data:r,index:t,filter:j,decodeParameters:_,transparency:ee,palette:H,sMask:x,predictor:ce,width:d,height:u,bitsPerComponent:y,sMaskBitsPerComponent:S,colorSpace:A}}},(function(r){r.processGIF89A=function(t,e,a,s){var l=new Mv(t),d=l.width,u=l.height,m=[];l.decodeAndBlitFrameRGBA(0,m);var p={data:m,width:d,height:u},y=new sf(100).encode(p,100);return r.processJPEG.call(this,y,e,a,s)},r.processGIF87A=r.processGIF89A})(ft.API),Ro.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var r=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(r);for(var t=0;t<r;t++){var e=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:s,green:a,blue:e,quad:l}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ro.prototype.parseBGR=function(){this.pos=this.offset;try{var r="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[r]()}catch(e){yr.log("bit decode error:"+e)}},Ro.prototype.bit1=function(){var r,t=Math.ceil(this.width/8),e=t%4;for(r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,s=0;s<t;s++)for(var l=this.datav.getUint8(this.pos++,!0),d=a*this.width*4+8*s*4,u=0;u<8&&8*s+u<this.width;u++){var m=this.palette[l>>7-u&1];this.data[d+4*u]=m.blue,this.data[d+4*u+1]=m.green,this.data[d+4*u+2]=m.red,this.data[d+4*u+3]=255}e!==0&&(this.pos+=4-e)}},Ro.prototype.bit4=function(){for(var r=Math.ceil(this.width/2),t=r%4,e=this.height-1;e>=0;e--){for(var a=this.bottom_up?e:this.height-1-e,s=0;s<r;s++){var l=this.datav.getUint8(this.pos++,!0),d=a*this.width*4+2*s*4,u=l>>4,m=15&l,p=this.palette[u];if(this.data[d]=p.blue,this.data[d+1]=p.green,this.data[d+2]=p.red,this.data[d+3]=255,2*s+1>=this.width)break;p=this.palette[m],this.data[d+4]=p.blue,this.data[d+4+1]=p.green,this.data[d+4+2]=p.red,this.data[d+4+3]=255}t!==0&&(this.pos+=4-t)}},Ro.prototype.bit8=function(){for(var r=this.width%4,t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,a=0;a<this.width;a++){var s=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*a;if(s<this.palette.length){var d=this.palette[s];this.data[l]=d.red,this.data[l+1]=d.green,this.data[l+2]=d.blue,this.data[l+3]=255}else this.data[l]=255,this.data[l+1]=255,this.data[l+2]=255,this.data[l+3]=255}r!==0&&(this.pos+=4-r)}},Ro.prototype.bit15=function(){for(var r=this.width%3,t=parseInt("11111",2),e=this.height-1;e>=0;e--){for(var a=this.bottom_up?e:this.height-1-e,s=0;s<this.width;s++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var d=(l&t)/t*255|0,u=(l>>5&t)/t*255|0,m=(l>>10&t)/t*255|0,p=l>>15?255:0,y=a*this.width*4+4*s;this.data[y]=m,this.data[y+1]=u,this.data[y+2]=d,this.data[y+3]=p}this.pos+=r}},Ro.prototype.bit16=function(){for(var r=this.width%3,t=parseInt("11111",2),e=parseInt("111111",2),a=this.height-1;a>=0;a--){for(var s=this.bottom_up?a:this.height-1-a,l=0;l<this.width;l++){var d=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(d&t)/t*255|0,m=(d>>5&e)/e*255|0,p=(d>>11)/t*255|0,y=s*this.width*4+4*l;this.data[y]=p,this.data[y+1]=m,this.data[y+2]=u,this.data[y+3]=255}this.pos+=r}},Ro.prototype.bit24=function(){for(var r=this.height-1;r>=0;r--){for(var t=this.bottom_up?r:this.height-1-r,e=0;e<this.width;e++){var a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),d=t*this.width*4+4*e;this.data[d]=l,this.data[d+1]=s,this.data[d+2]=a,this.data[d+3]=255}this.pos+=this.width%4}},Ro.prototype.bit32=function(){for(var r=this.height-1;r>=0;r--)for(var t=this.bottom_up?r:this.height-1-r,e=0;e<this.width;e++){var a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),d=this.datav.getUint8(this.pos++,!0),u=t*this.width*4+4*e;this.data[u]=l,this.data[u+1]=s,this.data[u+2]=a,this.data[u+3]=d}},Ro.prototype.getData=function(){return this.data},(function(r){r.processBMP=function(t,e,a,s){var l=new Ro(t,!1),d=l.width,u=l.height,m={data:l.getData(),width:d,height:u},p=new sf(100).encode(m,100);return r.processJPEG.call(this,p,e,a,s)}})(ft.API),Bm.prototype.getData=function(){return this.data},(function(r){r.processWEBP=function(t,e,a,s){var l=new Bm(t),d=l.width,u=l.height,m={data:l.getData(),width:d,height:u},p=new sf(100).encode(m,100);return r.processJPEG.call(this,p,e,a,s)}})(ft.API),ft.API.processRGBA=function(r,t,e){for(var a=r.data,s=a.length,l=new Uint8Array(s/4*3),d=new Uint8Array(s/4),u=0,m=0,p=0;p<s;p+=4){var y=a[p],j=a[p+1],_=a[p+2],x=a[p+3];l[u++]=y,l[u++]=j,l[u++]=_,d[m++]=x}var P=this.__addimage__.arrayBufferToBinaryString(l);return{alpha:this.__addimage__.arrayBufferToBinaryString(d),data:P,index:t,alias:e,colorSpace:"DeviceRGB",bitsPerComponent:8,width:r.width,height:r.height}},ft.API.setLanguage=function(r){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[r]!==void 0&&(this.internal.languageSettings.languageCode=r,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},hc=ft.API,gu=hc.getCharWidthsArray=function(r,t){var e,a,s=(t=t||{}).font||this.internal.getFont(),l=t.fontSize||this.internal.getFontSize(),d=t.charSpace||this.internal.getCharSpace(),u=t.widths?t.widths:s.metadata.Unicode.widths,m=u.fof?u.fof:1,p=t.kerning?t.kerning:s.metadata.Unicode.kerning,y=p.fof?p.fof:1,j=t.doKerning!==!1,_=0,x=r.length,P=0,A=u[0]||m,C=[];for(e=0;e<x;e++)a=r.charCodeAt(e),typeof s.metadata.widthOfString=="function"?C.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(a))+d*(1e3/l)||0)/1e3):(_=j&&ur(p[a])==="object"&&!isNaN(parseInt(p[a][P],10))?p[a][P]/y:0,C.push((u[a]||A)/m+_)),P=a;return C},vm=hc.getStringUnitWidth=function(r,t){var e=(t=t||{}).fontSize||this.internal.getFontSize(),a=t.font||this.internal.getFont(),s=t.charSpace||this.internal.getCharSpace();return hc.processArabic&&(r=hc.processArabic(r)),typeof a.metadata.widthOfString=="function"?a.metadata.widthOfString(r,e,s)/e:gu.apply(this,arguments).reduce(function(l,d){return l+d},0)},bm=function(r,t,e,a){for(var s=[],l=0,d=r.length,u=0;l!==d&&u+t[l]<e;)u+=t[l],l++;s.push(r.slice(0,l));var m=l;for(u=0;l!==d;)u+t[l]>a&&(s.push(r.slice(m,l)),u=0,m=l),u+=t[l],l++;return m!==l&&s.push(r.slice(m,l)),s},wm=function(r,t,e){e||(e={});var a,s,l,d,u,m,p,y=[],j=[y],_=e.textIndent||0,x=0,P=0,A=r.split(" "),C=gu.apply(this,[" ",e])[0];if(m=e.lineIndent===-1?A[0].length+2:e.lineIndent||0){var S=Array(m).join(" "),F=[];A.map(function(B){(B=B.split(/\s*\n/)).length>1?F=F.concat(B.map(function(H,ee){return(ee&&H.length?`
`:"")+H})):F.push(B[0])}),A=F,m=vm.apply(this,[S,e])}for(l=0,d=A.length;l<d;l++){var O=0;if(a=A[l],m&&a[0]==`
`&&(a=a.substr(1),O=1),_+x+(P=(s=gu.apply(this,[a,e])).reduce(function(B,H){return B+H},0))>t||O){if(P>t){for(u=bm.apply(this,[a,s,t-(_+x),t]),y.push(u.shift()),y=[u.pop()];u.length;)j.push([u.shift()]);P=s.slice(a.length-(y[0]?y[0].length:0)).reduce(function(B,H){return B+H},0)}else y=[a];j.push(y),_=P+m,x=C}else y.push(a),_+=x+P,x=C}return p=m?function(B,H){return(H?S:"")+B.join(" ")}:function(B){return B.join(" ")},j.map(p)},hc.splitTextToSize=function(r,t,e){var a,s=(e=e||{}).fontSize||this.internal.getFontSize(),l=(function(y){if(y.widths&&y.kerning)return{widths:y.widths,kerning:y.kerning};var j=this.internal.getFont(y.fontName,y.fontStyle),_="Unicode";return j.metadata[_]?{widths:j.metadata[_].widths||{0:1},kerning:j.metadata[_].kerning||{}}:{font:j.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,e);a=Array.isArray(r)?r:String(r).split(/\r?\n/);var d=1*this.internal.scaleFactor*t/s;l.textIndent=e.textIndent?1*e.textIndent*this.internal.scaleFactor/s:0,l.lineIndent=e.lineIndent;var u,m,p=[];for(u=0,m=a.length;u<m;u++)p=p.concat(wm.apply(this,[a[u],d,l]));return p},(function(r){r.__fontmetrics__=r.__fontmetrics__||{};for(var t="0123456789abcdef",e="klmnopqrstuvwxyz",a={},s={},l=0;l<16;l++)a[e[l]]=t[l],s[t[l]]=e[l];var d=function(_){return"0x"+parseInt(_,10).toString(16)},u=r.__fontmetrics__.compress=function(_){var x,P,A,C,S=["{"];for(var F in _){if(x=_[F],isNaN(parseInt(F,10))?P="'"+F+"'":(F=parseInt(F,10),P=(P=d(F).slice(2)).slice(0,-1)+s[P.slice(-1)]),typeof x=="number")x<0?(A=d(x).slice(3),C="-"):(A=d(x).slice(2),C=""),A=C+A.slice(0,-1)+s[A.slice(-1)];else{if(ur(x)!=="object")throw new Error("Don't know what to do with value type "+ur(x)+".");A=u(x)}S.push(P+A)}return S.push("}"),S.join("")},m=r.__fontmetrics__.uncompress=function(_){if(typeof _!="string")throw new Error("Invalid argument passed to uncompress.");for(var x,P,A,C,S={},F=1,O=S,B=[],H="",ee="",ce=_.length-1,W=1;W<ce;W+=1)(C=_[W])=="'"?x?(A=x.join(""),x=void 0):x=[]:x?x.push(C):C=="{"?(B.push([O,A]),O={},A=void 0):C=="}"?((P=B.pop())[0][P[1]]=O,A=void 0,O=P[0]):C=="-"?F=-1:A===void 0?a.hasOwnProperty(C)?(H+=a[C],A=parseInt(H,16)*F,F=1,H=""):H+=C:a.hasOwnProperty(C)?(ee+=a[C],O[A]=parseInt(ee,16)*F,F=1,A=void 0,ee=""):ee+=C;return S},p={codePages:["WinAnsiEncoding"],WinAnsiEncoding:m("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},y={Unicode:{Courier:p,"Courier-Bold":p,"Courier-BoldOblique":p,"Courier-Oblique":p,Helvetica:p,"Helvetica-Bold":p,"Helvetica-BoldOblique":p,"Helvetica-Oblique":p,"Times-Roman":p,"Times-Bold":p,"Times-BoldItalic":p,"Times-Italic":p}},j={Unicode:{"Courier-Oblique":m("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":m("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":m("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:m("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":m("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":m("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:m("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:m("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":m("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:m("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":m("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":m("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":m("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":m("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};r.events.push(["addFont",function(_){var x=_.font,P=j.Unicode[x.postScriptName];P&&(x.metadata.Unicode={},x.metadata.Unicode.widths=P.widths,x.metadata.Unicode.kerning=P.kerning);var A=y.Unicode[x.postScriptName];A&&(x.metadata.Unicode.encoding=A,x.encoding=A.codePages[0])}])})(ft.API),(function(r){var t=function(e){for(var a=e.length,s=new Uint8Array(a),l=0;l<a;l++)s[l]=e.charCodeAt(l);return s};r.API.events.push(["addFont",function(e){var a=void 0,s=e.font,l=e.instance;if(!s.isStandardFont){if(l===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(a=l.existsFileInVFS(s.postScriptName)===!1?l.loadFile(s.postScriptName):l.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(d,u){u=/^\x00\x01\x00\x00/.test(u)?t(u):t(bu(u)),d.metadata=r.API.TTFFont.open(u),d.metadata.Unicode=d.metadata.Unicode||{encoding:{},kerning:{},widths:[]},d.metadata.glyIdsUsed=[0]})(s,a)}}])})(ft),ft.API.addSvgAsImage=function(r,t,e,a,s,l,d,u){if(isNaN(t)||isNaN(e))throw yr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(s))throw yr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var m=document.createElement("canvas");m.width=a,m.height=s;var p=m.getContext("2d");p.fillStyle="#fff",p.fillRect(0,0,m.width,m.height);var y={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},j=this;return(Bt.canvg?Promise.resolve(Bt.canvg):Wh(()=>import("./index.es-gQA1ep7x.js"),[])).catch(function(_){return Promise.reject(new Error("Could not load canvg: "+_))}).then(function(_){return _.default?_.default:_}).then(function(_){return _.fromString(p,r,y)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(_){return _.render(y)}).then(function(){j.addImage(m.toDataURL("image/jpeg",1),t,e,a,s,d,u)})},ft.API.putTotalPages=function(r){var t,e=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(r,"g"),e=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(r,this.internal.getFont()),"g"),e=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var a=1;a<=this.internal.getNumberOfPages();a++)for(var s=0;s<this.internal.pages[a].length;s++)this.internal.pages[a][s]=this.internal.pages[a][s].replace(t,e);return this},ft.API.viewerPreferences=function(r,t){var e;r=r||{},t=t||!1;var a,s,l,d={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},u=Object.keys(d),m=[],p=0,y=0,j=0;function _(P,A){var C,S=!1;for(C=0;C<P.length;C+=1)P[C]===A&&(S=!0);return S}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(d)),this.internal.viewerpreferences.isSubscribed=!1),e=this.internal.viewerpreferences.configuration,r==="reset"||t===!0){var x=u.length;for(j=0;j<x;j+=1)e[u[j]].value=e[u[j]].defaultValue,e[u[j]].explicitSet=!1}if(ur(r)==="object"){for(s in r)if(l=r[s],_(u,s)&&l!==void 0){if(e[s].type==="boolean"&&typeof l=="boolean")e[s].value=l;else if(e[s].type==="name"&&_(e[s].valueSet,l))e[s].value=l;else if(e[s].type==="integer"&&Number.isInteger(l))e[s].value=l;else if(e[s].type==="array"){for(p=0;p<l.length;p+=1)if(a=!0,l[p].length===1&&typeof l[p][0]=="number")m.push(String(l[p]-1));else if(l[p].length>1){for(y=0;y<l[p].length;y+=1)typeof l[p][y]!="number"&&(a=!1);a===!0&&m.push([l[p][0]-1,l[p][1]-1].join(" "))}e[s].value="["+m.join(" ")+"]"}else e[s].value=e[s].defaultValue;e[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var P,A=[];for(P in e)e[P].explicitSet===!0&&(e[P].type==="name"?A.push("/"+P+" /"+e[P].value):A.push("/"+P+" "+e[P].value));A.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+A.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=e,this},(function(r){var t=function(){var a='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),l=unescape(encodeURIComponent(a)),d=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),u=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),m=unescape(encodeURIComponent("</x:xmpmeta>")),p=l.length+d.length+u.length+s.length+m.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+p+" >>"),this.internal.write("stream"),this.internal.write(s+l+d+u+m),this.internal.write("endstream"),this.internal.write("endobj")},e=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};r.addMetadata=function(a,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:a,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",e),this.internal.events.subscribe("postPutResources",t)),this}})(ft.API),(function(r){var t=r.API,e=t.pdfEscape16=function(l,d){for(var u,m=d.metadata.Unicode.widths,p=["","0","00","000","0000"],y=[""],j=0,_=l.length;j<_;++j){if(u=d.metadata.characterToGlyph(l.charCodeAt(j)),d.metadata.glyIdsUsed.push(u),d.metadata.toUnicode[u]=l.charCodeAt(j),m.indexOf(u)==-1&&(m.push(u),m.push([parseInt(d.metadata.widthOfGlyph(u),10)])),u=="0")return y.join("");u=u.toString(16),y.push(p[4-u.length],u)}return y.join("")},a=function(l){var d,u,m,p,y,j,_;for(y=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,m=[],j=0,_=(u=Object.keys(l).sort(function(x,P){return x-P})).length;j<_;j++)d=u[j],m.length>=100&&(y+=`
`+m.length+` beginbfchar
`+m.join(`
`)+`
endbfchar`,m=[]),l[d]!==void 0&&l[d]!==null&&typeof l[d].toString=="function"&&(p=("0000"+l[d].toString(16)).slice(-4),d=("0000"+(+d).toString(16)).slice(-4),m.push("<"+d+"><"+p+">"));return m.length&&(y+=`
`+m.length+` beginbfchar
`+m.join(`
`)+`
endbfchar
`),y+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(l){(function(d){var u=d.font,m=d.out,p=d.newObject,y=d.putStream;if(u.metadata instanceof r.API.TTFFont&&u.encoding==="Identity-H"){for(var j=u.metadata.Unicode.widths,_=u.metadata.subset.encode(u.metadata.glyIdsUsed,1),x="",P=0;P<_.length;P++)x+=String.fromCharCode(_[P]);var A=p();y({data:x,addLength1:!0,objectId:A}),m("endobj");var C=p();y({data:a(u.metadata.toUnicode),addLength1:!0,objectId:C}),m("endobj");var S=p();m("<<"),m("/Type /FontDescriptor"),m("/FontName /"+mc(u.fontName)),m("/FontFile2 "+A+" 0 R"),m("/FontBBox "+r.API.PDFObject.convert(u.metadata.bbox)),m("/Flags "+u.metadata.flags),m("/StemV "+u.metadata.stemV),m("/ItalicAngle "+u.metadata.italicAngle),m("/Ascent "+u.metadata.ascender),m("/Descent "+u.metadata.decender),m("/CapHeight "+u.metadata.capHeight),m(">>"),m("endobj");var F=p();m("<<"),m("/Type /Font"),m("/BaseFont /"+mc(u.fontName)),m("/FontDescriptor "+S+" 0 R"),m("/W "+r.API.PDFObject.convert(j)),m("/CIDToGIDMap /Identity"),m("/DW 1000"),m("/Subtype /CIDFontType2"),m("/CIDSystemInfo"),m("<<"),m("/Supplement 0"),m("/Registry (Adobe)"),m("/Ordering ("+u.encoding+")"),m(">>"),m(">>"),m("endobj"),u.objectNumber=p(),m("<<"),m("/Type /Font"),m("/Subtype /Type0"),m("/ToUnicode "+C+" 0 R"),m("/BaseFont /"+mc(u.fontName)),m("/Encoding /"+u.encoding),m("/DescendantFonts ["+F+" 0 R]"),m(">>"),m("endobj"),u.isAlreadyPutted=!0}})(l)}]),t.events.push(["putFont",function(l){(function(d){var u=d.font,m=d.out,p=d.newObject,y=d.putStream;if(u.metadata instanceof r.API.TTFFont&&u.encoding==="WinAnsiEncoding"){for(var j=u.metadata.rawData,_="",x=0;x<j.length;x++)_+=String.fromCharCode(j[x]);var P=p();y({data:_,addLength1:!0,objectId:P}),m("endobj");var A=p();y({data:a(u.metadata.toUnicode),addLength1:!0,objectId:A}),m("endobj");var C=p();m("<<"),m("/Descent "+u.metadata.decender),m("/CapHeight "+u.metadata.capHeight),m("/StemV "+u.metadata.stemV),m("/Type /FontDescriptor"),m("/FontFile2 "+P+" 0 R"),m("/Flags 96"),m("/FontBBox "+r.API.PDFObject.convert(u.metadata.bbox)),m("/FontName /"+mc(u.fontName)),m("/ItalicAngle "+u.metadata.italicAngle),m("/Ascent "+u.metadata.ascender),m(">>"),m("endobj"),u.objectNumber=p();for(var S=0;S<u.metadata.hmtx.widths.length;S++)u.metadata.hmtx.widths[S]=parseInt(u.metadata.hmtx.widths[S]*(1e3/u.metadata.head.unitsPerEm));m("<</Subtype/TrueType/Type/Font/ToUnicode "+A+" 0 R/BaseFont/"+mc(u.fontName)+"/FontDescriptor "+C+" 0 R/Encoding/"+u.encoding+" /FirstChar 29 /LastChar 255 /Widths "+r.API.PDFObject.convert(u.metadata.hmtx.widths)+">>"),m("endobj"),u.isAlreadyPutted=!0}})(l)}]);var s=function(l){var d,u=l.text||"",m=l.x,p=l.y,y=l.options||{},j=l.mutex||{},_=j.pdfEscape,x=j.activeFontKey,P=j.fonts,A=x,C="",S=0,F="",O=P[A].encoding;if(P[A].encoding!=="Identity-H")return{text:u,x:m,y:p,options:y,mutex:j};for(F=u,A=x,Array.isArray(u)&&(F=u[0]),S=0;S<F.length;S+=1)P[A].metadata.hasOwnProperty("cmap")&&(d=P[A].metadata.cmap.unicode.codeMap[F[S].charCodeAt(0)]),d||F[S].charCodeAt(0)<256&&P[A].metadata.hasOwnProperty("Unicode")?C+=F[S]:C+="";var B="";return parseInt(A.slice(1))<14||O==="WinAnsiEncoding"?B=_(C,A).split("").map(function(H){return H.charCodeAt(0).toString(16)}).join(""):O==="Identity-H"&&(B=e(C,P[A])),j.isHex=!0,{text:B,x:m,y:p,options:y,mutex:j}};t.events.push(["postProcessText",function(l){var d=l.text||"",u=[],m={text:d,x:l.x,y:l.y,options:l.options,mutex:l.mutex};if(Array.isArray(d)){var p=0;for(p=0;p<d.length;p+=1)Array.isArray(d[p])&&d[p].length===3?u.push([s(Object.assign({},m,{text:d[p][0]})).text,d[p][1],d[p][2]]):u.push(s(Object.assign({},m,{text:d[p]})).text);l.text=u}else l.text=s(Object.assign({},m,{text:d})).text}])})(ft),(function(r){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};r.existsFileInVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0},r.addFileToVFS=function(e,a){return t.call(this),this.internal.vFS[e]=a,this},r.getFileFromVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0?this.internal.vFS[e]:null}})(ft.API),(function(r){r.__bidiEngine__=r.prototype.__bidiEngine__=function(a){var s,l,d,u,m,p,y,j=t,_=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],x=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],P={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},A={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},C=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],S=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),F=!1,O=0;this.__bidiEngine__={};var B=function(D){var k=D.charCodeAt(),X=k>>8,R=A[X];return R!==void 0?j[256*R+(255&k)]:X===252||X===253?"AL":S.test(X)?"L":X===8?"R":"N"},H=function(D){for(var k,X=0;X<D.length;X++){if((k=B(D.charAt(X)))==="L")return!1;if(k==="R")return!0}return!1},ee=function(D,k,X,R){var se,xe,de,oe,be=k[R];switch(be){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":F=!1;break;case"N":case"AN":break;case"EN":F&&(be="AN");break;case"AL":F=!0,be="R";break;case"WS":case"BN":be="N";break;case"CS":R<1||R+1>=k.length||(se=X[R-1])!=="EN"&&se!=="AN"||(xe=k[R+1])!=="EN"&&xe!=="AN"?be="N":F&&(xe="AN"),be=xe===se?xe:"N";break;case"ES":be=(se=R>0?X[R-1]:"B")==="EN"&&R+1<k.length&&k[R+1]==="EN"?"EN":"N";break;case"ET":if(R>0&&X[R-1]==="EN"){be="EN";break}if(F){be="N";break}for(de=R+1,oe=k.length;de<oe&&k[de]==="ET";)de++;be=de<oe&&k[de]==="EN"?"EN":"N";break;case"NSM":if(d&&!u){for(oe=k.length,de=R+1;de<oe&&k[de]==="NSM";)de++;if(de<oe){var je=D[R],Q=je>=1425&&je<=2303||je===64286;if(se=k[de],Q&&(se==="R"||se==="AL")){be="R";break}}}be=R<1||(se=k[R-1])==="B"?"N":X[R-1];break;case"B":F=!1,s=!0,be=O;break;case"S":l=!0,be="N"}return be},ce=function(D,k,X){var R=D.split("");return X&&W(R,X,{hiLevel:O}),R.reverse(),k&&k.reverse(),R.join("")},W=function(D,k,X){var R,se,xe,de,oe,be=-1,je=D.length,Q=0,L=[],U=O?x:_,M=[];for(F=!1,s=!1,l=!1,se=0;se<je;se++)M[se]=B(D[se]);for(xe=0;xe<je;xe++){if(oe=Q,L[xe]=ee(D,M,L,xe),R=240&(Q=U[oe][P[L[xe]]]),Q&=15,k[xe]=de=U[Q][5],R>0)if(R===16){for(se=be;se<xe;se++)k[se]=1;be=-1}else be=-1;if(U[Q][6])be===-1&&(be=xe);else if(be>-1){for(se=be;se<xe;se++)k[se]=de;be=-1}M[xe]==="B"&&(k[xe]=0),X.hiLevel|=de}l&&(function(K,Z,ae){for(var he=0;he<ae;he++)if(K[he]==="S"){Z[he]=O;for(var pe=he-1;pe>=0&&K[pe]==="WS";pe--)Z[pe]=O}})(M,k,je)},I=function(D,k,X,R,se){if(!(se.hiLevel<D)){if(D===1&&O===1&&!s)return k.reverse(),void(X&&X.reverse());for(var xe,de,oe,be,je=k.length,Q=0;Q<je;){if(R[Q]>=D){for(oe=Q+1;oe<je&&R[oe]>=D;)oe++;for(be=Q,de=oe-1;be<de;be++,de--)xe=k[be],k[be]=k[de],k[de]=xe,X&&(xe=X[be],X[be]=X[de],X[de]=xe);Q=oe}Q++}}},J=function(D,k,X){var R=D.split(""),se={hiLevel:O};return X||(X=[]),W(R,X,se),(function(xe,de,oe){if(oe.hiLevel!==0&&y)for(var be,je=0;je<xe.length;je++)de[je]===1&&(be=C.indexOf(xe[je]))>=0&&(xe[je]=C[be+1])})(R,X,se),I(2,R,k,X,se),I(1,R,k,X,se),R.join("")};return this.__bidiEngine__.doBidiReorder=function(D,k,X){if((function(se,xe){if(xe)for(var de=0;de<se.length;de++)xe[de]=de;u===void 0&&(u=H(se)),p===void 0&&(p=H(se))})(D,k),d||!m||p)if(d&&m&&u^p)O=u?1:0,D=ce(D,k,X);else if(!d&&m&&p)O=u?1:0,D=J(D,k,X),D=ce(D,k);else if(!d||u||m||p){if(d&&!m&&u^p)D=ce(D,k),u?(O=0,D=J(D,k,X)):(O=1,D=J(D,k,X),D=ce(D,k));else if(d&&u&&!m&&p)O=1,D=J(D,k,X),D=ce(D,k);else if(!d&&!m&&u^p){var R=y;u?(O=1,D=J(D,k,X),O=0,y=!1,D=J(D,k,X),y=R):(O=0,D=J(D,k,X),D=ce(D,k),O=1,y=!1,D=J(D,k,X),y=R,D=ce(D,k))}}else O=0,D=J(D,k,X);else O=u?1:0,D=J(D,k,X);return D},this.__bidiEngine__.setOptions=function(D){D&&(d=D.isInputVisual,m=D.isOutputVisual,u=D.isInputRtl,p=D.isOutputRtl,y=D.isSymmetricSwapping)},this.__bidiEngine__.setOptions(a),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],e=new r.__bidiEngine__({isInputVisual:!0});r.API.events.push(["postProcessText",function(a){var s=a.text;a.x,a.y;var l=a.options||{};a.mutex,l.lang;var d=[];if(l.isInputVisual=typeof l.isInputVisual!="boolean"||l.isInputVisual,e.setOptions(l),Object.prototype.toString.call(s)==="[object Array]"){var u=0;for(d=[],u=0;u<s.length;u+=1)Object.prototype.toString.call(s[u])==="[object Array]"?d.push([e.doBidiReorder(s[u][0]),s[u][1],s[u][2]]):d.push([e.doBidiReorder(s[u])]);a.text=d}else a.text=e.doBidiReorder(s);e.setOptions({isInputVisual:!0})}])})(ft),ft.API.TTFFont=(function(){function r(t){var e;if(this.rawData=t,e=this.contents=new Ms(t),this.contents.pos=4,e.readString(4)==="ttcf")throw new Error("TTCF not supported.");e.pos=0,this.parse(),this.subset=new tb(this),this.registerTTF()}return r.open=function(t){return new r(t)},r.prototype.parse=function(){return this.directory=new Dv(this.contents),this.head=new Vv(this),this.name=new Kv(this),this.cmap=new vg(this),this.toUnicode={},this.hhea=new Uv(this),this.maxp=new Yv(this),this.hmtx=new Jv(this),this.post=new Hv(this),this.os2=new qv(this),this.loca=new eb(this),this.glyf=new Xv(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},r.prototype.registerTTF=function(){var t,e,a,s,l;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var d,u,m,p;for(p=[],d=0,u=(m=this.bbox).length;d<u;d++)t=m[d],p.push(Math.round(t*this.scaleFactor));return p}).call(this),this.stemV=0,this.post.exists?(a=255&(s=this.post.italic_angle),32768&(e=s>>16)&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+a)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(l=this.familyClass)===1||l===2||l===3||l===4||l===5||l===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},r.prototype.characterToGlyph=function(t){var e;return((e=this.cmap.unicode)!=null?e.codeMap[t]:void 0)||0},r.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},r.prototype.widthOfString=function(t,e,a){var s,l,d,u;for(d=0,l=0,u=(t=""+t).length;0<=u?l<u:l>u;l=0<=u?++l:--l)s=t.charCodeAt(l),d+=this.widthOfGlyph(this.characterToGlyph(s))+a*(1e3/e)||0;return d*(e/1e3)},r.prototype.lineHeight=function(t,e){var a;return e==null&&(e=!1),a=e?this.lineGap:0,(this.ascender+a-this.decender)/1e3*t},r})();var Oo,Ms=(function(){function r(t){this.data=t??[],this.pos=0,this.length=this.data.length}return r.prototype.readByte=function(){return this.data[this.pos++]},r.prototype.writeByte=function(t){return this.data[this.pos++]=t},r.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},r.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},r.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},r.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},r.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},r.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},r.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},r.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},r.prototype.readString=function(t){var e,a;for(a=[],e=0;0<=t?e<t:e>t;e=0<=t?++e:--e)a[e]=String.fromCharCode(this.readByte());return a.join("")},r.prototype.writeString=function(t){var e,a,s;for(s=[],e=0,a=t.length;0<=a?e<a:e>a;e=0<=a?++e:--e)s.push(this.writeByte(t.charCodeAt(e)));return s},r.prototype.readShort=function(){return this.readInt16()},r.prototype.writeShort=function(t){return this.writeInt16(t)},r.prototype.readLongLong=function(){var t,e,a,s,l,d,u,m;return t=this.readByte(),e=this.readByte(),a=this.readByte(),s=this.readByte(),l=this.readByte(),d=this.readByte(),u=this.readByte(),m=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^a)+4294967296*(255^s)+16777216*(255^l)+65536*(255^d)+256*(255^u)+(255^m)+1):72057594037927940*t+281474976710656*e+1099511627776*a+4294967296*s+16777216*l+65536*d+256*u+m},r.prototype.writeLongLong=function(t){var e,a;return e=Math.floor(t/4294967296),a=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(a>>24&255),this.writeByte(a>>16&255),this.writeByte(a>>8&255),this.writeByte(255&a)},r.prototype.readInt=function(){return this.readInt32()},r.prototype.writeInt=function(t){return this.writeInt32(t)},r.prototype.read=function(t){var e,a;for(e=[],a=0;0<=t?a<t:a>t;a=0<=t?++a:--a)e.push(this.readByte());return e},r.prototype.write=function(t){var e,a,s,l;for(l=[],a=0,s=t.length;a<s;a++)e=t[a],l.push(this.writeByte(e));return l},r})(),Dv=(function(){var r;function t(e){var a,s,l;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},s=0,l=this.tableCount;0<=l?s<l:s>l;s=0<=l?++s:--s)a={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[a.tag]=a}return t.prototype.encode=function(e){var a,s,l,d,u,m,p,y,j,_,x,P,A;for(A in x=Object.keys(e).length,m=Math.log(2),j=16*Math.floor(Math.log(x)/m),d=Math.floor(j/m),y=16*x-j,(s=new Ms).writeInt(this.scalarType),s.writeShort(x),s.writeShort(j),s.writeShort(d),s.writeShort(y),l=16*x,p=s.pos+l,u=null,P=[],e)for(_=e[A],s.writeString(A),s.writeInt(r(_)),s.writeInt(p),s.writeInt(_.length),P=P.concat(_),A==="head"&&(u=p),p+=_.length;p%4;)P.push(0),p++;return s.write(P),a=2981146554-r(s.data),s.pos=u+8,s.writeUInt32(a),s.data},r=function(e){var a,s,l,d;for(e=bg.call(e);e.length%4;)e.push(0);for(l=new Ms(e),s=0,a=0,d=e.length;a<d;a=a+=4)s+=l.readUInt32();return 4294967295&s},t})(),$v={}.hasOwnProperty,la=function(r,t){for(var e in t)$v.call(t,e)&&(r[e]=t[e]);function a(){this.constructor=r}return a.prototype=t.prototype,r.prototype=new a,r.__super__=t.prototype,r};Oo=(function(){function r(t){var e;this.file=t,e=this.file.directory.tables[this.tag],this.exists=!!e,e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return r.prototype.parse=function(){},r.prototype.encode=function(){},r.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},r})();var Vv=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return la(r,Oo),r.prototype.tag="head",r.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},r.prototype.encode=function(t){var e;return(e=new Ms).writeInt(this.version),e.writeInt(this.revision),e.writeInt(this.checkSumAdjustment),e.writeInt(this.magicNumber),e.writeShort(this.flags),e.writeShort(this.unitsPerEm),e.writeLongLong(this.created),e.writeLongLong(this.modified),e.writeShort(this.xMin),e.writeShort(this.yMin),e.writeShort(this.xMax),e.writeShort(this.yMax),e.writeShort(this.macStyle),e.writeShort(this.lowestRecPPEM),e.writeShort(this.fontDirectionHint),e.writeShort(t),e.writeShort(this.glyphDataFormat),e.data},r})(),Nm=(function(){function r(t,e){var a,s,l,d,u,m,p,y,j,_,x,P,A,C,S,F,O;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=e+t.readInt(),j=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(m=0;m<256;++m)this.codeMap[m]=t.readByte();break;case 4:for(x=t.readUInt16(),_=x/2,t.pos+=6,l=(function(){var B,H;for(H=[],m=B=0;0<=_?B<_:B>_;m=0<=_?++B:--B)H.push(t.readUInt16());return H})(),t.pos+=2,A=(function(){var B,H;for(H=[],m=B=0;0<=_?B<_:B>_;m=0<=_?++B:--B)H.push(t.readUInt16());return H})(),p=(function(){var B,H;for(H=[],m=B=0;0<=_?B<_:B>_;m=0<=_?++B:--B)H.push(t.readUInt16());return H})(),y=(function(){var B,H;for(H=[],m=B=0;0<=_?B<_:B>_;m=0<=_?++B:--B)H.push(t.readUInt16());return H})(),s=(this.length-t.pos+this.offset)/2,u=(function(){var B,H;for(H=[],m=B=0;0<=s?B<s:B>s;m=0<=s?++B:--B)H.push(t.readUInt16());return H})(),m=S=0,O=l.length;S<O;m=++S)for(C=l[m],a=F=P=A[m];P<=C?F<=C:F>=C;a=P<=C?++F:--F)y[m]===0?d=a+p[m]:(d=u[y[m]/2+(a-P)-(_-m)]||0)!==0&&(d+=p[m]),this.codeMap[a]=65535&d}t.pos=j}return r.encode=function(t,e){var a,s,l,d,u,m,p,y,j,_,x,P,A,C,S,F,O,B,H,ee,ce,W,I,J,D,k,X,R,se,xe,de,oe,be,je,Q,L,U,M,K,Z,ae,he,pe,ue,Te,Oe;switch(R=new Ms,d=Object.keys(t).sort(function(We,Le){return We-Le}),e){case"macroman":for(A=0,C=(function(){var We=[];for(P=0;P<256;++P)We.push(0);return We})(),F={0:0},l={},se=0,be=d.length;se<be;se++)F[pe=t[s=d[se]]]==null&&(F[pe]=++A),l[s]={old:t[s],new:F[t[s]]},C[s]=F[t[s]];return R.writeUInt16(1),R.writeUInt16(0),R.writeUInt32(12),R.writeUInt16(0),R.writeUInt16(262),R.writeUInt16(0),R.write(C),{charMap:l,subtable:R.data,maxGlyphID:A+1};case"unicode":for(k=[],j=[],O=0,F={},a={},S=p=null,xe=0,je=d.length;xe<je;xe++)F[H=t[s=d[xe]]]==null&&(F[H]=++O),a[s]={old:H,new:F[H]},u=F[H]-s,S!=null&&u===p||(S&&j.push(S),k.push(s),p=u),S=s;for(S&&j.push(S),j.push(65535),k.push(65535),J=2*(I=k.length),W=2*Math.pow(Math.log(I)/Math.LN2,2),_=Math.log(W/2)/Math.LN2,ce=2*I-W,m=[],ee=[],x=[],P=de=0,Q=k.length;de<Q;P=++de){if(D=k[P],y=j[P],D===65535){m.push(0),ee.push(0);break}if(D-(X=a[D].new)>=32768)for(m.push(0),ee.push(2*(x.length+I-P)),s=oe=D;D<=y?oe<=y:oe>=y;s=D<=y?++oe:--oe)x.push(a[s].new);else m.push(X-D),ee.push(0)}for(R.writeUInt16(3),R.writeUInt16(1),R.writeUInt32(12),R.writeUInt16(4),R.writeUInt16(16+8*I+2*x.length),R.writeUInt16(0),R.writeUInt16(J),R.writeUInt16(W),R.writeUInt16(_),R.writeUInt16(ce),ae=0,L=j.length;ae<L;ae++)s=j[ae],R.writeUInt16(s);for(R.writeUInt16(0),he=0,U=k.length;he<U;he++)s=k[he],R.writeUInt16(s);for(ue=0,M=m.length;ue<M;ue++)u=m[ue],R.writeUInt16(u);for(Te=0,K=ee.length;Te<K;Te++)B=ee[Te],R.writeUInt16(B);for(Oe=0,Z=x.length;Oe<Z;Oe++)A=x[Oe],R.writeUInt16(A);return{charMap:a,subtable:R.data,maxGlyphID:O+1}}},r})(),vg=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return la(r,Oo),r.prototype.tag="cmap",r.prototype.parse=function(t){var e,a,s;for(t.pos=this.offset,this.version=t.readUInt16(),s=t.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=s?a<s:a>s;a=0<=s?++a:--a)e=new Nm(t,this.offset),this.tables.push(e),e.isUnicode&&this.unicode==null&&(this.unicode=e);return!0},r.encode=function(t,e){var a,s;return e==null&&(e="macroman"),a=Nm.encode(t,e),(s=new Ms).writeUInt16(0),s.writeUInt16(1),a.table=s.data.concat(a.subtable),a},r})(),Uv=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return la(r,Oo),r.prototype.tag="hhea",r.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},r})(),qv=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return la(r,Oo),r.prototype.tag="OS/2",r.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=(function(){var e,a;for(a=[],e=0;e<10;++e)a.push(t.readByte());return a})(),this.charRange=(function(){var e,a;for(a=[],e=0;e<4;++e)a.push(t.readInt());return a})(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=(function(){var e,a;for(a=[],e=0;e<2;e=++e)a.push(t.readInt());return a})(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},r})(),Hv=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return la(r,Oo),r.prototype.tag="post",r.prototype.parse=function(t){var e,a,s;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var l;for(a=t.readUInt16(),this.glyphNameIndex=[],l=0;0<=a?l<a:l>a;l=0<=a?++l:--l)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],s=[];t.pos<this.offset+this.length;)e=t.readByte(),s.push(this.names.push(t.readString(e)));return s;case 151552:return a=t.readUInt16(),this.offsets=t.read(a);case 262144:return this.map=(function(){var d,u,m;for(m=[],l=d=0,u=this.file.maxp.numGlyphs;0<=u?d<u:d>u;l=0<=u?++d:--d)m.push(t.readUInt32());return m}).call(this)}},r})(),Gv=function(r,t){this.raw=r,this.length=r.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},Kv=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return la(r,Oo),r.prototype.tag="name",r.prototype.parse=function(t){var e,a,s,l,d,u,m,p,y,j,_;for(t.pos=this.offset,t.readShort(),e=t.readShort(),u=t.readShort(),a=[],l=0;0<=e?l<e:l>e;l=0<=e?++l:--l)a.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+u+t.readShort()});for(m={},l=y=0,j=a.length;y<j;l=++y)s=a[l],t.pos=s.offset,p=t.readString(s.length),d=new Gv(p,s),m[_=s.nameID]==null&&(m[_]=[]),m[s.nameID].push(d);this.strings=m,this.copyright=m[0],this.fontFamily=m[1],this.fontSubfamily=m[2],this.uniqueSubfamily=m[3],this.fontName=m[4],this.version=m[5];try{this.postscriptName=m[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=m[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=m[7],this.manufacturer=m[8],this.designer=m[9],this.description=m[10],this.vendorUrl=m[11],this.designerUrl=m[12],this.license=m[13],this.licenseUrl=m[14],this.preferredFamily=m[15],this.preferredSubfamily=m[17],this.compatibleFull=m[18],this.sampleText=m[19]},r})(),Yv=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return la(r,Oo),r.prototype.tag="maxp",r.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},r})(),Jv=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return la(r,Oo),r.prototype.tag="hmtx",r.prototype.parse=function(t){var e,a,s,l,d,u,m;for(t.pos=this.offset,this.metrics=[],e=0,u=this.file.hhea.numberOfMetrics;0<=u?e<u:e>u;e=0<=u?++e:--e)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var p,y;for(y=[],e=p=0;0<=s?p<s:p>s;e=0<=s?++p:--p)y.push(t.readInt16());return y})(),this.widths=(function(){var p,y,j,_;for(_=[],p=0,y=(j=this.metrics).length;p<y;p++)l=j[p],_.push(l.advance);return _}).call(this),a=this.widths[this.widths.length-1],m=[],e=d=0;0<=s?d<s:d>s;e=0<=s?++d:--d)m.push(this.widths.push(a));return m},r.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},r})(),bg=[].slice,Xv=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return la(r,Oo),r.prototype.tag="glyf",r.prototype.parse=function(){return this.cache={}},r.prototype.glyphFor=function(t){var e,a,s,l,d,u,m,p,y,j;return t in this.cache?this.cache[t]:(l=this.file.loca,e=this.file.contents,a=l.indexOf(t),(s=l.lengthOf(t))===0?this.cache[t]=null:(e.pos=this.offset+a,d=(u=new Ms(e.read(s))).readShort(),p=u.readShort(),j=u.readShort(),m=u.readShort(),y=u.readShort(),this.cache[t]=d===-1?new Qv(u,p,j,m,y):new Zv(u,d,p,j,m,y),this.cache[t]))},r.prototype.encode=function(t,e,a){var s,l,d,u,m;for(d=[],l=[],u=0,m=e.length;u<m;u++)s=t[e[u]],l.push(d.length),s&&(d=d.concat(s.encode(a)));return l.push(d.length),{table:d,offsets:l}},r})(),Zv=(function(){function r(t,e,a,s,l,d){this.raw=t,this.numberOfContours=e,this.xMin=a,this.yMin=s,this.xMax=l,this.yMax=d,this.compound=!1}return r.prototype.encode=function(){return this.raw.data},r})(),Qv=(function(){function r(t,e,a,s,l){var d,u;for(this.raw=t,this.xMin=e,this.yMin=a,this.xMax=s,this.yMax=l,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],d=this.raw;u=d.readShort(),this.glyphOffsets.push(d.pos),this.glyphIDs.push(d.readUInt16()),32&u;)d.pos+=1&u?4:2,128&u?d.pos+=8:64&u?d.pos+=4:8&u&&(d.pos+=2)}return r.prototype.encode=function(){var t,e,a;for(e=new Ms(bg.call(this.raw.data)),t=0,a=this.glyphIDs.length;t<a;++t)e.pos=this.glyphOffsets[t];return e.data},r})(),eb=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return la(r,Oo),r.prototype.tag="loca",r.prototype.parse=function(t){var e,a;return t.pos=this.offset,e=this.file.head.indexToLocFormat,this.offsets=e===0?(function(){var s,l;for(l=[],a=0,s=this.length;a<s;a+=2)l.push(2*t.readUInt16());return l}).call(this):(function(){var s,l;for(l=[],a=0,s=this.length;a<s;a+=4)l.push(t.readUInt32());return l}).call(this)},r.prototype.indexOf=function(t){return this.offsets[t]},r.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},r.prototype.encode=function(t,e){for(var a=new Uint32Array(this.offsets.length),s=0,l=0,d=0;d<a.length;++d)if(a[d]=s,l<e.length&&e[l]==d){++l,a[d]=s;var u=this.offsets[d],m=this.offsets[d+1]-u;m>0&&(s+=m)}for(var p=new Array(4*a.length),y=0;y<a.length;++y)p[4*y+3]=255&a[y],p[4*y+2]=(65280&a[y])>>8,p[4*y+1]=(16711680&a[y])>>16,p[4*y]=(4278190080&a[y])>>24;return p},r})(),tb=(function(){function r(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return r.prototype.generateCmap=function(){var t,e,a,s,l;for(e in s=this.font.cmap.tables[0].codeMap,t={},l=this.subset)a=l[e],t[e]=s[a];return t},r.prototype.glyphsFor=function(t){var e,a,s,l,d,u,m;for(s={},d=0,u=t.length;d<u;d++)s[l=t[d]]=this.font.glyf.glyphFor(l);for(l in e=[],s)(a=s[l])!=null&&a.compound&&e.push.apply(e,a.glyphIDs);if(e.length>0)for(l in m=this.glyphsFor(e))a=m[l],s[l]=a;return s},r.prototype.encode=function(t,e){var a,s,l,d,u,m,p,y,j,_,x,P,A,C,S;for(s in a=vg.encode(this.generateCmap(),"unicode"),d=this.glyphsFor(t),x={0:0},S=a.charMap)x[(m=S[s]).old]=m.new;for(P in _=a.maxGlyphID,d)P in x||(x[P]=_++);return y=(function(F){var O,B;for(O in B={},F)B[F[O]]=O;return B})(x),j=Object.keys(y).sort(function(F,O){return F-O}),A=(function(){var F,O,B;for(B=[],F=0,O=j.length;F<O;F++)u=j[F],B.push(y[u]);return B})(),l=this.font.glyf.encode(d,A,x),p=this.font.loca.encode(l.offsets,A),C={cmap:this.font.cmap.raw(),glyf:l.table,loca:p,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(C["OS/2"]=this.font.os2.raw()),this.font.directory.encode(C)},r})();ft.API.PDFObject=(function(){var r;function t(){}return r=function(e,a){return(Array(a+1).join("0")+e).slice(-a)},t.convert=function(e){var a,s,l,d;if(Array.isArray(e))return"["+(function(){var u,m,p;for(p=[],u=0,m=e.length;u<m;u++)a=e[u],p.push(t.convert(a));return p})().join(" ")+"]";if(typeof e=="string")return"/"+e;if(e!=null&&e.isString)return"("+e+")";if(e instanceof Date)return"(D:"+r(e.getUTCFullYear(),4)+r(e.getUTCMonth(),2)+r(e.getUTCDate(),2)+r(e.getUTCHours(),2)+r(e.getUTCMinutes(),2)+r(e.getUTCSeconds(),2)+"Z)";if({}.toString.call(e)==="[object Object]"){for(s in l=["<<"],e)d=e[s],l.push("/"+s+" "+t.convert(d));return l.push(">>"),l.join(`
`)}return""+e},t})();const Er=r=>{const{calculatorName:t,inputs:e,results:a,necReferences:s,additionalInfo:l}=r,d=new ft({orientation:"portrait",unit:"mm",format:"letter"}),u=d.internal.pageSize.getWidth(),m=d.internal.pageSize.getHeight(),p=15,y=u-p*2;let j=p;const _=H=>j+H>m-p?(d.addPage(),j=p,!0):!1,x=(H,ee,ce,W,I=10)=>{d.setFontSize(I);const J=d.splitTextToSize(H,W);return d.text(J,ee,ce),J.length*(I*.4)};d.setFillColor(37,99,235),d.rect(0,0,u,25,"F"),d.setTextColor(255,255,255),d.setFontSize(20),d.setFont("helvetica","bold"),d.text("Electrician Toolkit",p,12),d.setFontSize(12),d.setFont("helvetica","normal"),d.text(t,p,19),d.setFontSize(9);const P=new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});d.text(P,u-p-d.getTextWidth(P),19),j=35,d.setTextColor(0,0,0),d.setFontSize(14),d.setFont("helvetica","bold"),d.text("Input Parameters",p,j),j+=7,d.setDrawColor(37,99,235),d.setLineWidth(.5),d.line(p,j,u-p,j),j+=5,d.setFontSize(10),d.setFont("helvetica","normal"),Object.entries(e).forEach(([H,ee])=>{_(10);const ce=H.replace(/([A-Z])/g," $1").trim(),W=ce.charAt(0).toUpperCase()+ce.slice(1);d.setFont("helvetica","bold");const I=`${W}:`;d.text(I,p+5,j);const J=d.getTextWidth(I);d.setFont("helvetica","normal"),d.text(String(ee),p+5+J+3,j),j+=6}),j+=5,_(20),d.setFontSize(14),d.setFont("helvetica","bold"),d.text("Results",p,j),j+=7,d.setDrawColor(37,99,235),d.line(p,j,u-p,j),j+=5,d.setFontSize(10),d.setFont("helvetica","normal"),Object.entries(a).forEach(([H,ee])=>{_(10);const ce=H.replace(/([A-Z])/g," $1").trim(),W=ce.charAt(0).toUpperCase()+ce.slice(1);d.setFont("helvetica","bold");const I=`${W}:`;d.text(I,p+5,j);let J=String(ee);typeof ee=="boolean"&&(J=ee?"Yes":"No");const D=d.getTextWidth(I);d.setFont("helvetica","normal"),d.text(J,p+5+D+3,j),j+=6}),j+=5,l&&Object.keys(l).length>0&&(_(20),d.setFontSize(14),d.setFont("helvetica","bold"),d.text("Calculation Details",p,j),j+=7,d.setDrawColor(37,99,235),d.line(p,j,u-p,j),j+=5,d.setFontSize(10),d.setFont("helvetica","normal"),Object.entries(l).forEach(([H,ee])=>{_(10);const ce=H.replace(/([A-Z])/g," $1").trim(),W=ce.charAt(0).toUpperCase()+ce.slice(1),I=x(`${W}: ${ee}`,p+5,j,y-10,10);j+=I+2}),j+=5),s&&(_(20),d.setFontSize(14),d.setFont("helvetica","bold"),d.text("NEC Code References",p,j),j+=7,d.setDrawColor(37,99,235),d.line(p,j,u-p,j),j+=5,d.setFontSize(10),d.setFont("helvetica","normal"),(Array.isArray(s)?s:[s]).forEach(ee=>{_(15);const ce=x(` ${ee}`,p+5,j,y-10,10);j+=ce+2}));const A=m-10;d.setFontSize(8),d.setTextColor(100,100,100),d.setFont("helvetica","italic");const C="This calculation is for reference only. Always verify with current NEC and local codes.",S=d.getTextWidth(C);d.text(C,(u-S)/2,A);const F=t.toLowerCase().replace(/\s+/g,"-"),O=new Date().toISOString().split("T")[0],B=`${F}-${O}.pdf`;d.save(B)},rb=ve.forwardRef(({isDarkMode:r=!1},t)=>{const[e,a]=ve.useState(""),[s,l]=ve.useState(""),[d,u]=ve.useState(""),[m,p]=ve.useState("12"),[y,j]=ve.useState("single"),[_,x]=ve.useState("copper"),[P,A]=ve.useState("1.0"),C={cardBg:r?"#374151":"#ffffff",cardBorder:r?"#4b5563":"#e5e7eb",cardText:r?"#f9fafb":"#111827",labelText:r?"#d1d5db":"#374151",inputBg:r?"#1f2937":"#ffffff",inputBorder:r?"#4b5563":"#d1d5db",sectionBg:r?"#1f2937":"#f9fafb"},S={14:4110,12:6530,10:10380,8:16510,6:26240,4:41740,3:52620,2:66360,1:83690,"1/0":105600,"2/0":133100,"3/0":167800,"4/0":211600,250:25e4,300:3e5,350:35e4,400:4e5,500:5e5,600:6e5,750:75e4,1e3:1e6},F={copper:{dc:10.8,ac:12.9},aluminum:{dc:17.4,ac:21.2}},B=(()=>{if(!e||!s||!d)return{drop:"0.00",percentage:"0.00",excessive:!1};const H=parseFloat(e),ee=parseFloat(s),ce=parseFloat(d),W=S[m],I=parseFloat(P),J=F[_].ac;let D;y==="single"?D=2*J*ee*ce*I/W:D=1.732*J*ee*ce*I/W;const k=D/H*100,X=k>3;return{drop:D.toFixed(2),percentage:k.toFixed(2),excessive:X}})();return ve.useImperativeHandle(t,()=>({exportPDF:()=>{if(!e||!s||!d){alert("Please enter all required values before exporting to PDF");return}const H={calculatorName:"Voltage Drop Calculator",inputs:{systemType:y==="single"?"Single Phase":"Three Phase",conductorMaterial:_.charAt(0).toUpperCase()+_.slice(1),systemVoltage:`${e} V`,loadCurrent:`${s} A`,oneWayDistance:`${d} ft`,wireSize:m.includes("/")?`${m} AWG`:`${m} ${parseInt(m)<=4?"AWG":"kcmil"}`,powerFactor:P},results:{voltageDrop:`${B.drop} V`,percentageDrop:`${B.percentage}%`,necCompliant:B.excessive?"NO - Exceeds 3% limit":"YES - Within 3% limit",status:B.excessive?" WARNING: Exceeds NEC 3% Limit":" Within NEC limits"},additionalInfo:{formula:y==="single"?"2  K  I  L  PF  CM":"1.732  K  I  L  PF  CM",kConstant:`${F[_].ac} (${_} AC)`,circularMils:S[m].toLocaleString(),powerFactorUsed:P,systemConfiguration:y==="single"?"Single phase":"Three phase"},necReferences:["NEC Guidelines: Branch circuits - 3% max","Feeders - 3% max","Combined branch circuit and feeder - 5% max","Note: Excessive voltage drop can cause equipment malfunction and reduced efficiency"]};Er(H)}})),n.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto"},children:[n.jsxs("div",{style:{background:C.cardBg,border:`1px solid ${C.cardBorder}`,borderRadius:"12px",padding:"1.5rem",marginBottom:"1rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[n.jsx("h3",{style:{fontSize:"1rem",fontWeight:"600",color:C.cardText,marginTop:0,marginBottom:"1rem",borderBottom:`1px solid ${C.cardBorder}`,paddingBottom:"0.5rem"},children:"Circuit Parameters"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:C.labelText,marginBottom:"0.5rem"},children:"System Type"}),n.jsxs("select",{value:y,onChange:H=>j(H.target.value),style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${C.inputBorder}`,borderRadius:"8px",backgroundColor:C.inputBg,color:C.cardText,boxSizing:"border-box"},children:[n.jsx("option",{value:"single",children:"Single Phase"}),n.jsx("option",{value:"three",children:"Three Phase"})]})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:C.labelText,marginBottom:"0.5rem"},children:"Conductor Material"}),n.jsxs("select",{value:_,onChange:H=>x(H.target.value),style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${C.inputBorder}`,borderRadius:"8px",backgroundColor:C.inputBg,color:C.cardText,boxSizing:"border-box"},children:[n.jsx("option",{value:"copper",children:"Copper"}),n.jsx("option",{value:"aluminum",children:"Aluminum"})]})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:C.labelText,marginBottom:"0.5rem"},children:"System Voltage (V)"}),n.jsx("input",{type:"number",value:e,onChange:H=>a(H.target.value),placeholder:"120, 240, 480",style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${C.inputBorder}`,borderRadius:"8px",backgroundColor:C.inputBg,color:C.cardText,boxSizing:"border-box"}})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:C.labelText,marginBottom:"0.5rem"},children:"Load Current (Amps)"}),n.jsx("input",{type:"number",value:s,onChange:H=>l(H.target.value),placeholder:"15, 20, 30",style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${C.inputBorder}`,borderRadius:"8px",backgroundColor:C.inputBg,color:C.cardText,boxSizing:"border-box"}})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:C.labelText,marginBottom:"0.5rem"},children:"One-Way Distance (feet)"}),n.jsx("input",{type:"number",value:d,onChange:H=>u(H.target.value),placeholder:"100, 200, 500",style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${C.inputBorder}`,borderRadius:"8px",backgroundColor:C.inputBg,color:C.cardText,boxSizing:"border-box"}})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:C.labelText,marginBottom:"0.5rem"},children:"Wire Size (AWG/kcmil)"}),n.jsxs("select",{value:m,onChange:H=>p(H.target.value),style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${C.inputBorder}`,borderRadius:"8px",backgroundColor:C.inputBg,color:C.cardText,boxSizing:"border-box"},children:[n.jsx("option",{value:"14",children:"14 AWG"}),n.jsx("option",{value:"12",children:"12 AWG"}),n.jsx("option",{value:"10",children:"10 AWG"}),n.jsx("option",{value:"8",children:"8 AWG"}),n.jsx("option",{value:"6",children:"6 AWG"}),n.jsx("option",{value:"4",children:"4 AWG"}),n.jsx("option",{value:"3",children:"3 AWG"}),n.jsx("option",{value:"2",children:"2 AWG"}),n.jsx("option",{value:"1",children:"1 AWG"}),n.jsx("option",{value:"1/0",children:"1/0 AWG"}),n.jsx("option",{value:"2/0",children:"2/0 AWG"}),n.jsx("option",{value:"3/0",children:"3/0 AWG"}),n.jsx("option",{value:"4/0",children:"4/0 AWG"}),n.jsx("option",{value:"250",children:"250 kcmil"}),n.jsx("option",{value:"300",children:"300 kcmil"}),n.jsx("option",{value:"350",children:"350 kcmil"}),n.jsx("option",{value:"400",children:"400 kcmil"}),n.jsx("option",{value:"500",children:"500 kcmil"}),n.jsx("option",{value:"600",children:"600 kcmil"}),n.jsx("option",{value:"750",children:"750 kcmil"}),n.jsx("option",{value:"1000",children:"1000 kcmil"})]})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:C.labelText,marginBottom:"0.5rem"},children:"Power Factor (AC loads)"}),n.jsxs("select",{value:P,onChange:H=>A(H.target.value),style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${C.inputBorder}`,borderRadius:"8px",backgroundColor:C.inputBg,color:C.cardText,boxSizing:"border-box"},children:[n.jsx("option",{value:"1.0",children:"1.0 (Resistive loads)"}),n.jsx("option",{value:"0.9",children:"0.9 (Most motors)"}),n.jsx("option",{value:"0.85",children:"0.85 (Typical mixed load)"}),n.jsx("option",{value:"0.8",children:"0.8 (Poor power factor)"})]})]})]})]}),e&&s&&d&&n.jsxs("div",{children:[n.jsxs("div",{style:{background:C.cardBg,border:`1px solid ${C.cardBorder}`,borderRadius:"12px",padding:"1.5rem",marginBottom:"1rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[n.jsx("h3",{style:{fontSize:"1rem",fontWeight:"600",color:C.cardText,marginTop:0,marginBottom:"1rem"},children:"Results"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"1rem",marginBottom:"1rem"},children:[n.jsxs("div",{style:{background:C.sectionBg,padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:C.labelText,marginBottom:"0.25rem"},children:"Voltage Drop"}),n.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:C.cardText},children:B.drop}),n.jsx("div",{style:{fontSize:"0.75rem",color:C.labelText,marginTop:"0.25rem"},children:"Volts"})]}),n.jsxs("div",{style:{background:B.excessive?"#fee2e2":"#dbeafe",padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:B.excessive?"#991b1b":"#1e40af",marginBottom:"0.25rem"},children:"Percentage Drop"}),n.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:B.excessive?"#dc2626":"#1e40af"},children:[B.percentage,"%"]}),n.jsx("div",{style:{fontSize:"0.75rem",color:B.excessive?"#991b1b":"#1e40af",marginTop:"0.25rem"},children:"Max: 3%"})]})]}),n.jsxs("div",{style:{background:C.sectionBg,padding:"1rem",borderRadius:"8px",border:`1px solid ${C.cardBorder}`},children:[n.jsx("strong",{style:{color:C.cardText,display:"block",marginBottom:"0.5rem",fontSize:"0.875rem"},children:"Calculation Details:"}),n.jsxs("div",{style:{fontSize:"0.8125rem",color:C.labelText,display:"grid",gap:"0.25rem"},children:[n.jsxs("div",{children:["Formula: ",y==="single"?"2":"1.732","  K  I  L  PF  CM"]}),n.jsxs("div",{children:["K constant (",_,"): ",F[_].ac]}),n.jsxs("div",{children:["Circular mils: ",S[m].toLocaleString()]}),n.jsxs("div",{children:["Power factor: ",P]}),n.jsxs("div",{children:["System: ",y==="single"?"Single":"Three"," phase"]})]})]})]}),B.excessive?n.jsx("div",{style:{background:"#fef3c7",border:"1px solid #fcd34d",borderRadius:"8px",padding:"1rem",marginBottom:"1rem"},children:n.jsxs("div",{style:{display:"flex",alignItems:"start",gap:"0.75rem"},children:[n.jsx(_l,{size:20,color:"#d97706",style:{flexShrink:0,marginTop:"0.125rem"}}),n.jsxs("div",{style:{fontSize:"0.875rem",color:"#92400e",lineHeight:"1.5"},children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"0.25rem",fontSize:"0.9375rem"},children:"WARNING: Exceeds NEC 3% Limit"}),n.jsx("div",{style:{fontSize:"0.8125rem"},children:"Consider using larger wire size to reduce voltage drop. Excessive voltage drop can cause equipment malfunction and reduced efficiency."})]})]})}):n.jsx("div",{style:{background:"#d1fae5",border:"1px solid #6ee7b7",borderRadius:"8px",padding:"1rem",marginBottom:"1rem"},children:n.jsxs("div",{style:{display:"flex",alignItems:"start",gap:"0.75rem"},children:[n.jsx(en,{size:20,color:"#059669",style:{flexShrink:0,marginTop:"0.125rem"}}),n.jsxs("div",{style:{fontSize:"0.875rem",color:"#047857",lineHeight:"1.5"},children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"0.25rem"},children:"Voltage drop is within NEC limits"}),n.jsx("div",{style:{fontSize:"0.8125rem"},children:"This circuit meets the NEC recommended 3% maximum voltage drop for branch circuits."})]})]})})]}),n.jsxs("div",{style:{background:C.sectionBg,padding:"1rem",borderRadius:"8px",border:`1px solid ${C.cardBorder}`,fontSize:"0.8125rem",color:C.labelText},children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"0.5rem",color:C.cardText},children:"NEC Guidelines:"}),"Branch circuits: 3% max  Feeders: 3% max  Combined: 5% max"]})]})}),nb=ve.forwardRef(({isDarkMode:r=!1},t)=>{const[e,a]=ve.useState("basic"),[s,l]=ve.useState(""),[d,u]=ve.useState(""),[m,p]=ve.useState(""),[y,j]=ve.useState(""),[_,x]=ve.useState([{id:1,R:"",V:"",I:"",P:""}]),[P,A]=ve.useState([{id:1,R:"",V:"",I:"",P:""}]),C={cardBg:r?"#374151":"#ffffff",cardBorder:r?"#4b5563":"#e5e7eb",cardText:r?"#f9fafb":"#111827",labelText:r?"#d1d5db":"#374151",inputBg:r?"#1f2937":"#ffffff",inputBorder:r?"#4b5563":"#d1d5db",sectionBg:r?"#1f2937":"#f9fafb",subtleText:r?"#9ca3af":"#6b7280"};ve.useEffect(()=>{W()},[s,d,m,y]);const S=(M,K)=>Object.entries(M).filter(([ae,he])=>ae!==K&&he&&he!=="").map(([ae])=>ae).length>=2,[F,O]=ve.useState({R:"",V:"",I:"",P:""}),[B,H]=ve.useState({R:"",V:"",I:"",P:""}),[ee,ce]=ve.useState({V:"",I:"",R:"",P:""}),W=()=>{const M=parseFloat(s)||0,K=parseFloat(d)||0,Z=parseFloat(m)||0,ae=parseFloat(y)||0,he={V:"",I:"",R:"",P:""};!s&&K&&Z?he.V=(K*Z).toFixed(1):!s&&ae&&K&&K!==0?he.V=(ae/K).toFixed(1):!s&&ae&&Z?he.V=Math.sqrt(ae*Z).toFixed(1):s&&(he.V=M.toFixed(1)),!d&&M&&Z&&Z!==0?he.I=(M/Z).toFixed(1):!d&&ae&&M&&M!==0?he.I=(ae/M).toFixed(1):!d&&ae&&Z&&Z!==0?he.I=Math.sqrt(ae/Z).toFixed(1):d&&(he.I=K.toFixed(1)),!m&&M&&K&&K!==0?he.R=(M/K).toFixed(1):!m&&M&&ae&&ae!==0?he.R=(M*M/ae).toFixed(1):!m&&ae&&K&&K!==0?he.R=(ae/(K*K)).toFixed(1):m&&(he.R=Z.toFixed(1)),!y&&M&&K?he.P=(M*K).toFixed(1):!y&&K&&Z?he.P=(K*K*Z).toFixed(1):!y&&M&&Z&&Z!==0?he.P=(M*M/Z).toFixed(1):y&&(he.P=ae.toFixed(1)),ce(he)},I=()=>{l(""),u(""),p(""),j(""),ce({V:"",I:"",R:"",P:""})},J=()=>{const M=Math.max(..._.map(K=>K.id),0)+1;x([..._,{id:M,R:"",V:"",I:"",P:""}])},D=M=>{_.length>1&&x(_.filter(K=>K.id!==M))},k=(M,K,Z)=>{x(_.map(ae=>ae.id===M?{...ae,[K]:Z}:ae))},X=(M,K)=>{const Z=[];if(K.I&&K.I!==""){const ae=parseFloat(K.I);M.forEach((he,pe)=>{if(he.I&&he.I!==""){const ue=parseFloat(he.I);Math.abs(ue-ae)>.01&&Z.push(`Total current (${ae}A) conflicts with Component ${pe+1} current (${ue}A)`)}})}return Z},R=(M,K)=>{const Z=[];if(K.V&&K.V!==""){const ae=parseFloat(K.V);M.forEach((he,pe)=>{if(he.V&&he.V!==""){const ue=parseFloat(he.V);Math.abs(ue-ae)>.01&&Z.push(`Total voltage (${ae}V) conflicts with Component ${pe+1} voltage (${ue}V)`)}})}return Z},se=()=>{const M=X(_,F);if(M.length>0){alert(`Conflicts detected:
`+M.join(`
`));return}let K=[..._];if(F.I&&F.I!==""){const pe=parseFloat(F.I);K=K.map(ue=>!ue.I||ue.I===""?{...ue,I:pe.toFixed(1)}:ue)}let Z=!0,ae=0;const he=50;for(;Z&&ae<he;){Z=!1,ae++;let pe=null;for(let ue of K)if(ue.I&&!isNaN(parseFloat(ue.I))){pe=parseFloat(ue.I);break}if(pe===null)for(let ue of K){const Te=parseFloat(ue.V),Oe=parseFloat(ue.R),We=parseFloat(ue.P);if(!isNaN(Te)&&!isNaN(Oe)&&Oe!==0){pe=Te/Oe;break}else if(!isNaN(We)&&!isNaN(Te)&&Te!==0){pe=We/Te;break}else if(!isNaN(We)&&!isNaN(Oe)&&Oe!==0){pe=Math.sqrt(We/Oe);break}}pe!==null&&(K=K.map(ue=>!ue.I||ue.I===""?(Z=!0,{...ue,I:pe.toFixed(1)}):ue)),K=K.map(ue=>{const Te={...ue},Oe=parseFloat(ue.V),We=parseFloat(ue.I),Le=parseFloat(ue.R),ne=parseFloat(ue.P);(ue.R===""||isNaN(Le))&&!isNaN(Oe)&&!isNaN(We)&&We!==0?(Te.R=(Oe/We).toFixed(1),Z=!0):(ue.R===""||isNaN(Le))&&!isNaN(ne)&&!isNaN(We)&&We!==0?(Te.R=(ne/(We*We)).toFixed(1),Z=!0):(ue.R===""||isNaN(Le))&&!isNaN(Oe)&&!isNaN(ne)&&ne!==0&&(Te.R=(Oe*Oe/ne).toFixed(1),Z=!0);const Ye=parseFloat(Te.R),Ke=parseFloat(Te.I);(ue.V===""||isNaN(Oe))&&!isNaN(Ke)&&!isNaN(Ye)?(Te.V=(Ke*Ye).toFixed(1),Z=!0):(ue.V===""||isNaN(Oe))&&!isNaN(ne)&&!isNaN(Ke)&&Ke!==0?(Te.V=(ne/Ke).toFixed(1),Z=!0):(ue.V===""||isNaN(Oe))&&!isNaN(ne)&&!isNaN(Ye)&&(Te.V=Math.sqrt(ne*Ye).toFixed(1),Z=!0);const Je=parseFloat(Te.V);return(ue.P===""||isNaN(ne))&&!isNaN(Je)&&!isNaN(Ke)?(Te.P=(Je*Ke).toFixed(1),Z=!0):(ue.P===""||isNaN(ne))&&!isNaN(Ke)&&!isNaN(Ye)?(Te.P=(Ke*Ke*Ye).toFixed(1),Z=!0):(ue.P===""||isNaN(ne))&&!isNaN(Je)&&!isNaN(Ye)&&Ye!==0&&(Te.P=(Je*Je/Ye).toFixed(1),Z=!0),Te})}x(K)},xe=()=>{x([{id:1,R:"",V:"",I:"",P:""}]),O({R:"",V:"",I:"",P:""})},de=()=>{const M=Math.max(...P.map(K=>K.id),0)+1;A([...P,{id:M,R:"",V:"",I:"",P:""}])},oe=M=>{P.length>1&&A(P.filter(K=>K.id!==M))},be=(M,K,Z)=>{A(P.map(ae=>ae.id===M?{...ae,[K]:Z}:ae))},je=()=>{const M=R(P,B);if(M.length>0){alert(`Conflicts detected:
`+M.join(`
`));return}let K=[...P];if(B.V&&B.V!==""){const pe=parseFloat(B.V);K=K.map(ue=>!ue.V||ue.V===""?{...ue,V:pe.toFixed(1)}:ue)}let Z=!0,ae=0;const he=50;for(;Z&&ae<he;){Z=!1,ae++;let pe=null;for(let ue of K)if(ue.V&&!isNaN(parseFloat(ue.V))){pe=parseFloat(ue.V);break}if(pe===null)for(let ue of K){const Te=parseFloat(ue.I),Oe=parseFloat(ue.R),We=parseFloat(ue.P);if(!isNaN(Te)&&!isNaN(Oe)){pe=Te*Oe;break}else if(!isNaN(We)&&!isNaN(Te)&&Te!==0){pe=We/Te;break}else if(!isNaN(We)&&!isNaN(Oe)){pe=Math.sqrt(We*Oe);break}}pe!==null&&(K=K.map(ue=>!ue.V||ue.V===""?(Z=!0,{...ue,V:pe.toFixed(1)}):ue)),K=K.map(ue=>{const Te={...ue},Oe=parseFloat(ue.V),We=parseFloat(ue.I),Le=parseFloat(ue.R),ne=parseFloat(ue.P);(ue.R===""||isNaN(Le))&&!isNaN(Oe)&&!isNaN(We)&&We!==0?(Te.R=(Oe/We).toFixed(1),Z=!0):(ue.R===""||isNaN(Le))&&!isNaN(ne)&&!isNaN(We)&&We!==0?(Te.R=(ne/(We*We)).toFixed(1),Z=!0):(ue.R===""||isNaN(Le))&&!isNaN(Oe)&&!isNaN(ne)&&ne!==0&&(Te.R=(Oe*Oe/ne).toFixed(1),Z=!0);const Ye=parseFloat(Te.R),Ke=parseFloat(Te.V);(ue.I===""||isNaN(We))&&!isNaN(Ke)&&!isNaN(Ye)&&Ye!==0?(Te.I=(Ke/Ye).toFixed(1),Z=!0):(ue.I===""||isNaN(We))&&!isNaN(ne)&&!isNaN(Ke)&&Ke!==0?(Te.I=(ne/Ke).toFixed(1),Z=!0):(ue.I===""||isNaN(We))&&!isNaN(ne)&&!isNaN(Ye)&&Ye!==0&&(Te.I=Math.sqrt(ne/Ye).toFixed(1),Z=!0);const Je=parseFloat(Te.I);return(ue.P===""||isNaN(ne))&&!isNaN(Ke)&&!isNaN(Je)?(Te.P=(Ke*Je).toFixed(1),Z=!0):(ue.P===""||isNaN(ne))&&!isNaN(Je)&&!isNaN(Ye)?(Te.P=(Je*Je*Ye).toFixed(1),Z=!0):(ue.P===""||isNaN(ne))&&!isNaN(Ke)&&!isNaN(Ye)&&Ye!==0&&(Te.P=(Ke*Ke/Ye).toFixed(1),Z=!0),Te})}A(K)},Q=()=>{A([{id:1,R:"",V:"",I:"",P:""}]),H({R:"",V:"",I:"",P:""})},L=()=>{const M=_.reduce((pe,ue)=>{const Te=parseFloat(ue.R);return pe+(isNaN(Te)?0:Te)},0),K=_.reduce((pe,ue)=>{const Te=parseFloat(ue.V);return pe+(isNaN(Te)?0:Te)},0),Z=_.reduce((pe,ue)=>{const Te=parseFloat(ue.P);return pe+(isNaN(Te)?0:Te)},0),ae=_.find(pe=>!isNaN(parseFloat(pe.I))),he=ae?parseFloat(ae.I):0;return{totalR:M,totalV:K,totalI:he,totalP:Z}},U=()=>{const M=P.reduce((ue,Te)=>{const Oe=parseFloat(Te.I);return ue+(isNaN(Oe)?0:Oe)},0),K=P.reduce((ue,Te)=>{const Oe=parseFloat(Te.P);return ue+(isNaN(Oe)?0:Oe)},0),Z=P.find(ue=>!isNaN(parseFloat(ue.V))),ae=Z?parseFloat(Z.V):0,he=P.map(ue=>parseFloat(ue.R)).filter(ue=>!isNaN(ue)&&ue>0);return{totalR:he.length>0?1/he.reduce((ue,Te)=>ue+1/Te,0):0,totalV:ae,totalI:M,totalP:K}};return ve.useImperativeHandle(t,()=>({exportPDF:()=>{let M;if(e==="basic"){if(!(s||d||m||y||ee.V||ee.I||ee.R||ee.P)){alert("Please enter at least 2 values before exporting");return}const Z={},ae={};s&&(Z.voltage=`${s} V`),d&&(Z.current=`${d} A`),m&&(Z.resistance=`${m} `),y&&(Z.power=`${y} W`),ee.V&&(ae.voltage=`${ee.V} V`),ee.I&&(ae.current=`${ee.I} A`),ee.R&&(ae.resistance=`${ee.R} `),ee.P&&(ae.power=`${ee.P} W`),M={calculatorName:"Ohm's Law Calculator - Basic",inputs:Z,results:ae,additionalInfo:{note:"Calculations based on fundamental electrical formulas"},necReferences:["Ohm's Law: V = I  R","Power formulas: P = V  I, P = I  R, P = V  R","Current: I = V  R, I = P  V, I = (P  R)","Resistance: R = V  I, R = V  P, R = P  I"]}}else if(e==="series"){if(!_.some(he=>he.R||he.V||he.I||he.P)){alert("Please enter component values before exporting");return}const Z=L(),ae={};_.forEach((he,pe)=>{const ue=[];he.R&&ue.push(`R=${he.R}`),he.V&&ue.push(`V=${he.V}V`),he.I&&ue.push(`I=${he.I}A`),he.P&&ue.push(`P=${he.P}W`),ue.length>0&&(ae[`component${pe+1}`]=ue.join(", "))}),M={calculatorName:"Ohm's Law Calculator - Series Circuit",inputs:ae,results:{totalResistance:`${Z.totalR.toFixed(1)} `,totalVoltage:`${Z.totalV.toFixed(1)} V`,current:`${Z.totalI.toFixed(1)} A (constant)`,totalPower:`${Z.totalP.toFixed(1)} W`},additionalInfo:{circuitType:"Series Circuit",principle:"Current is constant across all components",totalResistanceFormula:"R_total = R1 + R2 + R3 + ...",totalVoltageFormula:"V_total = V1 + V2 + V3 + ..."},necReferences:["Series circuits: Current is the same through all components","Total resistance = Sum of all resistances","Total voltage = Sum of voltage drops across components","Total power = Sum of power dissipated in each component"]}}else if(e==="parallel"){if(!P.some(he=>he.R||he.V||he.I||he.P)){alert("Please enter component values before exporting");return}const Z=U(),ae={};P.forEach((he,pe)=>{const ue=[];he.R&&ue.push(`R=${he.R}`),he.V&&ue.push(`V=${he.V}V`),he.I&&ue.push(`I=${he.I}A`),he.P&&ue.push(`P=${he.P}W`),ue.length>0&&(ae[`component${pe+1}`]=ue.join(", "))}),M={calculatorName:"Ohm's Law Calculator - Parallel Circuit",inputs:ae,results:{totalResistance:`${Z.totalR.toFixed(1)} `,voltage:`${Z.totalV.toFixed(1)} V (constant)`,totalCurrent:`${Z.totalI.toFixed(1)} A`,totalPower:`${Z.totalP.toFixed(1)} W`},additionalInfo:{circuitType:"Parallel Circuit",principle:"Voltage is constant across all components",totalResistanceFormula:"1/R_total = 1/R1 + 1/R2 + 1/R3 + ...",totalCurrentFormula:"I_total = I1 + I2 + I3 + ..."},necReferences:["Parallel circuits: Voltage is the same across all components","Total resistance = 1  (1/R1 + 1/R2 + 1/R3 + ...)","Total current = Sum of currents through each branch","Total power = Sum of power dissipated in each component"]}}Er(M)}})),n.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto"},children:[n.jsxs("div",{style:{background:C.cardBg,border:`1px solid ${C.cardBorder}`,borderRadius:"12px",padding:"1rem",marginBottom:"1rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",display:"flex",gap:"0.5rem"},children:[n.jsx("button",{onClick:()=>a("basic"),style:{flex:"1 1 auto",minWidth:"80px",padding:"0.625rem 1rem",background:e==="basic"?"#3b82f6":C.sectionBg,color:e==="basic"?"white":C.labelText,border:`1px solid ${e==="basic"?"#3b82f6":C.cardBorder}`,borderRadius:"8px",cursor:"pointer",fontSize:"0.875rem",fontWeight:"600",transition:"all 0.2s"},children:"Basic"}),n.jsx("button",{onClick:()=>a("series"),style:{flex:"1 1 auto",minWidth:"80px",padding:"0.625rem 1rem",background:e==="series"?"#3b82f6":C.sectionBg,color:e==="series"?"white":C.labelText,border:`1px solid ${e==="series"?"#3b82f6":C.cardBorder}`,borderRadius:"8px",cursor:"pointer",fontSize:"0.875rem",fontWeight:"600",transition:"all 0.2s"},children:"Series"}),n.jsx("button",{onClick:()=>a("parallel"),style:{flex:"1 1 auto",minWidth:"80px",padding:"0.625rem 1rem",background:e==="parallel"?"#3b82f6":C.sectionBg,color:e==="parallel"?"white":C.labelText,border:`1px solid ${e==="parallel"?"#3b82f6":C.cardBorder}`,borderRadius:"8px",cursor:"pointer",fontSize:"0.875rem",fontWeight:"600",transition:"all 0.2s"},children:"Parallel"})]}),e==="basic"&&n.jsxs("div",{children:[n.jsx("div",{style:{background:"#dbeafe",border:"1px solid #3b82f6",borderRadius:"8px",padding:"1rem",marginBottom:"1rem"},children:n.jsxs("div",{style:{display:"flex",alignItems:"start",gap:"0.75rem"},children:[n.jsx(co,{size:20,color:"#1e40af",style:{flexShrink:0,marginTop:"0.125rem"}}),n.jsx("p",{style:{margin:0,fontSize:"0.875rem",color:"#1e40af",lineHeight:"1.5"},children:"Enter any 2 known values to calculate the remaining values"})]})}),n.jsxs("div",{style:{background:C.cardBg,border:`1px solid ${C.cardBorder}`,borderRadius:"12px",padding:"1.5rem",marginBottom:"1rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"1rem",marginBottom:"1rem"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:C.labelText,marginBottom:"0.5rem"},children:"Voltage (E)"}),n.jsx("input",{type:"number",value:s||ee.V,onChange:M=>l(M.target.value),placeholder:"Enter voltage",disabled:d&&m||d&&y||m&&y,style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${C.inputBorder}`,borderRadius:"8px",backgroundColor:d&&m||d&&y||m&&y?C.sectionBg:C.inputBg,color:C.cardText,boxSizing:"border-box",cursor:d&&m||d&&y||m&&y?"not-allowed":"text"}})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:C.labelText,marginBottom:"0.5rem"},children:"Current (A)"}),n.jsx("input",{type:"number",value:d||ee.I,onChange:M=>u(M.target.value),placeholder:"Enter current",disabled:s&&m||s&&y||m&&y,style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${C.inputBorder}`,borderRadius:"8px",backgroundColor:s&&m||s&&y||m&&y?C.sectionBg:C.inputBg,color:C.cardText,boxSizing:"border-box",cursor:s&&m||s&&y||m&&y?"not-allowed":"text"}})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:C.labelText,marginBottom:"0.5rem"},children:"Resistance ()"}),n.jsx("input",{type:"number",value:m||ee.R,onChange:M=>p(M.target.value),placeholder:"Enter resistance",disabled:s&&d||s&&y||d&&y,style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${C.inputBorder}`,borderRadius:"8px",backgroundColor:s&&d||s&&y||d&&y?C.sectionBg:C.inputBg,color:C.cardText,boxSizing:"border-box",cursor:s&&d||s&&y||d&&y?"not-allowed":"text"}})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:C.labelText,marginBottom:"0.5rem"},children:"Power (W)"}),n.jsx("input",{type:"number",value:y||ee.P,onChange:M=>j(M.target.value),placeholder:"Enter power",disabled:s&&d||s&&m||d&&m,style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${C.inputBorder}`,borderRadius:"8px",backgroundColor:s&&d||s&&m||d&&m?C.sectionBg:C.inputBg,color:C.cardText,boxSizing:"border-box",cursor:s&&d||s&&m||d&&m?"not-allowed":"text"}})]})]}),n.jsx("button",{onClick:I,style:{width:"100%",background:"#6b7280",color:"white",fontWeight:"600",padding:"0.75rem",borderRadius:"8px",border:"none",cursor:"pointer",fontSize:"0.875rem"},children:"Clear All"})]}),(ee.V||ee.I||ee.R||ee.P)&&n.jsxs("div",{style:{background:C.cardBg,border:`1px solid ${C.cardBorder}`,borderRadius:"12px",padding:"1.5rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[n.jsx("h3",{style:{fontSize:"1rem",fontWeight:"600",color:C.cardText,marginTop:0,marginBottom:"1rem"},children:"Results"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"1rem"},children:[ee.V&&n.jsxs("div",{style:{background:C.sectionBg,padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:C.labelText,marginBottom:"0.25rem"},children:"Voltage"}),n.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:C.cardText},children:ee.V}),n.jsx("div",{style:{fontSize:"0.75rem",color:C.labelText,marginTop:"0.25rem"},children:"Volts"})]}),ee.I&&n.jsxs("div",{style:{background:C.sectionBg,padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:C.labelText,marginBottom:"0.25rem"},children:"Current"}),n.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:C.cardText},children:ee.I}),n.jsx("div",{style:{fontSize:"0.75rem",color:C.labelText,marginTop:"0.25rem"},children:"Amperes"})]}),ee.R&&n.jsxs("div",{style:{background:C.sectionBg,padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:C.labelText,marginBottom:"0.25rem"},children:"Resistance"}),n.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:C.cardText},children:ee.R}),n.jsx("div",{style:{fontSize:"0.75rem",color:C.labelText,marginTop:"0.25rem"},children:"Ohms"})]}),ee.P&&n.jsxs("div",{style:{background:C.sectionBg,padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:C.labelText,marginBottom:"0.25rem"},children:"Power"}),n.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:C.cardText},children:ee.P}),n.jsx("div",{style:{fontSize:"0.75rem",color:C.labelText,marginTop:"0.25rem"},children:"Watts"})]})]})]})]}),e==="series"&&n.jsxs("div",{children:[n.jsx("div",{style:{background:"#dbeafe",border:"1px solid #3b82f6",borderRadius:"8px",padding:"1rem",marginBottom:"1rem"},children:n.jsxs("div",{style:{display:"flex",alignItems:"start",gap:"0.75rem"},children:[n.jsx(co,{size:20,color:"#1e40af",style:{flexShrink:0,marginTop:"0.125rem"}}),n.jsx("p",{style:{margin:0,fontSize:"0.875rem",color:"#1e40af",lineHeight:"1.5"},children:"Series Circuit: Current is constant across all components"})]})}),n.jsxs("div",{style:{background:C.cardBg,border:`1px solid ${C.cardBorder}`,borderRadius:"12px",padding:"1.5rem",marginBottom:"1rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[n.jsx("h3",{style:{fontSize:"1rem",fontWeight:"600",color:C.cardText,marginTop:0,marginBottom:"1rem",borderBottom:`1px solid ${C.cardBorder}`,paddingBottom:"0.5rem"},children:"Circuit Totals (Optional)"}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"0.75rem",marginBottom:"0.5rem"},children:["R","V","I","P"].map(M=>n.jsxs("div",{children:[n.jsxs("label",{style:{display:"block",fontSize:"0.8125rem",fontWeight:"500",color:C.labelText,marginBottom:"0.5rem"},children:[M," (",M==="R"?"":M==="V"?"V":M==="I"?"A":"W",")"]}),n.jsx("input",{type:"number",value:F[M],onChange:K=>O({...F,[M]:K.target.value}),placeholder:"Optional",disabled:S(F,M),style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${C.inputBorder}`,borderRadius:"8px",backgroundColor:S(F,M)?C.sectionBg:C.inputBg,color:C.cardText,boxSizing:"border-box",cursor:S(F,M)?"not-allowed":"text"}})]},M))}),n.jsx("p",{style:{fontSize:"0.8125rem",color:C.subtleText,margin:0,fontStyle:"italic"},children:"Enter known total values to help solve the circuit. Current is constant in series."})]}),_.map((M,K)=>n.jsxs("div",{style:{background:C.sectionBg,padding:"1rem",borderRadius:"8px",marginBottom:"0.75rem",border:`1px solid ${C.cardBorder}`},children:[n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr auto",alignItems:"center",marginBottom:"0.75rem",gap:"0.5rem"},children:[n.jsxs("h4",{style:{fontWeight:"600",color:C.labelText,margin:0,fontSize:"0.875rem"},children:["Component ",K+1]}),_.length>1&&n.jsx("button",{onClick:()=>D(M.id),style:{color:"#dc2626",background:"none",border:"none",cursor:"pointer",padding:"0.5rem",display:"inline-flex",alignItems:"center",justifyContent:"center"},children:n.jsx(jl,{size:18})})]}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"0.75rem"},children:[{field:"R",label:"R ()"},{field:"E",label:"E (V)"},{field:"I",label:"I (A)"},{field:"P",label:"P (W)"}].map(({field:Z,label:ae})=>n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.75rem",fontWeight:"500",color:C.subtleText,marginBottom:"0.25rem"},children:ae}),n.jsx("input",{type:"number",value:M[Z],onChange:he=>k(M.id,Z,he.target.value),style:{width:"100%",padding:"0.5rem",fontSize:"0.875rem",border:`1px solid ${C.inputBorder}`,borderRadius:"8px",backgroundColor:C.inputBg,color:C.cardText,boxSizing:"border-box"}})]},Z))})]},M.id)),n.jsxs("button",{onClick:J,style:{width:"100%",background:"#3b82f6",color:"white",fontWeight:"600",padding:"0.75rem",borderRadius:"8px",border:"none",cursor:"pointer",fontSize:"0.875rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",marginBottom:"1rem"},children:[n.jsx(Sl,{size:16}),"Add Component"]}),n.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"1rem"},children:[n.jsxs("button",{onClick:se,style:{flex:1,background:"#3b82f6",color:"white",fontWeight:"600",padding:"0.75rem",borderRadius:"8px",border:"none",cursor:"pointer",fontSize:"0.875rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[n.jsx(hd,{size:20}),"Calculate"]}),n.jsx("button",{onClick:xe,style:{flex:1,background:"#6b7280",color:"white",fontWeight:"600",padding:"0.75rem",borderRadius:"8px",border:"none",cursor:"pointer",fontSize:"0.875rem"},children:"Clear All"})]}),n.jsxs("div",{style:{background:C.cardBg,border:`1px solid ${C.cardBorder}`,borderRadius:"12px",padding:"1.5rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[n.jsx("h3",{style:{fontSize:"1rem",fontWeight:"600",color:C.cardText,marginTop:0,marginBottom:"1rem"},children:"Circuit Totals"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"1rem"},children:[n.jsxs("div",{style:{background:C.sectionBg,padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:C.labelText,marginBottom:"0.25rem"},children:"Total R"}),n.jsx("div",{style:{fontSize:"1.25rem",fontWeight:"700",color:C.cardText},children:L().totalR.toFixed(1)}),n.jsx("div",{style:{fontSize:"0.75rem",color:C.labelText,marginTop:"0.25rem"},children:""})]}),n.jsxs("div",{style:{background:C.sectionBg,padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:C.labelText,marginBottom:"0.25rem"},children:"Total V"}),n.jsx("div",{style:{fontSize:"1.25rem",fontWeight:"700",color:C.cardText},children:L().totalV.toFixed(1)}),n.jsx("div",{style:{fontSize:"0.75rem",color:C.labelText,marginTop:"0.25rem"},children:"V"})]}),n.jsxs("div",{style:{background:C.sectionBg,padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:C.labelText,marginBottom:"0.25rem"},children:"Current"}),n.jsx("div",{style:{fontSize:"1.25rem",fontWeight:"700",color:C.cardText},children:L().totalI.toFixed(1)}),n.jsx("div",{style:{fontSize:"0.75rem",color:C.labelText,marginTop:"0.25rem"},children:"A"})]}),n.jsxs("div",{style:{background:C.sectionBg,padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:C.labelText,marginBottom:"0.25rem"},children:"Total P"}),n.jsx("div",{style:{fontSize:"1.25rem",fontWeight:"700",color:C.cardText},children:L().totalP.toFixed(1)}),n.jsx("div",{style:{fontSize:"0.75rem",color:C.labelText,marginTop:"0.25rem"},children:"W"})]})]})]})]}),e==="parallel"&&n.jsxs("div",{children:[n.jsx("div",{style:{background:"#faf5ff",border:"1px solid #a855f7",borderRadius:"8px",padding:"1rem",marginBottom:"1rem"},children:n.jsxs("div",{style:{display:"flex",alignItems:"start",gap:"0.75rem"},children:[n.jsx(co,{size:20,color:"#7e22ce",style:{flexShrink:0,marginTop:"0.125rem"}}),n.jsx("p",{style:{margin:0,fontSize:"0.875rem",color:"#7e22ce",lineHeight:"1.5"},children:"Parallel Circuit: Voltage is constant across all components"})]})}),n.jsxs("div",{style:{background:C.cardBg,border:`1px solid ${C.cardBorder}`,borderRadius:"12px",padding:"1.5rem",marginBottom:"1rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[n.jsx("h3",{style:{fontSize:"1rem",fontWeight:"600",color:C.cardText,marginTop:0,marginBottom:"1rem",borderBottom:`1px solid ${C.cardBorder}`,paddingBottom:"0.5rem"},children:"Circuit Totals (Optional)"}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"0.75rem",marginBottom:"0.5rem"},children:["R","V","I","P"].map(M=>n.jsxs("div",{children:[n.jsxs("label",{style:{display:"block",fontSize:"0.8125rem",fontWeight:"500",color:C.labelText,marginBottom:"0.5rem"},children:[M," (",M==="R"?"":M==="V"?"V":M==="I"?"A":"W",")"]}),n.jsx("input",{type:"number",value:B[M],onChange:K=>H({...B,[M]:K.target.value}),placeholder:"Optional",disabled:S(B,M),style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${C.inputBorder}`,borderRadius:"8px",backgroundColor:S(B,M)?C.sectionBg:C.inputBg,color:C.cardText,boxSizing:"border-box",cursor:S(B,M)?"not-allowed":"text"}})]},M))}),n.jsx("p",{style:{fontSize:"0.8125rem",color:C.subtleText,margin:0,fontStyle:"italic"},children:"Enter known total values to help solve the circuit. Voltage is constant in parallel."})]}),P.map((M,K)=>n.jsxs("div",{style:{background:C.sectionBg,padding:"1rem",borderRadius:"8px",marginBottom:"0.75rem",border:`1px solid ${C.cardBorder}`},children:[n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr auto",alignItems:"center",marginBottom:"0.75rem",gap:"0.5rem"},children:[n.jsxs("h4",{style:{fontWeight:"600",color:C.labelText,margin:0,fontSize:"0.875rem"},children:["Component ",K+1]}),P.length>1&&n.jsx("button",{onClick:()=>oe(M.id),style:{color:"#dc2626",background:"none",border:"none",cursor:"pointer",padding:"0.5rem",display:"inline-flex",alignItems:"center",justifyContent:"center"},children:n.jsx(jl,{size:18})})]}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"0.75rem"},children:[{field:"R",label:"R ()"},{field:"E",label:"E (V)"},{field:"I",label:"I (A)"},{field:"P",label:"P (W)"}].map(({field:Z,label:ae})=>n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.75rem",fontWeight:"500",color:C.subtleText,marginBottom:"0.25rem"},children:ae}),n.jsx("input",{type:"number",value:M[Z],onChange:he=>be(M.id,Z,he.target.value),style:{width:"100%",padding:"0.5rem",fontSize:"0.875rem",border:`1px solid ${C.inputBorder}`,borderRadius:"8px",backgroundColor:C.inputBg,color:C.cardText,boxSizing:"border-box"}})]},Z))})]},M.id)),n.jsxs("button",{onClick:de,style:{width:"100%",background:"#3b82f6",color:"white",fontWeight:"600",padding:"0.75rem",borderRadius:"8px",border:"none",cursor:"pointer",fontSize:"0.875rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",marginBottom:"1rem"},children:[n.jsx(Sl,{size:16}),"Add Component"]}),n.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"1rem"},children:[n.jsxs("button",{onClick:je,style:{flex:1,background:"#3b82f6",color:"white",fontWeight:"600",padding:"0.75rem",borderRadius:"8px",border:"none",cursor:"pointer",fontSize:"0.875rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[n.jsx(hd,{size:20}),"Calculate"]}),n.jsx("button",{onClick:Q,style:{flex:1,background:"#6b7280",color:"white",fontWeight:"600",padding:"0.75rem",borderRadius:"8px",border:"none",cursor:"pointer",fontSize:"0.875rem"},children:"Clear All"})]}),n.jsxs("div",{style:{background:C.cardBg,border:`1px solid ${C.cardBorder}`,borderRadius:"12px",padding:"1.5rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[n.jsx("h3",{style:{fontSize:"1rem",fontWeight:"600",color:C.cardText,marginTop:0,marginBottom:"1rem"},children:"Circuit Totals"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"1rem"},children:[n.jsxs("div",{style:{background:C.sectionBg,padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:C.labelText,marginBottom:"0.25rem"},children:"Total R"}),n.jsx("div",{style:{fontSize:"1.25rem",fontWeight:"700",color:C.cardText},children:U().totalR.toFixed(1)}),n.jsx("div",{style:{fontSize:"0.75rem",color:C.labelText,marginTop:"0.25rem"},children:""})]}),n.jsxs("div",{style:{background:C.sectionBg,padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:C.labelText,marginBottom:"0.25rem"},children:"Total E"}),n.jsx("div",{style:{fontSize:"1.25rem",fontWeight:"700",color:C.cardText},children:U().totalV.toFixed(1)}),n.jsx("div",{style:{fontSize:"0.75rem",color:C.labelText,marginTop:"0.25rem"},children:"V"})]}),n.jsxs("div",{style:{background:C.sectionBg,padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:C.labelText,marginBottom:"0.25rem"},children:"Total I"}),n.jsx("div",{style:{fontSize:"1.25rem",fontWeight:"700",color:C.cardText},children:U().totalI.toFixed(1)}),n.jsx("div",{style:{fontSize:"0.75rem",color:C.labelText,marginTop:"0.25rem"},children:"A"})]}),n.jsxs("div",{style:{background:C.sectionBg,padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:C.labelText,marginBottom:"0.25rem"},children:"Total P"}),n.jsx("div",{style:{fontSize:"1.25rem",fontWeight:"700",color:C.cardText},children:U().totalP.toFixed(1)}),n.jsx("div",{style:{fontSize:"0.75rem",color:C.labelText,marginTop:"0.25rem"},children:"W"})]})]})]})]}),n.jsxs("div",{style:{background:C.sectionBg,padding:"1rem",borderRadius:"8px",border:`1px solid ${C.cardBorder}`,fontSize:"0.8125rem",color:C.labelText,marginTop:"1rem"},children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"0.5rem",color:C.cardText},children:"Formulas:"}),"E = I  R  P = E  I  I = E  R  P = I  R  R = E  I  P = E  R"]})]})}),ib=ve.forwardRef(({isDarkMode:r=!1,onBack:t},e)=>{const[a,s]=ve.useState("4x1.5-square"),[l,d]=ve.useState([{size:"12",count:""}]),[u,m]=ve.useState({outlets:"",switches:"",clamps:"",groundWires:!1}),p={cardBg:r?"#374151":"#ffffff",cardBorder:r?"#4b5563":"#e5e7eb",cardText:r?"#f9fafb":"#111827",labelText:r?"#d1d5db":"#374151",inputBg:r?"#1f2937":"#ffffff",inputBorder:r?"#4b5563":"#d1d5db",sectionBg:r?"#1f2937":"#f9fafb",subtleText:r?"#9ca3af":"#6b7280"},y={"3x2x1.5":{capacity:7.5,name:'3" x 2" x 1-1/2" Device Box'},"3x2x2":{capacity:10,name:'3" x 2" x 2" Device Box'},"3x2x2.25":{capacity:10.5,name:'3" x 2" x 2-1/4" Device Box'},"3x2x2.5":{capacity:12.5,name:'3" x 2" x 2-1/2" Device Box'},"3x2x2.75":{capacity:14,name:'3" x 2" x 2-3/4" Device Box'},"3x2x3.5":{capacity:18,name:'3" x 2" x 3-1/2" Device Box'},"3x2x2-2gang":{capacity:14,name:'2-Gang 3" x 2" x 2" Device Box'},"3x2x2.25-2gang":{capacity:17,name:'2-Gang 3" x 2" x 2-1/4" Device Box'},"3x2x2.5-2gang":{capacity:21,name:'2-Gang 3" x 2" x 2-1/2" Device Box'},"3x2x3.5-2gang":{capacity:29.5,name:'2-Gang 3" x 2" x 3-1/2" Device Box'},"3x2x3.5-3gang":{capacity:43.5,name:'3-Gang 3" x 2" x 3-1/2" Device Box'},"4x1.25-square":{capacity:18,name:'4" x 1-1/4" Square'},"4x1.5-square":{capacity:21,name:'4" x 1-1/2" Square'},"4x2.125-square":{capacity:30.3,name:'4" x 2-1/8" Square'},"4-11/16x1.5-square":{capacity:25.5,name:'4-11/16" x 1-1/2" Square'},"4-11/16x2.125-square":{capacity:42,name:'4-11/16" x 2-1/8" Square'},"4x1.25-round":{capacity:12.5,name:'4" x 1-1/4" Round'},"4x1.5-round":{capacity:15.5,name:'4" x 1-1/2" Round'},"4x2.125-round":{capacity:21.5,name:'4" x 2-1/8" Round'},"4x1.25-octagon":{capacity:15.5,name:'4" x 1-1/4" Octagon'},"4x1.5-octagon":{capacity:18,name:'4" x 1-1/2" Octagon'},"4x2.125-octagon":{capacity:24.5,name:'4" x 2-1/8" Octagon'},"3.5x1.5-masonry":{capacity:14,name:'3-1/2" x 1-1/2" Masonry Box'},"3.5x2.125-masonry":{capacity:21,name:'3-1/2" x 2-1/8" Masonry Box'}},j={14:2,12:2.25,10:2.5,8:3,6:5,4:5,3:5,2:5,1:5},_=()=>{d([...l,{size:"12",count:""}])},x=B=>{l.length>1&&d(l.filter((H,ee)=>ee!==B))},P=(B,H,ee)=>{const ce=[...l];ce[B][H]=ee,d(ce)},C=(()=>{let B=0;const H=l.map(R=>{const se=parseInt(R.count)||0,xe=j[R.size],de=xe*se;return B+=de,{size:R.size,count:se,allowanceEach:xe,subtotal:de}}),ee=l.reduce((R,se)=>{if((parseInt(se.count)||0)>0){const de=parseInt(se.size.replace("/",""))||0,oe=parseInt(R.replace("/",""))||0;return de<oe?se.size:R}return R},"14"),ce=j[ee],W=parseInt(u.outlets)||0,I=parseInt(u.switches)||0,J=(W+I)*2*ce;B+=J;const k=(parseInt(u.clamps)||0)>0?ce:0;B+=k;const X=u.groundWires?ce:0;return B+=X,{conductorDetails:H,deviceFill:J,clampFill:k,groundFill:X,totalFill:B,largestWireSize:ee,deviceWireAllowance:ce}})(),S=y[a].capacity,F=S>0?(C.totalFill/S*100).toFixed(1):0,O=C.totalFill>S;return ve.useImperativeHandle(e,()=>({exportPDF:()=>{const B={};l.forEach((J,D)=>{const k=parseInt(J.count)||0;k>0&&(B[`Conductor ${D+1}`]=`${k} ${J.size} AWG`)});const H={};C.conductorDetails.forEach((J,D)=>{J.count>0&&(H[`${J.count} ${J.size} AWG`]=`${J.allowanceEach} cu.in. each = ${J.subtotal.toFixed(2)} cu.in. total`)});const ee=parseInt(u.outlets)||0,ce=parseInt(u.switches)||0,W=parseInt(u.clamps)||0,I={calculatorName:"Box Fill Calculator",inputs:{boxType:`${y[a].name} (${S} cu.in.)`,...B,receptaclesOutlets:ee>0?`${ee} (counts as ${ee*2} conductors)`:"0",switches:ce>0?`${ce} (counts as ${ce*2} conductors)`:"0",cableClamps:W>0?`${W} (counts as 1 conductor volume)`:"0",equipmentGroundingConductors:u.groundWires?"Yes (counts as 1 conductor volume)":"No"},results:{boxCapacity:`${S} cu.in.`,calculatedFill:`${C.totalFill.toFixed(2)} cu.in.`,fillPercentage:`${F}%`,status:O?" OVERFILLED - Violates NEC 314.16":" Within NEC limits",deviceFill:C.deviceFill>0?`${C.deviceFill.toFixed(2)} cu.in.`:"N/A",clampFill:C.clampFill>0?`${C.clampFill.toFixed(2)} cu.in.`:"N/A",groundFill:C.groundFill>0?`${C.groundFill.toFixed(2)} cu.in.`:"N/A"},additionalInfo:{...H,largestWireSize:`${C.largestWireSize} AWG (used for device/clamp/ground allowance)`,deviceWireAllowance:`${C.deviceWireAllowance} cu.in. per conductor`},necReferences:["NEC 314.16 - Number of Conductors in Outlet, Device, and Junction Boxes","NEC 314.16(B) - Box Fill Calculations","Conductor volume allowances per NEC Table 314.16(B)","Each device (receptacle/switch) counts as 2 conductor volumes","All equipment grounding conductors combined count as 1 conductor volume","One or more cable clamps count as 1 conductor volume",O?"WARNING: This configuration exceeds the maximum allowable box fill":null].filter(Boolean)};Er(I)}})),n.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto"},children:[n.jsxs("div",{style:{background:p.cardBg,border:`1px solid ${p.cardBorder}`,borderRadius:"12px",padding:"1.5rem",marginBottom:"1rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[n.jsx("h3",{style:{fontSize:"1rem",fontWeight:"600",color:p.cardText,marginTop:0,marginBottom:"1rem",borderBottom:`1px solid ${p.cardBorder}`,paddingBottom:"0.5rem"},children:"Box Selection"}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:p.labelText,marginBottom:"0.5rem"},children:"Box Type"}),n.jsxs("select",{value:a,onChange:B=>s(B.target.value),style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${p.inputBorder}`,borderRadius:"8px",backgroundColor:p.inputBg,color:p.cardText,boxSizing:"border-box"},children:[n.jsx("optgroup",{label:"Device Boxes (Single Gang)",children:Object.entries(y).filter(([B])=>B.startsWith("3x2x")&&!B.includes("gang")).map(([B,H])=>n.jsxs("option",{value:B,children:[H.name," - ",H.capacity," cu.in."]},B))}),n.jsx("optgroup",{label:"Device Boxes (Multi-Gang)",children:Object.entries(y).filter(([B])=>B.includes("gang")).map(([B,H])=>n.jsxs("option",{value:B,children:[H.name," - ",H.capacity," cu.in."]},B))}),n.jsx("optgroup",{label:"Square Boxes",children:Object.entries(y).filter(([B])=>B.includes("square")).map(([B,H])=>n.jsxs("option",{value:B,children:[H.name," - ",H.capacity," cu.in."]},B))}),n.jsx("optgroup",{label:"Round/Octagon Boxes",children:Object.entries(y).filter(([B])=>B.includes("round")||B.includes("octagon")).map(([B,H])=>n.jsxs("option",{value:B,children:[H.name," - ",H.capacity," cu.in."]},B))}),n.jsx("optgroup",{label:"Masonry Boxes",children:Object.entries(y).filter(([B])=>B.includes("masonry")).map(([B,H])=>n.jsxs("option",{value:B,children:[H.name," - ",H.capacity," cu.in."]},B))})]})]})]}),n.jsxs("div",{style:{background:p.cardBg,border:`1px solid ${p.cardBorder}`,borderRadius:"12px",padding:"1.5rem",marginBottom:"1rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[n.jsx("h3",{style:{fontSize:"1rem",fontWeight:"600",color:p.cardText,marginTop:0,marginBottom:"1rem",borderBottom:`1px solid ${p.cardBorder}`,paddingBottom:"0.5rem"},children:"Conductors"}),l.map((B,H)=>n.jsxs("div",{style:{background:p.sectionBg,padding:"1rem",borderRadius:"8px",marginBottom:"0.75rem",border:`1px solid ${p.cardBorder}`},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.75rem"},children:[n.jsxs("h4",{style:{fontWeight:"600",color:p.labelText,margin:0,fontSize:"0.875rem"},children:["Wire Size ",H+1]}),l.length>1&&n.jsx("button",{onClick:()=>x(H),style:{color:"#dc2626",background:"none",border:"none",cursor:"pointer",padding:"0.25rem",display:"flex",alignItems:"center"},children:n.jsx(jl,{size:20})})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.75rem"},children:[n.jsx("select",{value:B.size,onChange:ee=>P(H,"size",ee.target.value),style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${p.inputBorder}`,borderRadius:"8px",backgroundColor:p.inputBg,color:p.cardText,boxSizing:"border-box"},children:Object.keys(j).map(ee=>n.jsxs("option",{value:ee,children:[ee," AWG"]},ee))}),n.jsx("input",{type:"number",value:B.count,onChange:ee=>P(H,"count",ee.target.value),placeholder:"Quantity",min:"0",style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${p.inputBorder}`,borderRadius:"8px",backgroundColor:p.inputBg,color:p.cardText,boxSizing:"border-box"}})]})]},H)),n.jsxs("button",{onClick:_,style:{width:"100%",background:"#3b82f6",color:"white",border:"none",borderRadius:"8px",padding:"0.75rem",fontSize:"0.875rem",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[n.jsx(Sl,{size:16}),"Add Wire Size"]}),n.jsx("p",{style:{fontSize:"0.75rem",color:p.subtleText,marginTop:"0.5rem",margin:"0.5rem 0 0 0"},children:"Count all insulated conductors entering, leaving, or passing through the box"})]}),n.jsxs("div",{style:{background:p.cardBg,border:`1px solid ${p.cardBorder}`,borderRadius:"12px",padding:"1.5rem",marginBottom:"1rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[n.jsx("h3",{style:{fontSize:"1rem",fontWeight:"600",color:p.cardText,marginTop:0,marginBottom:"1rem",borderBottom:`1px solid ${p.cardBorder}`,paddingBottom:"0.5rem"},children:"Devices & Other Items"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem",marginBottom:"1rem"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:p.labelText,marginBottom:"0.5rem"},children:"Receptacles/Outlets"}),n.jsx("input",{type:"number",value:u.outlets,onChange:B=>m({...u,outlets:B.target.value}),placeholder:"0",min:"0",style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${p.inputBorder}`,borderRadius:"8px",backgroundColor:p.inputBg,color:p.cardText,boxSizing:"border-box"}}),n.jsx("p",{style:{fontSize:"0.75rem",color:p.subtleText,marginTop:"0.25rem",margin:"0.25rem 0 0 0"},children:"Each device counts as 2 conductors"})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:p.labelText,marginBottom:"0.5rem"},children:"Switches"}),n.jsx("input",{type:"number",value:u.switches,onChange:B=>m({...u,switches:B.target.value}),placeholder:"0",min:"0",style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${p.inputBorder}`,borderRadius:"8px",backgroundColor:p.inputBg,color:p.cardText,boxSizing:"border-box"}}),n.jsx("p",{style:{fontSize:"0.75rem",color:p.subtleText,marginTop:"0.25rem",margin:"0.25rem 0 0 0"},children:"Each device counts as 2 conductors"})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:p.labelText,marginBottom:"0.5rem"},children:"Cable Clamps"}),n.jsx("input",{type:"number",value:u.clamps,onChange:B=>m({...u,clamps:B.target.value}),placeholder:"0",min:"0",style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${p.inputBorder}`,borderRadius:"8px",backgroundColor:p.inputBg,color:p.cardText,boxSizing:"border-box"}}),n.jsx("p",{style:{fontSize:"0.75rem",color:p.subtleText,marginTop:"0.25rem",margin:"0.25rem 0 0 0"},children:"One or more = 1 conductor volume"})]})]}),n.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.75rem",cursor:"pointer"},children:[n.jsx("input",{type:"checkbox",checked:u.groundWires,onChange:B=>m({...u,groundWires:B.target.checked}),style:{width:"1.125rem",height:"1.125rem",cursor:"pointer"}}),n.jsx("span",{style:{fontSize:"0.875rem",fontWeight:"500",color:p.labelText},children:"Equipment Grounding Conductors Present"})]}),n.jsx("p",{style:{fontSize:"0.75rem",color:p.subtleText,marginLeft:"2rem",margin:"0.25rem 0 0 2rem"},children:"All grounds combined count as 1 conductor volume"})]}),n.jsxs("div",{style:{background:p.cardBg,border:`1px solid ${p.cardBorder}`,borderRadius:"12px",padding:"1.5rem",marginBottom:"1rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[n.jsx("h3",{style:{fontSize:"1.125rem",fontWeight:"600",color:p.cardText,marginTop:0,marginBottom:"1rem"},children:"Results"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"1rem",marginBottom:"1rem"},children:[n.jsxs("div",{style:{background:p.sectionBg,padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:p.labelText,marginBottom:"0.25rem"},children:"Box Capacity"}),n.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:p.cardText},children:S}),n.jsx("div",{style:{fontSize:"0.75rem",color:p.labelText,marginTop:"0.25rem"},children:"cu.in."})]}),n.jsxs("div",{style:{background:p.sectionBg,padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:p.labelText,marginBottom:"0.25rem"},children:"Calculated Fill"}),n.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:p.cardText},children:C.totalFill.toFixed(2)}),n.jsx("div",{style:{fontSize:"0.75rem",color:p.labelText,marginTop:"0.25rem"},children:"cu.in."})]}),n.jsxs("div",{style:{background:O?"#fee2e2":"#dbeafe",padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:O?"#991b1b":"#1e40af",marginBottom:"0.25rem"},children:"Fill Percentage"}),n.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:O?"#dc2626":"#1e40af"},children:[F,"%"]}),n.jsx("div",{style:{fontSize:"0.75rem",color:O?"#991b1b":"#1e40af",marginTop:"0.25rem"},children:O?"OVERFILLED":"Within Limits"})]})]}),C.conductorDetails.length>0&&C.conductorDetails.some(B=>B.count>0)&&n.jsxs("div",{style:{background:p.sectionBg,padding:"1rem",borderRadius:"8px",marginBottom:"1rem",border:`1px solid ${p.cardBorder}`},children:[n.jsx("strong",{style:{color:p.cardText,display:"block",marginBottom:"0.75rem",fontSize:"0.875rem"},children:"Conductor Breakdown:"}),C.conductorDetails.map((B,H)=>B.count>0&&n.jsxs("div",{style:{marginTop:H>0?"0.75rem":0,paddingTop:H>0?"0.75rem":0,borderTop:H>0?`1px solid ${p.cardBorder}`:"none",fontSize:"0.875rem",color:p.labelText},children:[n.jsxs("div",{style:{fontWeight:"600",marginBottom:"0.25rem"},children:[B.count," ",B.size," AWG"]}),n.jsxs("div",{style:{fontSize:"0.8125rem",color:p.subtleText},children:[B.allowanceEach," cu.in. each = ",B.subtotal.toFixed(2)," cu.in. total"]})]},H))]}),!O&&C.totalFill>0?n.jsx("div",{style:{background:"#d1fae5",border:"1px solid #6ee7b7",borderRadius:"8px",padding:"1rem"},children:n.jsxs("div",{style:{display:"flex",alignItems:"start",gap:"0.75rem"},children:[n.jsx(en,{size:20,color:"#059669",style:{flexShrink:0,marginTop:"0.125rem"}}),n.jsxs("div",{style:{fontSize:"0.875rem",color:"#047857",lineHeight:"1.5"},children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"0.5rem"},children:"Box fill is within NEC limits"}),C.deviceFill>0&&n.jsxs("div",{children:["Devices: ",C.deviceFill.toFixed(2)," cu.in."]}),C.clampFill>0&&n.jsxs("div",{children:["Clamps: ",C.clampFill.toFixed(2)," cu.in."]}),C.groundFill>0&&n.jsxs("div",{children:["Grounds: ",C.groundFill.toFixed(2)," cu.in."]})]})]})}):O?n.jsx("div",{style:{background:"#fef3c7",border:"1px solid #fcd34d",borderRadius:"8px",padding:"1rem"},children:n.jsxs("div",{style:{display:"flex",alignItems:"start",gap:"0.75rem"},children:[n.jsx(_l,{size:20,color:"#d97706",style:{flexShrink:0,marginTop:"0.125rem"}}),n.jsxs("div",{style:{fontSize:"0.875rem",color:"#92400e",lineHeight:"1.5"},children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"0.5rem",fontSize:"0.9375rem"},children:"BOX OVERFILLED - Violates NEC 314.16"}),n.jsx("div",{style:{marginBottom:"0.5rem"},children:"Reduce number of devices or use larger box"}),C.deviceFill>0&&n.jsxs("div",{children:["Devices: ",C.deviceFill.toFixed(2)," cu.in."]}),C.clampFill>0&&n.jsxs("div",{children:["Clamps: ",C.clampFill.toFixed(2)," cu.in."]}),C.groundFill>0&&n.jsxs("div",{children:["Grounds: ",C.groundFill.toFixed(2)," cu.in."]})]})]})}):null]}),n.jsxs("div",{style:{background:p.sectionBg,padding:"1rem",borderRadius:"8px",border:`1px solid ${p.cardBorder}`,fontSize:"0.8125rem",color:p.labelText},children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"0.5rem",color:p.cardText},children:"NEC 314.16 Requirements:"}),"Conductor = table volume  Device = 2 volumes  All grounds = 1 volume  Clamps = 1 volume"]})]})}),ob=ve.forwardRef(({isDarkMode:r=!1,onBack:t},e)=>{const[a,s]=ve.useState("emt-0.5"),[l,d]=ve.useState("thwn"),[u,m]=ve.useState([{size:"12",count:""}]),p={cardBg:r?"#374151":"#ffffff",cardBorder:r?"#4b5563":"#e5e7eb",cardText:r?"#f9fafb":"#111827",labelText:r?"#d1d5db":"#374151",inputBg:r?"#1f2937":"#ffffff",inputBorder:r?"#4b5563":"#d1d5db",sectionBg:r?"#1f2937":"#f9fafb",subtleText:r?"#9ca3af":"#6b7280"},y={"emt-0.5":{name:'1/2" EMT',area:.304},"emt-0.75":{name:'3/4" EMT',area:.533},"emt-1":{name:'1" EMT',area:.864},"emt-1.25":{name:'1-1/4" EMT',area:1.496},"emt-1.5":{name:'1-1/2" EMT',area:2.036},"emt-2":{name:'2" EMT',area:3.356},"emt-2.5":{name:'2-1/2" EMT',area:5.858},"emt-3":{name:'3" EMT',area:8.846},"emt-4":{name:'4" EMT',area:14.753},"pvc-0.5":{name:'1/2" PVC Sch 40',area:.285},"pvc-0.75":{name:'3/4" PVC Sch 40',area:.508},"pvc-1":{name:'1" PVC Sch 40',area:.832},"pvc-1.25":{name:'1-1/4" PVC Sch 40',area:1.429},"pvc-1.5":{name:'1-1/2" PVC Sch 40',area:1.986},"pvc-2":{name:'2" PVC Sch 40',area:3.291},"pvc-2.5":{name:'2-1/2" PVC Sch 40',area:5.793},"pvc-3":{name:'3" PVC Sch 40',area:8.688},"pvc-4":{name:'4" PVC Sch 40',area:14.314},"rigid-0.5":{name:'1/2" Rigid Steel',area:.22},"rigid-0.75":{name:'3/4" Rigid Steel',area:.409},"rigid-1":{name:'1" Rigid Steel',area:.688},"rigid-1.25":{name:'1-1/4" Rigid Steel',area:1.175},"rigid-1.5":{name:'1-1/2" Rigid Steel',area:1.61},"rigid-2":{name:'2" Rigid Steel',area:2.647},"rigid-2.5":{name:'2-1/2" Rigid Steel',area:4.618},"rigid-3":{name:'3" Rigid Steel',area:6.922},"rigid-4":{name:'4" Rigid Steel',area:11.545}},j={thwn:{18:.0058,16:.0075,14:.0097,12:.0133,10:.0211,8:.0366,6:.0507,4:.0824,3:.0973,2:.1158,1:.1562,"1/0":.1855,"2/0":.2223,"3/0":.2679,"4/0":.3237,250:.397,300:.4608,350:.5242,400:.5863,500:.7073},xhhw:{18:.0058,16:.0075,14:.0097,12:.0133,10:.0211,8:.0366,6:.059,4:.0973,3:.1134,2:.1333,1:.1901,"1/0":.2223,"2/0":.2624,"3/0":.3117,"4/0":.3718,250:.4596,300:.5281,350:.5958,400:.6619,500:.7901}},_=["18","16","14","12","10","8","6","4","3","2","1","1/0","2/0","3/0","4/0","250","300","350","400","500"],x=()=>{m([...u,{size:"12",count:""}])},P=F=>{u.length>1&&m(u.filter((O,B)=>B!==F))},A=(F,O,B)=>{const H=[...u];H[F][O]=B,m(H)},C=()=>{const F=y[a].area;let O=0,B=0;const H=u.map(W=>{const I=parseInt(W.count)||0,J=j[l][W.size]||0,D=J*I;return O+=D,B+=I,{size:W.size,count:I,areaEach:J,subtotal:D}}),ee=(O/F*100).toFixed(1);let ce=40;return B===1?ce=53:B===2&&(ce=31),{conduitArea:F.toFixed(3),totalWireArea:O.toFixed(3),fillPercentage:parseFloat(ee),maxFill:ce,totalWireCount:B,conductorDetails:H,isOverfilled:parseFloat(ee)>ce}};ve.useImperativeHandle(e,()=>({exportPDF:()=>{const F=C();if(F.totalWireCount===0){alert("Please enter at least one conductor with a quantity before exporting");return}const O=F.conductorDetails.filter(H=>H.count>0).map(H=>`${H.count} ${H.size} AWG ${l.toUpperCase()}: ${H.areaEach.toFixed(4)} sq.in. each = ${H.subtotal.toFixed(4)} sq.in. total`).join("; "),B={calculatorName:"Conduit Fill Calculator",inputs:{conduitType:y[a].name,wireType:l.toUpperCase()+"-2",totalConductors:F.totalWireCount},results:{conduitArea:`${F.conduitArea} sq.in.`,totalWireArea:`${F.totalWireArea} sq.in.`,fillPercentage:`${F.fillPercentage}%`,maximumAllowedFill:`${F.maxFill}%`,complianceStatus:F.isOverfilled?"OVERFILLED - Violates NEC":"Within NEC Limits"},additionalInfo:{conductorBreakdown:O,fillRule:F.totalWireCount===1?"1 conductor: 53% max fill":F.totalWireCount===2?"2 conductors: 31% max fill":"3+ conductors: 40% max fill",recommendation:F.isOverfilled?"Reduce number of conductors or use larger conduit":"Installation meets NEC requirements"},necReferences:["NEC Chapter 9, Table 1 - Percent of Cross Section of Conduit and Tubing for Conductors","NEC Chapter 9, Table 4 - Dimensions and Percent Area of Conduit and Tubing","NEC Chapter 9, Table 5 - Dimensions of Insulated Conductors and Fixture Wires","1 conductor: 53% max fill","2 conductors: 31% max fill","3+ conductors: 40% max fill","Nipples (24 inches or less): 60% max fill"]};Er(B)}}));const S=C();return n.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto"},children:[n.jsxs("div",{style:{background:p.cardBg,border:`1px solid ${p.cardBorder}`,borderRadius:"12px",padding:"1.5rem",marginBottom:"1rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[n.jsx("h3",{style:{fontSize:"1rem",fontWeight:"600",color:p.cardText,marginTop:0,marginBottom:"1rem",borderBottom:`1px solid ${p.cardBorder}`,paddingBottom:"0.5rem"},children:"Conduit & Wire Selection"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:p.labelText,marginBottom:"0.5rem"},children:"Conduit Type & Size"}),n.jsxs("select",{value:a,onChange:F=>s(F.target.value),style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${p.inputBorder}`,borderRadius:"8px",backgroundColor:p.inputBg,color:p.cardText,boxSizing:"border-box"},children:[n.jsx("optgroup",{label:"EMT",children:Object.entries(y).filter(([F])=>F.startsWith("emt")).map(([F,O])=>n.jsx("option",{value:F,children:O.name},F))}),n.jsx("optgroup",{label:"PVC Schedule 40",children:Object.entries(y).filter(([F])=>F.startsWith("pvc")).map(([F,O])=>n.jsx("option",{value:F,children:O.name},F))}),n.jsx("optgroup",{label:"Rigid Steel",children:Object.entries(y).filter(([F])=>F.startsWith("rigid")).map(([F,O])=>n.jsx("option",{value:F,children:O.name},F))})]})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:p.labelText,marginBottom:"0.5rem"},children:"Wire Type"}),n.jsxs("select",{value:l,onChange:F=>d(F.target.value),style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${p.inputBorder}`,borderRadius:"8px",backgroundColor:p.inputBg,color:p.cardText,boxSizing:"border-box"},children:[n.jsx("option",{value:"thwn",children:"THWN-2"}),n.jsx("option",{value:"xhhw",children:"XHHW-2"})]})]})]})]}),n.jsxs("div",{style:{background:p.cardBg,border:`1px solid ${p.cardBorder}`,borderRadius:"12px",padding:"1.5rem",marginBottom:"1rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[n.jsx("h3",{style:{fontSize:"1rem",fontWeight:"600",color:p.cardText,marginTop:0,marginBottom:"1rem",borderBottom:`1px solid ${p.cardBorder}`,paddingBottom:"0.5rem"},children:"Conductors"}),u.map((F,O)=>n.jsxs("div",{style:{background:p.sectionBg,padding:"1rem",borderRadius:"8px",marginBottom:"0.75rem",border:`1px solid ${p.cardBorder}`},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.75rem"},children:[n.jsxs("h4",{style:{fontWeight:"600",color:p.labelText,margin:0,fontSize:"0.875rem"},children:["Wire Size ",O+1]}),u.length>1&&n.jsx("button",{onClick:()=>P(O),style:{color:"#dc2626",background:"none",border:"none",cursor:"pointer",padding:"0.25rem",display:"flex",alignItems:"center"},children:n.jsx(jl,{size:20})})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.75rem"},children:[n.jsx("select",{value:F.size,onChange:B=>A(O,"size",B.target.value),style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${p.inputBorder}`,borderRadius:"8px",backgroundColor:p.inputBg,color:p.cardText,boxSizing:"border-box"},children:_.filter(B=>j[l][B]).map(B=>n.jsxs("option",{value:B,children:[B," AWG"]},B))}),n.jsx("input",{type:"number",value:F.count,onChange:B=>A(O,"count",B.target.value),placeholder:"Quantity",min:"0",style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${p.inputBorder}`,borderRadius:"8px",backgroundColor:p.inputBg,color:p.cardText,boxSizing:"border-box"}})]})]},O)),n.jsxs("button",{onClick:x,style:{width:"100%",background:"#3b82f6",color:"white",border:"none",borderRadius:"8px",padding:"0.75rem",fontSize:"0.875rem",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[n.jsx(Sl,{size:16}),"Add Wire Size"]})]}),n.jsxs("div",{style:{background:p.cardBg,border:`1px solid ${p.cardBorder}`,borderRadius:"12px",padding:"1.5rem",marginBottom:"1rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[n.jsx("h3",{style:{fontSize:"1.125rem",fontWeight:"600",color:p.cardText,marginTop:0,marginBottom:"1rem"},children:"Results"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"1rem",marginBottom:"1rem"},children:[n.jsxs("div",{style:{background:p.sectionBg,padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:p.labelText,marginBottom:"0.25rem"},children:"Conduit Area"}),n.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:p.cardText},children:S.conduitArea}),n.jsx("div",{style:{fontSize:"0.75rem",color:p.labelText,marginTop:"0.25rem"},children:"sq.in."})]}),n.jsxs("div",{style:{background:p.sectionBg,padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:p.labelText,marginBottom:"0.25rem"},children:"Wire Area"}),n.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:p.cardText},children:S.totalWireArea}),n.jsx("div",{style:{fontSize:"0.75rem",color:p.labelText,marginTop:"0.25rem"},children:"sq.in."})]}),n.jsxs("div",{style:{background:S.isOverfilled?"#fee2e2":"#dbeafe",padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:S.isOverfilled?"#991b1b":"#1e40af",marginBottom:"0.25rem"},children:"Fill Percentage"}),n.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:S.isOverfilled?"#dc2626":"#1e40af"},children:[S.fillPercentage,"%"]}),n.jsxs("div",{style:{fontSize:"0.75rem",color:S.isOverfilled?"#991b1b":"#1e40af",marginTop:"0.25rem"},children:["Max: ",S.maxFill,"%"]})]})]}),S.conductorDetails.length>0&&S.totalWireCount>0&&n.jsxs("div",{style:{background:p.sectionBg,padding:"1rem",borderRadius:"8px",marginBottom:"1rem",border:`1px solid ${p.cardBorder}`},children:[n.jsx("strong",{style:{color:p.cardText,display:"block",marginBottom:"0.75rem",fontSize:"0.875rem"},children:"Conductor Breakdown:"}),S.conductorDetails.map((F,O)=>F.count>0&&n.jsxs("div",{style:{marginTop:O>0?"0.75rem":0,paddingTop:O>0?"0.75rem":0,borderTop:O>0?`1px solid ${p.cardBorder}`:"none",fontSize:"0.875rem",color:p.labelText},children:[n.jsxs("div",{style:{fontWeight:"600",marginBottom:"0.25rem"},children:[F.count," ",F.size," AWG ",l.toUpperCase()]}),n.jsxs("div",{style:{fontSize:"0.8125rem",color:p.subtleText},children:[F.areaEach.toFixed(4)," sq.in. each = ",F.subtotal.toFixed(4)," sq.in. total"]})]},O))]}),!S.isOverfilled&&S.totalWireCount>0?n.jsx("div",{style:{background:"#d1fae5",border:"1px solid #6ee7b7",borderRadius:"8px",padding:"1rem"},children:n.jsxs("div",{style:{display:"flex",alignItems:"start",gap:"0.75rem"},children:[n.jsx(en,{size:20,color:"#059669",style:{flexShrink:0,marginTop:"0.125rem"}}),n.jsxs("div",{style:{fontSize:"0.875rem",color:"#047857",lineHeight:"1.5"},children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"0.5rem"},children:"Conduit fill is within NEC limits"}),n.jsxs("div",{children:["Total conductors: ",S.totalWireCount]})]})]})}):S.isOverfilled?n.jsx("div",{style:{background:"#fef3c7",border:"1px solid #fcd34d",borderRadius:"8px",padding:"1rem"},children:n.jsxs("div",{style:{display:"flex",alignItems:"start",gap:"0.75rem"},children:[n.jsx(_l,{size:20,color:"#d97706",style:{flexShrink:0,marginTop:"0.125rem"}}),n.jsxs("div",{style:{fontSize:"0.875rem",color:"#92400e",lineHeight:"1.5"},children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"0.5rem",fontSize:"0.9375rem"},children:"CONDUIT OVERFILLED - Violates NEC Chapter 9"}),n.jsx("div",{children:"Reduce number of conductors or use larger conduit"})]})]})}):null]}),n.jsxs("div",{style:{background:p.sectionBg,padding:"1rem",borderRadius:"8px",border:`1px solid ${p.cardBorder}`,fontSize:"0.8125rem",color:p.labelText},children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"0.5rem",color:p.cardText},children:"NEC Chapter 9, Table 1:"}),'1 conductor: 53%  2 conductors: 31%  3+ conductors: 40%  Nipples (<24"): 60%']})]})}),ab=ve.forwardRef(({isDarkMode:r=!1,onBack:t},e)=>{const[a,s]=ve.useState("12"),[l,d]=ve.useState("copper"),[u,m]=ve.useState("75C"),[p,y]=ve.useState("30"),[j,_]=ve.useState("3"),[x,P]=ve.useState(!1),A={cardBg:r?"#374151":"#ffffff",cardBorder:r?"#4b5563":"#e5e7eb",cardText:r?"#f9fafb":"#111827",labelText:r?"#d1d5db":"#374151",inputBg:r?"#1f2937":"#ffffff",inputBorder:r?"#4b5563":"#d1d5db",sectionBg:r?"#1f2937":"#f9fafb"},C={copper:{"60C":{22:3,20:5,18:7,16:10,14:15,12:20,10:30,8:40,6:55,4:70,3:85,2:95,1:110,"1/0":125,"2/0":145,"3/0":165,"4/0":195,250:215,300:240,350:260,400:280,500:320,600:355,700:385,750:400},"75C":{22:3,20:5,18:7,16:18,14:20,12:25,10:35,8:50,6:65,4:85,3:100,2:115,1:130,"1/0":150,"2/0":175,"3/0":200,"4/0":230,250:255,300:285,350:310,400:335,500:380,600:420,700:460,750:475},"90C":{22:3,20:5,18:7,16:18,14:25,12:30,10:40,8:55,6:75,4:95,3:115,2:130,1:150,"1/0":170,"2/0":195,"3/0":225,"4/0":260,250:290,300:320,350:350,400:380,500:430,600:475,700:520,750:535}},aluminum:{"60C":{12:15,10:25,8:30,6:40,4:55,3:65,2:75,1:85,"1/0":100,"2/0":115,"3/0":130,"4/0":150,250:170,300:190,350:210,400:225,500:260,600:285,700:310,750:320},"75C":{12:20,10:30,8:40,6:50,4:65,3:75,2:90,1:100,"1/0":120,"2/0":135,"3/0":155,"4/0":180,250:205,300:230,350:250,400:270,500:310,600:340,700:375,750:385},"90C":{12:25,10:35,8:45,6:60,4:75,3:85,2:100,1:115,"1/0":135,"2/0":150,"3/0":175,"4/0":205,250:230,300:260,350:280,400:305,500:350,600:385,700:420,750:435}}},S={"60C":{10:1.29,15:1.2,20:1.11,25:1.05,30:1,35:.94,40:.88,45:.82,50:.75,55:.67,60:.58,65:.47,70:.33},"75C":{10:1.2,15:1.15,20:1.11,25:1.05,30:1,35:.94,40:.88,45:.82,50:.75,55:.67,60:.58,65:.47,70:.33,75:0},"90C":{10:1.15,15:1.12,20:1.08,25:1.04,30:1,35:.96,40:.91,45:.87,50:.82,55:.76,60:.71,65:.65,70:.58,75:.5,80:.41,85:.29,90:0}},F=(J,D)=>D==="22"?"Thermostat wiring, doorbells, low-voltage controls":D==="20"?"Doorbells, security systems, low-voltage controls":D==="18"?"Thermostats, lighting controls, doorbells, signaling circuits":D==="16"?"Electronics, lighting control systems, doorbells, low-voltage applications":J<=15||J<=20?"Lighting circuits, small appliances":J<=25?"General outlets, lighting circuits":J<=30?"Small appliances, dryers (240V)":J<=40?"Electric ranges, large appliances":J<=50?"Electric ranges, welders, heat pumps":J<=100?"Sub-panels, large motors":J<=200?"Main panels, large commercial loads":"Service entrances, industrial applications",O=(J,D)=>{var X;return((X={copper:{14:15,12:20,10:30},aluminum:{12:15,10:25}}[D])==null?void 0:X[J])||null},B=()=>C[l][u][a]||0,H=()=>{let J=ee;const D=S[u][p]||1;let k=1;const X=parseInt(j);X<=3?k=1:X<=6?k=.8:X<=9?k=.7:X<=20?k=.5:X<=30?k=.45:X<=40?k=.4:k=.35;let R=J*D*k,se=R;return x&&(se=R*.8),{base:J,tempFactor:D,conductorFactor:k,derated:Math.round(R*10)/10,continuous:Math.round(se*10)/10}},ee=B(),ce=O(a,l),W=H(),I=W.tempFactor!==1||W.conductorFactor!==1||x;return ve.useImperativeHandle(e,()=>({exportPDF:()=>{const J=X=>({"60C":"60C (140F)","75C":"75C (167F)","90C":"90C (194F)"})[X]||X,D=X=>({10:"10C (50F)",15:"15C (59F)",20:"20C (68F)",25:"25C (77F)",30:"30C (86F)",35:"35C (95F)",40:"40C (104F)",45:"45C (113F)",50:"50C (122F)"})[X]||`${X}C`,k={calculatorName:"Ampacity Lookup Calculator",inputs:{wireSize:a.includes("/")?`${a} AWG`:`${a} ${parseInt(a)<=16?"AWG":"kcmil"}`,wireMaterial:l.charAt(0).toUpperCase()+l.slice(1),temperatureRating:J(u),ambientTemperature:D(p),currentCarryingConductors:j,continuousLoad:x?"Yes (3+ hours)":"No"},results:{baseAmpacity:`${W.base} A`,deratedAmpacity:I?`${W.derated} A`:"N/A (no derating applied)",finalAmpacity:`${x?W.continuous:I?W.derated:W.base} A`,ocpdLimit:ce?`${ce} A (NEC 240.4(D))`:"No special limit",commonApplications:F(ee,a)},additionalInfo:{temperatureCorrectionFactor:`${W.tempFactor.toFixed(2)}`,conductorAdjustmentFactor:`${W.conductorFactor.toFixed(2)}`,continuousLoadFactor:x?"0.80":"Not applied",deratingApplied:I?"Yes":"No"},necReferences:["NEC Table 310.16 - Allowable Ampacities of Insulated Conductors","NEC 310.15(B)(2)(a) - Temperature Correction Factors","NEC 310.15(B)(3)(a) - Conductor Bundling Adjustment Factors",ce?"NEC 240.4(D) - Small Conductor Overcurrent Protection":null,x?"NEC 210.19(A)(1) - Continuous Load Sizing (125% factor)":null].filter(Boolean)};Er(k)}})),n.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto"},children:[n.jsxs("div",{style:{background:A.cardBg,border:`1px solid ${A.cardBorder}`,borderRadius:"12px",padding:"1.5rem",marginBottom:"1rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[n.jsx("h3",{style:{fontSize:"1rem",fontWeight:"600",color:A.cardText,marginTop:0,marginBottom:"1rem",borderBottom:`1px solid ${A.cardBorder}`,paddingBottom:"0.5rem"},children:"Wire Selection"}),n.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:A.labelText,marginBottom:"0.5rem"},children:"Wire Size"}),n.jsxs("select",{value:a,onChange:J=>s(J.target.value),style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${A.inputBorder}`,borderRadius:"8px",backgroundColor:A.inputBg,color:A.cardText,boxSizing:"border-box"},children:[n.jsx("option",{value:"22",children:"22 AWG"}),n.jsx("option",{value:"20",children:"20 AWG"}),n.jsx("option",{value:"18",children:"18 AWG"}),n.jsx("option",{value:"16",children:"16 AWG"}),n.jsx("option",{value:"14",children:"14 AWG"}),n.jsx("option",{value:"12",children:"12 AWG"}),n.jsx("option",{value:"10",children:"10 AWG"}),n.jsx("option",{value:"8",children:"8 AWG"}),n.jsx("option",{value:"6",children:"6 AWG"}),n.jsx("option",{value:"4",children:"4 AWG"}),n.jsx("option",{value:"3",children:"3 AWG"}),n.jsx("option",{value:"2",children:"2 AWG"}),n.jsx("option",{value:"1",children:"1 AWG"}),n.jsx("option",{value:"1/0",children:"1/0 AWG"}),n.jsx("option",{value:"2/0",children:"2/0 AWG"}),n.jsx("option",{value:"3/0",children:"3/0 AWG"}),n.jsx("option",{value:"4/0",children:"4/0 AWG"}),n.jsx("option",{value:"250",children:"250 kcmil"}),n.jsx("option",{value:"300",children:"300 kcmil"}),n.jsx("option",{value:"350",children:"350 kcmil"}),n.jsx("option",{value:"400",children:"400 kcmil"}),n.jsx("option",{value:"500",children:"500 kcmil"}),n.jsx("option",{value:"600",children:"600 kcmil"}),n.jsx("option",{value:"700",children:"700 kcmil"}),n.jsx("option",{value:"750",children:"750 kcmil"})]})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",alignItems:"end"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:A.labelText,marginBottom:"0.5rem"},children:"Wire Material"}),n.jsxs("select",{value:l,onChange:J=>d(J.target.value),style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${A.inputBorder}`,borderRadius:"8px",backgroundColor:A.inputBg,color:A.cardText,boxSizing:"border-box"},children:[n.jsx("option",{value:"copper",children:"Copper"}),n.jsx("option",{value:"aluminum",children:"Aluminum"})]})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:A.labelText,marginBottom:"0.5rem"},children:"Temperature Rating"}),n.jsxs("select",{value:u,onChange:J=>m(J.target.value),style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${A.inputBorder}`,borderRadius:"8px",backgroundColor:A.inputBg,color:A.cardText,boxSizing:"border-box"},children:[n.jsx("option",{value:"60C",children:"60C (140F)"}),n.jsx("option",{value:"75C",children:"75C (167F)"}),n.jsx("option",{value:"90C",children:"90C (194F)"})]})]})]})]})]}),n.jsxs("div",{style:{background:A.cardBg,border:`1px solid ${A.cardBorder}`,borderRadius:"12px",padding:"1.5rem",marginBottom:"1rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[n.jsx("h3",{style:{fontSize:"1rem",fontWeight:"600",color:A.cardText,marginTop:0,marginBottom:"1rem",borderBottom:`1px solid ${A.cardBorder}`,paddingBottom:"0.5rem"},children:"Derating Factors (Optional)"}),n.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",alignItems:"end"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:A.labelText,marginBottom:"0.5rem"},children:"Ambient Temp (C)"}),n.jsxs("select",{value:p,onChange:J=>y(J.target.value),style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${A.inputBorder}`,borderRadius:"8px",backgroundColor:A.inputBg,color:A.cardText,boxSizing:"border-box"},children:[n.jsx("option",{value:"10",children:"10C (50F)"}),n.jsx("option",{value:"15",children:"15C (59F)"}),n.jsx("option",{value:"20",children:"20C (68F)"}),n.jsx("option",{value:"25",children:"25C (77F)"}),n.jsx("option",{value:"30",children:"30C (86F) - Standard"}),n.jsx("option",{value:"35",children:"35C (95F)"}),n.jsx("option",{value:"40",children:"40C (104F)"}),n.jsx("option",{value:"45",children:"45C (113F)"}),n.jsx("option",{value:"50",children:"50C (122F)"})]})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:A.labelText,marginBottom:"0.5rem"},children:"Current-Carrying Conductors"}),n.jsx("input",{type:"number",value:j,onChange:J=>_(J.target.value),min:"1",style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${A.inputBorder}`,borderRadius:"8px",backgroundColor:A.inputBg,color:A.cardText,boxSizing:"border-box"}})]})]}),n.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.75rem",cursor:"pointer"},children:[n.jsx("input",{type:"checkbox",checked:x,onChange:J=>P(J.target.checked),style:{width:"1.125rem",height:"1.125rem",cursor:"pointer"}}),n.jsx("span",{style:{fontSize:"0.875rem",fontWeight:"500",color:A.labelText},children:"Continuous Load (3+ hours) - Apply 80% factor"})]}),n.jsxs("div",{style:{background:A.sectionBg,padding:"1rem",borderRadius:"8px",border:`1px solid ${A.cardBorder}`},children:[n.jsx("h4",{style:{fontSize:"0.875rem",fontWeight:"600",color:A.cardText,marginTop:0,marginBottom:"0.75rem"},children:"Applied Factors"}),n.jsxs("div",{style:{display:"grid",gap:"0.5rem",fontSize:"0.875rem",color:A.labelText},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[n.jsx("span",{children:"Temperature Factor:"}),n.jsxs("span",{style:{fontWeight:"600",color:A.cardText},children:["",W.tempFactor.toFixed(2)]})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[n.jsx("span",{children:"Conductor Adjustment:"}),n.jsxs("span",{style:{fontWeight:"600",color:A.cardText},children:["",W.conductorFactor.toFixed(2)]})]}),x&&n.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[n.jsx("span",{children:"Continuous Load:"}),n.jsx("span",{style:{fontWeight:"600",color:A.cardText},children:"0.80"})]})]})]})]})]}),n.jsxs("div",{style:{background:A.cardBg,border:`1px solid ${A.cardBorder}`,borderRadius:"12px",padding:"1.5rem",marginBottom:"1rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[n.jsx("h3",{style:{fontSize:"1.125rem",fontWeight:"600",color:A.cardText,marginTop:0,marginBottom:"1rem"},children:"Results"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:I?"repeat(3, 1fr)":"1fr",gap:"1rem",marginBottom:"1rem"},children:[n.jsxs("div",{style:{background:A.sectionBg,padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:A.labelText,marginBottom:"0.25rem"},children:"Base Ampacity"}),n.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:A.cardText},children:[W.base," A"]})]}),I&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{style:{background:A.sectionBg,padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:A.labelText,marginBottom:"0.25rem"},children:"Derated Ampacity"}),n.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:A.cardText},children:[W.derated," A"]})]}),n.jsxs("div",{style:{background:"#dbeafe",padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:"#1e40af",marginBottom:"0.25rem"},children:"Final Ampacity"}),n.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:"#1e40af"},children:[x?W.continuous:W.derated," A"]})]})]})]}),n.jsx("div",{style:{background:"#d1fae5",border:"1px solid #6ee7b7",borderRadius:"8px",padding:"1rem",marginBottom:"1rem"},children:n.jsxs("div",{style:{display:"flex",alignItems:"start",gap:"0.75rem"},children:[n.jsx(en,{size:20,color:"#059669",style:{flexShrink:0,marginTop:"0.125rem"}}),n.jsxs("div",{style:{fontSize:"0.875rem",color:"#047857",lineHeight:"1.5",width:"100%"},children:[n.jsxs("div",{style:{marginBottom:"0.5rem"},children:[n.jsx("strong",{children:"Wire:"})," ",a," AWG ",l]}),n.jsxs("div",{style:{marginBottom:"0.5rem"},children:[n.jsx("strong",{children:"Temperature Rating:"})," ",u," (",u==="60C"?"140F":u==="75C"?"167F":"194F",")"]})]})]})}),ce&&n.jsx("div",{style:{background:"#fef3c7",border:"1px solid #fcd34d",borderRadius:"8px",padding:"1rem",marginBottom:"1rem"},children:n.jsxs("div",{style:{display:"flex",alignItems:"start",gap:"0.75rem"},children:[n.jsx(_l,{size:20,color:"#d97706",style:{flexShrink:0,marginTop:"0.125rem"}}),n.jsxs("div",{style:{fontSize:"0.875rem",color:"#92400e",lineHeight:"1.5"},children:[n.jsx("strong",{children:"NEC 240.4(D) Limit:"})," ",ce,"A max overcurrent protection"]})]})}),n.jsx("div",{style:{background:A.sectionBg,padding:"1rem",borderRadius:"8px",border:`1px solid ${A.cardBorder}`},children:n.jsxs("div",{style:{fontSize:"0.875rem",color:A.labelText,lineHeight:"1.5"},children:[n.jsx("div",{style:{fontWeight:"600",color:A.cardText,marginBottom:"0.5rem"},children:"Common Applications:"}),F(ee,a)]})})]})]})}),sb=({flcData:r,setFlcData:t,colors:e})=>{var u,m;const a={single:{115:{.25:4.4,.33:5.8,.5:7.2,.75:9.8,1:13.8,1.5:20,2:24,3:34,5:56},230:{.25:2.2,.33:2.9,.5:3.6,.75:4.9,1:6.9,1.5:10,2:12,3:17,5:28}},three:{230:{.5:2,.75:2.8,1:3.6,1.5:5.2,2:6.8,3:9.6,5:15.2,7.5:22,10:28,15:42,20:54,25:68,30:80,40:104,50:130,60:154,75:192,100:248,125:312,150:360,200:480},460:{.5:1,.75:1.4,1:1.8,1.5:2.6,2:3.4,3:4.8,5:7.6,7.5:11,10:14,15:21,20:27,25:34,30:40,40:52,50:65,60:77,75:96,100:124,125:156,150:180,200:240},575:{.5:.8,.75:1.1,1:1.4,1.5:2.1,2:2.7,3:3.9,5:6.1,7.5:9,10:11,15:17,20:22,25:27,30:32,40:41,50:52,60:62,75:77,100:99,125:125,150:144,200:192},2300:{250:65,300:77,350:90,400:103,450:116,500:129},4e3:{500:74,600:88,700:103,800:118,900:132,1e3:147}}},l=(()=>{const p=parseFloat(r.horsepower),y=parseInt(r.voltage);if(a[r.phase]&&a[r.phase][y]&&a[r.phase][y][p])return a[r.phase][y][p];const j=parseFloat(r.efficiency),_=parseFloat(r.powerFactor);return r.phase==="single"?p*746/(y*j*_):p*746/(1.732*y*j*_)})(),d=(m=(u=a[r.phase])==null?void 0:u[parseInt(r.voltage)])==null?void 0:m[parseFloat(r.horsepower)];return n.jsxs("div",{children:[n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem",marginBottom:"1rem"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:e.labelText,marginBottom:"0.5rem"},children:"Motor Horsepower"}),n.jsxs("select",{value:r.horsepower,onChange:p=>t({...r,horsepower:p.target.value}),style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${e.inputBorder}`,borderRadius:"8px",backgroundColor:e.inputBg,color:e.cardText,boxSizing:"border-box"},children:[n.jsx("option",{value:"",children:"Select HP"}),n.jsx("option",{value:"0.25",children:"1/4 HP"}),n.jsx("option",{value:"0.33",children:"1/3 HP"}),n.jsx("option",{value:"0.5",children:"1/2 HP"}),n.jsx("option",{value:"0.75",children:"3/4 HP"}),n.jsx("option",{value:"1",children:"1 HP"}),n.jsx("option",{value:"1.5",children:"1.5 HP"}),n.jsx("option",{value:"2",children:"2 HP"}),n.jsx("option",{value:"3",children:"3 HP"}),n.jsx("option",{value:"5",children:"5 HP"}),n.jsx("option",{value:"7.5",children:"7.5 HP"}),n.jsx("option",{value:"10",children:"10 HP"}),n.jsx("option",{value:"15",children:"15 HP"}),n.jsx("option",{value:"20",children:"20 HP"}),n.jsx("option",{value:"25",children:"25 HP"}),n.jsx("option",{value:"30",children:"30 HP"}),n.jsx("option",{value:"40",children:"40 HP"}),n.jsx("option",{value:"50",children:"50 HP"}),n.jsx("option",{value:"75",children:"75 HP"}),n.jsx("option",{value:"100",children:"100 HP"})]})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:e.labelText,marginBottom:"0.5rem"},children:"Voltage"}),n.jsxs("select",{value:r.voltage,onChange:p=>t({...r,voltage:p.target.value}),style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${e.inputBorder}`,borderRadius:"8px",backgroundColor:e.inputBg,color:e.cardText,boxSizing:"border-box"},children:[n.jsx("option",{value:"115",children:"115V"}),n.jsx("option",{value:"230",children:"230V"}),n.jsx("option",{value:"460",children:"460V"}),n.jsx("option",{value:"480",children:"480V"}),n.jsx("option",{value:"575",children:"575V"}),n.jsx("option",{value:"2300",children:"2300V"}),n.jsx("option",{value:"4000",children:"4000V"})]})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:e.labelText,marginBottom:"0.5rem"},children:"Phase"}),n.jsxs("select",{value:r.phase,onChange:p=>t({...r,phase:p.target.value}),style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${e.inputBorder}`,borderRadius:"8px",backgroundColor:e.inputBg,color:e.cardText,boxSizing:"border-box"},children:[n.jsx("option",{value:"single",children:"Single Phase"}),n.jsx("option",{value:"three",children:"Three Phase"})]})]})]}),r.horsepower&&!d&&n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem",marginBottom:"1rem"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:e.labelText,marginBottom:"0.5rem"},children:"Motor Efficiency"}),n.jsxs("select",{value:r.efficiency,onChange:p=>t({...r,efficiency:p.target.value}),style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${e.inputBorder}`,borderRadius:"8px",backgroundColor:e.inputBg,color:e.cardText,boxSizing:"border-box"},children:[n.jsx("option",{value:"0.8",children:"80% (Standard)"}),n.jsx("option",{value:"0.85",children:"85% (High Efficiency)"}),n.jsx("option",{value:"0.9",children:"90% (Premium)"}),n.jsx("option",{value:"0.95",children:"95% (Super Premium)"})]})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:e.labelText,marginBottom:"0.5rem"},children:"Power Factor"}),n.jsxs("select",{value:r.powerFactor,onChange:p=>t({...r,powerFactor:p.target.value}),style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${e.inputBorder}`,borderRadius:"8px",backgroundColor:e.inputBg,color:e.cardText,boxSizing:"border-box"},children:[n.jsx("option",{value:"0.7",children:"0.7 (Poor)"}),n.jsx("option",{value:"0.8",children:"0.8 (Typical)"}),n.jsx("option",{value:"0.85",children:"0.85 (Good)"}),n.jsx("option",{value:"0.9",children:"0.9 (Excellent)"})]})]})]}),n.jsxs("div",{style:{background:e.sectionBg,padding:"1rem",borderRadius:"8px",marginBottom:"1rem",border:`1px solid ${e.cardBorder}`},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:e.labelText,marginBottom:"0.5rem",textAlign:"center"},children:"Full Load Current"}),n.jsx("div",{style:{fontSize:"2rem",fontWeight:"700",color:e.cardText,textAlign:"center"},children:l?l.toFixed(1):"0.0"}),n.jsx("div",{style:{fontSize:"0.875rem",color:e.labelText,textAlign:"center",marginTop:"0.25rem"},children:"Amperes"})]}),d?n.jsx("div",{style:{background:"#d1fae5",border:"1px solid #6ee7b7",borderRadius:"8px",padding:"1rem"},children:n.jsxs("div",{style:{display:"flex",alignItems:"start",gap:"0.75rem"},children:[n.jsx(en,{size:20,color:"#059669",style:{flexShrink:0,marginTop:"0.125rem"}}),n.jsxs("div",{style:{fontSize:"0.875rem",color:"#047857",lineHeight:"1.5"},children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"0.25rem"},children:"Value from NEC Table 430.250"}),n.jsx("div",{style:{fontSize:"0.8125rem"},children:"Standard full load current from NEC tables"})]})]})}):r.horsepower?n.jsx("div",{style:{background:"#fef3c7",border:"1px solid #fcd34d",borderRadius:"8px",padding:"1rem"},children:n.jsxs("div",{style:{display:"flex",alignItems:"start",gap:"0.75rem"},children:[n.jsx(_l,{size:20,color:"#d97706",style:{flexShrink:0,marginTop:"0.125rem"}}),n.jsxs("div",{style:{fontSize:"0.875rem",color:"#92400e",lineHeight:"1.5"},children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"0.25rem"},children:"Calculated Value"}),n.jsx("div",{style:{fontSize:"0.8125rem"},children:"Not in NEC tables - calculated using efficiency and power factor"})]})]})}):null]})},lb=({protectionData:r,setProtectionData:t,colors:e})=>{const a={"inverse-time-breaker":250,"instantaneous-trip-breaker":800,"inverse-time-fuse":175,"time-delay-fuse":175},l=(()=>{if(!r.flc)return{calculated:"0",standard:0};const d=parseFloat(r.flc),u=a[r.protectionType],m=d*u/100,y=[15,20,25,30,35,40,45,50,60,70,80,90,100,110,125,150,175,200,225,250,300,350,400,450,500,600,700,800,1e3,1200,1600,2e3,2500,3e3,4e3,5e3,6e3].find(j=>j>=m)||m;return{calculated:m.toFixed(1),standard:y,percentage:u}})();return n.jsxs("div",{children:[n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem",marginBottom:"1rem"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:e.labelText,marginBottom:"0.5rem"},children:"Motor Full Load Current (FLC)"}),n.jsx("input",{type:"number",value:r.flc,onChange:d=>t({...r,flc:d.target.value}),placeholder:"Enter FLC in amps",style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${e.inputBorder}`,borderRadius:"8px",backgroundColor:e.inputBg,color:e.cardText,boxSizing:"border-box"}})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:e.labelText,marginBottom:"0.5rem"},children:"Protection Type"}),n.jsxs("select",{value:r.protectionType,onChange:d=>t({...r,protectionType:d.target.value}),style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${e.inputBorder}`,borderRadius:"8px",backgroundColor:e.inputBg,color:e.cardText,boxSizing:"border-box"},children:[n.jsx("option",{value:"inverse-time-breaker",children:"Inverse Time Breaker"}),n.jsx("option",{value:"instantaneous-trip-breaker",children:"Instantaneous Trip Breaker"}),n.jsx("option",{value:"inverse-time-fuse",children:"Inverse Time Fuse"}),n.jsx("option",{value:"time-delay-fuse",children:"Time Delay Fuse"})]})]})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"1rem",marginBottom:"1rem"},children:[n.jsxs("div",{style:{background:e.sectionBg,padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:e.labelText,marginBottom:"0.25rem"},children:"Calculated Maximum"}),n.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:e.cardText},children:l.calculated}),n.jsx("div",{style:{fontSize:"0.75rem",color:e.labelText,marginTop:"0.25rem"},children:"Amperes"})]}),n.jsxs("div",{style:{background:"#dbeafe",padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:"#1e40af",marginBottom:"0.25rem"},children:"Standard Size"}),n.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:"#1e40af"},children:l.standard}),n.jsx("div",{style:{fontSize:"0.75rem",color:"#1e40af",marginTop:"0.25rem"},children:"Amperes"})]})]}),r.flc&&n.jsxs("div",{style:{background:e.sectionBg,padding:"1rem",borderRadius:"8px",border:`1px solid ${e.cardBorder}`,fontSize:"0.8125rem",color:e.labelText},children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"0.5rem",color:e.cardText},children:"NEC Reference:"}),"Per NEC Table 430.52 (",l.percentage,"% of FLC)"]})]})},cb=({wireSizeData:r,setWireSizeData:t,colors:e})=>{const s=(()=>{if(!r.flc)return null;const l=parseFloat(r.flc)*1.25,d={"60C":{14:15,12:20,10:30,8:40,6:55,4:70,3:85,2:95,1:110,"1/0":125,"2/0":145,"3/0":165,"4/0":195,250:215,300:240,350:260,400:280,500:320,600:355,700:385,750:400},"75C":{14:20,12:25,10:35,8:50,6:65,4:85,3:100,2:115,1:130,"1/0":150,"2/0":175,"3/0":200,"4/0":230,250:255,300:285,350:310,400:335,500:380,600:420,750:475},"90C":{14:25,12:30,10:40,8:55,6:75,4:95,3:115,2:130,1:150,"1/0":170,"2/0":195,"3/0":225,"4/0":260,250:290,300:320,350:350,400:380,500:430,600:475,700:520,750:535}},u={14:15,12:20,10:30},p=["14","12","10","8","6","4","3","2","1","1/0","2/0","3/0","4/0","250","300","350","400","500","600","700","750"].find(y=>{const j=d[r.tempRating][y]>=l,_=!u[y]||u[y]>=l;return j&&_});return{requiredAmps:l.toFixed(1),wireSize:p||"Larger than 750 kcmil required",ampacity:p?d[r.tempRating][p]:"N/A",ocpdLimit:p&&u[p]?u[p]:null}})();return n.jsxs("div",{children:[n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem",marginBottom:"1rem"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:e.labelText,marginBottom:"0.5rem"},children:"Motor Full Load Current (FLC)"}),n.jsx("input",{type:"number",value:r.flc,onChange:l=>t({...r,flc:l.target.value}),placeholder:"Enter FLC in amps",style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${e.inputBorder}`,borderRadius:"8px",backgroundColor:e.inputBg,color:e.cardText,boxSizing:"border-box"}})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:e.labelText,marginBottom:"0.5rem"},children:"Temperature Rating"}),n.jsxs("select",{value:r.tempRating,onChange:l=>t({...r,tempRating:l.target.value}),style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${e.inputBorder}`,borderRadius:"8px",backgroundColor:e.inputBg,color:e.cardText,boxSizing:"border-box"},children:[n.jsx("option",{value:"60C",children:"60C (140F) - TW, UF"}),n.jsx("option",{value:"75C",children:"75C (167F) - THWN, XHHW"}),n.jsx("option",{value:"90C",children:"90C (194F) - THHN, XHHW-2"})]})]})]}),s&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{style:{background:e.sectionBg,padding:"1rem",borderRadius:"8px",marginBottom:"1rem",border:`1px solid ${e.cardBorder}`},children:[n.jsxs("div",{style:{fontSize:"0.875rem",color:e.labelText,marginBottom:"0.75rem"},children:[n.jsx("strong",{style:{color:e.cardText},children:"Required Current Capacity:"})," ",s.requiredAmps," Amps (125% of FLC)"]}),n.jsx("div",{style:{fontSize:"0.75rem",color:e.labelText,marginBottom:"0.5rem",textAlign:"center"},children:"Minimum Wire Size"}),n.jsx("div",{style:{fontSize:"2rem",fontWeight:"700",color:e.cardText,textAlign:"center",marginBottom:"0.5rem"},children:s.wireSize}),s.ampacity!=="N/A"&&n.jsxs("div",{style:{fontSize:"0.875rem",color:e.labelText,textAlign:"center"},children:["Ampacity: ",s.ampacity," Amps"]})]}),s.ocpdLimit&&n.jsx("div",{style:{background:"#fef3c7",border:"1px solid #fcd34d",borderRadius:"8px",padding:"1rem",marginBottom:"1rem"},children:n.jsxs("div",{style:{display:"flex",alignItems:"start",gap:"0.75rem"},children:[n.jsx(_l,{size:20,color:"#d97706",style:{flexShrink:0,marginTop:"0.125rem"}}),n.jsxs("div",{style:{fontSize:"0.875rem",color:"#92400e",lineHeight:"1.5"},children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"0.25rem"},children:"NEC 240.4(D) Limitation"}),n.jsxs("div",{style:{fontSize:"0.8125rem"},children:[s.ocpdLimit,"A maximum overcurrent protection for ",s.wireSize," wire"]})]})]})}),n.jsxs("div",{style:{background:e.sectionBg,padding:"1rem",borderRadius:"8px",border:`1px solid ${e.cardBorder}`,fontSize:"0.8125rem",color:e.labelText},children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"0.5rem",color:e.cardText},children:"NEC Reference:"}),"Per NEC 430.22 - Branch circuit conductors must carry 125% of motor FLC"]})]})]})},db=ve.forwardRef(({isDarkMode:r=!1},t)=>{const[e,a]=ve.useState("flc"),[s,l]=ve.useState({horsepower:"",voltage:"480",phase:"three",efficiency:"0.85",powerFactor:"0.8"}),[d,u]=ve.useState({flc:"",protectionType:"inverse-time-breaker"}),[m,p]=ve.useState({flc:"",tempRating:"75C"}),y={cardBg:r?"#374151":"#ffffff",cardBorder:r?"#4b5563":"#e5e7eb",cardText:r?"#f9fafb":"#111827",labelText:r?"#d1d5db":"#374151",inputBg:r?"#1f2937":"#ffffff",inputBorder:r?"#4b5563":"#d1d5db",sectionBg:r?"#1f2937":"#f9fafb",subtleText:r?"#9ca3af":"#6b7280"};ve.useImperativeHandle(t,()=>({exportPDF:()=>{var x,P;let _;if(e==="flc"){if(!s.horsepower){alert("Please select motor horsepower before exporting");return}const A={single:{115:{.25:4.4,.33:5.8,.5:7.2,.75:9.8,1:13.8,1.5:20,2:24,3:34,5:56},230:{.25:2.2,.33:2.9,.5:3.6,.75:4.9,1:6.9,1.5:10,2:12,3:17,5:28}},three:{230:{.5:2,.75:2.8,1:3.6,1.5:5.2,2:6.8,3:9.6,5:15.2,7.5:22,10:28,15:42,20:54,25:68,30:80,40:104,50:130,60:154,75:192,100:248,125:312,150:360,200:480},460:{.5:1,.75:1.4,1:1.8,1.5:2.6,2:3.4,3:4.8,5:7.6,7.5:11,10:14,15:21,20:27,25:34,30:40,40:52,50:65,60:77,75:96,100:124,125:156,150:180,200:240},575:{.5:.8,.75:1.1,1:1.4,1.5:2.1,2:2.7,3:3.9,5:6.1,7.5:9,10:11,15:17,20:22,25:27,30:32,40:41,50:52,60:62,75:77,100:99,125:125,150:144,200:192},2300:{250:65,300:77,350:90,400:103,450:116,500:129},4e3:{500:74,600:88,700:103,800:118,900:132,1e3:147}}},C=parseFloat(s.horsepower),S=parseInt(s.voltage);let F,O=!1;if((P=(x=A[s.phase])==null?void 0:x[S])!=null&&P[C])F=A[s.phase][S][C],O=!0;else{const H=parseFloat(s.efficiency),ee=parseFloat(s.powerFactor);s.phase==="single"?F=C*746/(S*H*ee):F=C*746/(1.732*S*H*ee)}const B={motorHorsepower:`${C} HP`,voltage:`${s.voltage}V`,phase:s.phase==="single"?"Single Phase":"Three Phase"};O||(B.motorEfficiency=`${(parseFloat(s.efficiency)*100).toFixed(0)}%`,B.powerFactor=s.powerFactor),_={calculatorName:"Motor Calculations - Full Load Current",inputs:B,results:{fullLoadCurrent:`${F.toFixed(1)} Amperes`,source:O?"NEC Table 430.250":"Calculated"},additionalInfo:O?{note:"Standard full load current from NEC tables"}:{calculation:s.phase==="single"?`FLC = (${C} HP  746)  (${S}V  ${s.efficiency} eff  ${s.powerFactor} pf) = ${F.toFixed(1)}A`:`FLC = (${C} HP  746)  (1.732  ${S}V  ${s.efficiency} eff  ${s.powerFactor} pf) = ${F.toFixed(1)}A`,note:"Calculated value - not in NEC tables"},necReferences:["NEC Table 430.250 - Full-Load Current, Three-Phase Alternating-Current Motors","NEC Table 430.248 - Full-Load Current, Single-Phase Alternating-Current Motors","NEC 430.6 - Ampacity and Motor Rating Determination"]}}else if(e==="protection"){if(!d.flc){alert("Please enter motor FLC before exporting");return}const A={"inverse-time-breaker":"Inverse Time Breaker","instantaneous-trip-breaker":"Instantaneous Trip Breaker","inverse-time-fuse":"Inverse Time Fuse","time-delay-fuse":"Time Delay Fuse"},C={"inverse-time-breaker":250,"instantaneous-trip-breaker":800,"inverse-time-fuse":175,"time-delay-fuse":175},S=parseFloat(d.flc),F=C[d.protectionType],O=S*F/100,H=[15,20,25,30,35,40,45,50,60,70,80,90,100,110,125,150,175,200,225,250,300,350,400,450,500,600,700,800,1e3,1200,1600,2e3,2500,3e3,4e3,5e3,6e3].find(ee=>ee>=O)||O;_={calculatorName:"Motor Calculations - Branch Circuit Protection",inputs:{motorFullLoadCurrent:`${d.flc} Amps`,protectionType:A[d.protectionType]},results:{calculatedMaximum:`${O.toFixed(1)} Amperes`,standardSize:`${H} Amperes`},additionalInfo:{calculation:`Maximum = ${S}A  ${F}% = ${O.toFixed(1)}A`,nextStandardSize:`Next standard OCPD size: ${H}A`},necReferences:[`NEC Table 430.52 - Maximum Rating or Setting of Motor Branch-Circuit Short-Circuit and Ground-Fault Protective Devices (${F}% of FLC)`,"NEC 430.52(C) - Rating or Setting for Individual Motor Circuit","NEC 240.6 - Standard Ampere Ratings"]}}else if(e==="wiresize"){if(!m.flc){alert("Please enter motor FLC before exporting");return}const A={"60C":"60C (140F) - TW, UF","75C":"75C (167F) - THWN, XHHW","90C":"90C (194F) - THHN, XHHW-2"},C=(parseFloat(m.flc)*1.25).toFixed(1),S={"60C":{14:15,12:20,10:30,8:40,6:55,4:70,3:85,2:95,1:110,"1/0":125,"2/0":145,"3/0":165,"4/0":195,250:215,300:240,350:260,400:280,500:320,600:355,700:385,750:400},"75C":{14:20,12:25,10:35,8:50,6:65,4:85,3:100,2:115,1:130,"1/0":150,"2/0":175,"3/0":200,"4/0":230,250:255,300:285,350:310,400:335,500:380,600:420,750:475},"90C":{14:25,12:30,10:40,8:55,6:75,4:95,3:115,2:130,1:150,"1/0":170,"2/0":195,"3/0":225,"4/0":260,250:290,300:320,350:350,400:380,500:430,600:475,700:520,750:535}},F={14:15,12:20,10:30},B=["14","12","10","8","6","4","3","2","1","1/0","2/0","3/0","4/0","250","300","350","400","500","600","700","750"].find(ce=>{const W=S[m.tempRating][ce]>=parseFloat(C),I=!F[ce]||F[ce]>=parseFloat(C);return W&&I}),H=B||"Larger than 750 kcmil required",ee=B?S[m.tempRating][B]:"N/A";_={calculatorName:"Motor Calculations - Wire Sizing",inputs:{motorFullLoadCurrent:`${m.flc} Amps`,temperatureRating:A[m.tempRating]},results:{requiredCapacity:`${C} Amps (125% of FLC)`,minimumWireSize:H,wireAmpacity:ee!=="N/A"?`${ee} Amps`:"N/A"},additionalInfo:{calculation:`Required capacity = ${m.flc}A  125% = ${C}A`,...B&&F[B]&&{ocpdLimitation:`NEC 240.4(D): ${F[B]}A maximum OCPD for ${H} wire`}},necReferences:["NEC 430.22 - Single Motor - Conductors supplying a single motor shall have an ampacity not less than 125% of FLC","NEC Table 310.16 - Allowable Ampacities of Insulated Conductors","NEC 240.4(D) - Small Conductors - Unless specifically permitted, overcurrent protection shall not exceed limits"]}}Er(_)}}));const j={flc:n.jsx(sb,{flcData:s,setFlcData:l,colors:y}),protection:n.jsx(lb,{protectionData:d,setProtectionData:u,colors:y}),wiresize:n.jsx(cb,{wireSizeData:m,setWireSizeData:p,colors:y})};return n.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto"},children:[n.jsx("div",{style:{background:y.cardBg,border:`1px solid ${y.cardBorder}`,borderRadius:"12px",padding:"1rem",marginBottom:"1rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:n.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[n.jsx("button",{onClick:()=>a("flc"),style:{flex:"1 1 auto",minWidth:"120px",padding:"0.75rem 1rem",background:e==="flc"?"#3b82f6":"transparent",color:e==="flc"?"white":y.labelText,border:`1px solid ${e==="flc"?"#3b82f6":y.cardBorder}`,borderRadius:"8px",cursor:"pointer",fontSize:"0.875rem",fontWeight:"600",transition:"all 0.2s"},children:"Full Load Current"}),n.jsx("button",{onClick:()=>a("protection"),style:{flex:"1 1 auto",minWidth:"120px",padding:"0.75rem 1rem",background:e==="protection"?"#3b82f6":"transparent",color:e==="protection"?"white":y.labelText,border:`1px solid ${e==="protection"?"#3b82f6":y.cardBorder}`,borderRadius:"8px",cursor:"pointer",fontSize:"0.875rem",fontWeight:"600",transition:"all 0.2s"},children:"Circuit Protection"}),n.jsx("button",{onClick:()=>a("wiresize"),style:{flex:"1 1 auto",minWidth:"120px",padding:"0.75rem 1rem",background:e==="wiresize"?"#3b82f6":"transparent",color:e==="wiresize"?"white":y.labelText,border:`1px solid ${e==="wiresize"?"#3b82f6":y.cardBorder}`,borderRadius:"8px",cursor:"pointer",fontSize:"0.875rem",fontWeight:"600",transition:"all 0.2s"},children:"Wire Sizing"})]})}),n.jsx("div",{style:{background:y.cardBg,border:`1px solid ${y.cardBorder}`,borderRadius:"12px",padding:"1.5rem",marginBottom:"1rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:j[e]}),n.jsxs("div",{style:{background:y.sectionBg,padding:"1rem",borderRadius:"8px",border:`1px solid ${y.cardBorder}`,fontSize:"0.8125rem",color:y.labelText},children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"0.5rem",color:y.cardText},children:"NEC References:"}),"430.22 - Conductors (125% FLC)  430.52 - Circuit protection  430.250 - FLC tables  430.32 - Overload protection"]})]})}),ub=({data:r,setData:t,colors:e})=>{const s=(()=>{const l=parseFloat(r.squareFootage)||0,d=parseFloat(r.smallApplianceCircuits)||0,u=parseFloat(r.laundryCircuits)||0,m=parseFloat(r.rangeKW)||0,p=parseFloat(r.dryerKW)||0,y=parseFloat(r.waterHeaterKW)||0,j=parseFloat(r.hvacKW)||0,_=parseFloat(r.otherLoadsKW)||0,x=parseFloat(r.voltage),P=l*3,A=d*1500,C=u*1500,S=P+A+C;let F=0;S<=3e3?F=S:S<=12e4?F=3e3+(S-3e3)*.35:F=43950+(S-12e4)*.25;let O=0;m>0&&(m<=12?O=8e3:O=8e3+(m-12)*400);const B=Math.max(p*1e3,5e3),H=y*1e3,ee=j*1e3,ce=_*1e3,W=F+O+B+H+ee+ce,I=W/1e3,J=W/x;let D=100;return J>200?D=400:J>150?D=200:J>100&&(D=150),{generalLighting:P,smallApplianceLoad:A,laundryLoad:C,subtotalVA:S,demandLighting:F,rangeDemand:O,dryerDemand:B,waterHeaterDemand:H,hvacDemand:ee,otherDemand:ce,totalDemandVA:W,totalDemandKW:I,totalAmperage:J,recommendedService:D}})();return n.jsxs("div",{children:[n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"1rem",marginBottom:"1rem"},children:[n.jsxs("div",{children:[n.jsxs("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:e.labelText,marginBottom:"0.5rem",minHeight:"2.5rem"},children:["Square",n.jsx("br",{}),"Footage",n.jsx("br",{}),"   ",n.jsx("br",{})]}),n.jsx("input",{type:"number",value:r.squareFootage,onChange:l=>t(d=>({...d,squareFootage:l.target.value})),placeholder:"Living area",style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${e.inputBorder}`,borderRadius:"8px",backgroundColor:e.inputBg,color:e.cardText,boxSizing:"border-box"}}),n.jsx("div",{style:{fontSize:"0.75rem",color:e.subtleText,marginTop:"0.25rem",visibility:"hidden"},children:"placeholder"})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:e.labelText,marginBottom:"0.5rem"},children:"Small Appliance Circuits"}),n.jsx("input",{type:"number",value:r.smallApplianceCircuits,onChange:l=>t(d=>({...d,smallApplianceCircuits:l.target.value})),placeholder:"Min 2",style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${e.inputBorder}`,borderRadius:"8px",backgroundColor:e.inputBg,color:e.cardText,boxSizing:"border-box"}}),n.jsx("div",{style:{fontSize:"0.75rem",color:e.subtleText,marginTop:"0.25rem"},children:"@ 1500 VA each"})]}),n.jsxs("div",{children:[n.jsxs("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:e.labelText,marginBottom:"0.5rem"},children:["Laundry Circuits ",n.jsx("br",{}),"   ",n.jsx("br",{})]}),n.jsx("input",{type:"number",value:r.laundryCircuits,onChange:l=>t(d=>({...d,laundryCircuits:l.target.value})),placeholder:"Typically 1",style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${e.inputBorder}`,borderRadius:"8px",backgroundColor:e.inputBg,color:e.cardText,boxSizing:"border-box"}}),n.jsx("div",{style:{fontSize:"0.75rem",color:e.subtleText,marginTop:"0.25rem"},children:"@ 1500 VA"})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:e.labelText,marginBottom:"0.5rem"},children:"Electric Range (kW)"}),n.jsx("input",{type:"number",value:r.rangeKW,onChange:l=>t(d=>({...d,rangeKW:l.target.value})),placeholder:"Nameplate rating",style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${e.inputBorder}`,borderRadius:"8px",backgroundColor:e.inputBg,color:e.cardText,boxSizing:"border-box"}}),n.jsx("div",{style:{fontSize:"0.75rem",color:e.subtleText,marginTop:"0.25rem",visibility:"hidden"},children:"placeholder"})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:e.labelText,marginBottom:"0.5rem"},children:"Electric Dryer (kW)"}),n.jsx("input",{type:"number",value:r.dryerKW,onChange:l=>t(d=>({...d,dryerKW:l.target.value})),placeholder:"Min 5 kW",style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${e.inputBorder}`,borderRadius:"8px",backgroundColor:e.inputBg,color:e.cardText,boxSizing:"border-box"}}),n.jsx("div",{style:{fontSize:"0.75rem",color:e.subtleText,marginTop:"0.25rem",visibility:"hidden"},children:"placeholder"})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:e.labelText,marginBottom:"0.5rem"},children:"Water Heater (kW)"}),n.jsx("input",{type:"number",value:r.waterHeaterKW,onChange:l=>t(d=>({...d,waterHeaterKW:l.target.value})),placeholder:"Rating",style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${e.inputBorder}`,borderRadius:"8px",backgroundColor:e.inputBg,color:e.cardText,boxSizing:"border-box"}}),n.jsx("div",{style:{fontSize:"0.75rem",color:e.subtleText,marginTop:"0.25rem",visibility:"hidden"},children:"placeholder"})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:e.labelText,marginBottom:"0.5rem"},children:"HVAC/Heat (kW)"}),n.jsx("input",{type:"number",value:r.hvacKW,onChange:l=>t(d=>({...d,hvacKW:l.target.value})),placeholder:"Largest load",style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${e.inputBorder}`,borderRadius:"8px",backgroundColor:e.inputBg,color:e.cardText,boxSizing:"border-box"}}),n.jsx("div",{style:{fontSize:"0.75rem",color:e.subtleText,marginTop:"0.25rem",visibility:"hidden"},children:"placeholder"})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:e.labelText,marginBottom:"0.5rem"},children:"Other Loads (kW)"}),n.jsx("input",{type:"number",value:r.otherLoadsKW,onChange:l=>t(d=>({...d,otherLoadsKW:l.target.value})),placeholder:"Pool, spa, etc",style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${e.inputBorder}`,borderRadius:"8px",backgroundColor:e.inputBg,color:e.cardText,boxSizing:"border-box"}}),n.jsx("div",{style:{fontSize:"0.75rem",color:e.subtleText,marginTop:"0.25rem",visibility:"hidden"},children:"placeholder"})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:e.labelText,marginBottom:"0.5rem"},children:"Service Voltage"}),n.jsxs("select",{value:r.voltage,onChange:l=>t(d=>({...d,voltage:l.target.value})),style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${e.inputBorder}`,borderRadius:"8px",backgroundColor:e.inputBg,color:e.cardText,boxSizing:"border-box"},children:[n.jsx("option",{value:"240",children:"240V"}),n.jsx("option",{value:"208",children:"208V"})]}),n.jsx("div",{style:{fontSize:"0.75rem",color:e.subtleText,marginTop:"0.25rem",visibility:"hidden"},children:"placeholder"})]})]}),r.squareFootage&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"1rem",marginBottom:"1rem"},children:[n.jsxs("div",{style:{background:e.sectionBg,padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:e.labelText,marginBottom:"0.25rem"},children:"Total Demand"}),n.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:e.cardText},children:s.totalDemandKW.toFixed(2)}),n.jsx("div",{style:{fontSize:"0.75rem",color:e.labelText,marginTop:"0.25rem"},children:"kW"})]}),n.jsxs("div",{style:{background:e.sectionBg,padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:e.labelText,marginBottom:"0.25rem"},children:"Total Amperage"}),n.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:e.cardText},children:s.totalAmperage.toFixed(1)}),n.jsx("div",{style:{fontSize:"0.75rem",color:e.labelText,marginTop:"0.25rem"},children:"amps"})]}),n.jsxs("div",{style:{background:"#dbeafe",padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:"#1e40af",marginBottom:"0.25rem"},children:"Recommended Service"}),n.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:"#1e40af"},children:s.recommendedService}),n.jsx("div",{style:{fontSize:"0.75rem",color:"#1e40af",marginTop:"0.25rem"},children:"amp service"})]})]}),n.jsxs("div",{style:{background:e.sectionBg,padding:"1rem",borderRadius:"8px",border:`1px solid ${e.cardBorder}`,marginBottom:"1rem"},children:[n.jsx("div",{style:{fontWeight:"600",color:e.cardText,marginBottom:"0.75rem",fontSize:"0.875rem"},children:"Connected Loads:"}),n.jsxs("div",{style:{fontSize:"0.875rem",color:e.labelText,display:"grid",gap:"0.25rem"},children:[n.jsxs("div",{children:["General Lighting: ",s.generalLighting.toLocaleString()," VA"]}),n.jsxs("div",{children:["Small Appliance: ",s.smallApplianceLoad.toLocaleString()," VA"]}),n.jsxs("div",{children:["Laundry: ",s.laundryLoad.toLocaleString()," VA"]}),n.jsx("div",{style:{borderTop:`1px solid ${e.cardBorder}`,marginTop:"0.5rem",paddingTop:"0.5rem"},children:n.jsxs("strong",{children:["Subtotal: ",s.subtotalVA.toLocaleString()," VA"]})})]})]}),n.jsx("div",{style:{background:"#d1fae5",border:"1px solid #6ee7b7",borderRadius:"8px",padding:"1rem"},children:n.jsxs("div",{style:{display:"flex",alignItems:"start",gap:"0.75rem"},children:[n.jsx(en,{size:20,color:"#059669",style:{flexShrink:0,marginTop:"0.125rem"}}),n.jsxs("div",{style:{fontSize:"0.875rem",color:"#047857",lineHeight:"1.5",width:"100%"},children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"0.5rem"},children:"Demand Loads (with factors applied):"}),n.jsxs("div",{children:["Lighting: ",s.demandLighting.toFixed(0)," VA"]}),r.rangeKW>0&&n.jsxs("div",{children:["Range: ",s.rangeDemand.toLocaleString()," W"]}),r.dryerKW>0&&n.jsxs("div",{children:["Dryer: ",s.dryerDemand.toLocaleString()," W"]}),r.waterHeaterKW>0&&n.jsxs("div",{children:["Water Heater: ",s.waterHeaterDemand.toLocaleString()," W"]}),r.hvacKW>0&&n.jsxs("div",{children:["HVAC: ",s.hvacDemand.toLocaleString()," W"]}),r.otherLoadsKW>0&&n.jsxs("div",{children:["Other: ",s.otherDemand.toLocaleString()," W"]})]})]})})]})]})},hb=({data:r,setData:t,colors:e})=>{const a={office:3.5,warehouse:.25,retail:3,school:3,restaurant:2,hotel:2,hospital:2,industrial:2},l=(()=>{const d=parseFloat(r.squareFootage)||0,u=parseFloat(r.hvacLoad)||0,m=parseFloat(r.receptacleLoad)||0,p=parseFloat(r.motorLoads)||0,y=parseFloat(r.otherLoads)||0,j=parseFloat(r.demandFactor)/100,_=parseFloat(r.voltage),x=d*a[r.occupancyType],P=x/1e3+u+m+p+y,A=P*j;let C;return r.phase==="single"?C=A*1e3/_:C=A*1e3/(1.732*_),{lightingVA:x,lightingKW:x/1e3,hvac:u,receptacles:m,motors:p,other:y,totalConnectedKW:P,demandLoadKW:A,amperage:C}})();return n.jsxs("div",{children:[n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"1rem",marginBottom:"1rem"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:e.labelText,marginBottom:"0.5rem"},children:"Square Footage"}),n.jsx("input",{type:"number",value:r.squareFootage,onChange:d=>t(u=>({...u,squareFootage:d.target.value})),placeholder:"Building area",style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${e.inputBorder}`,borderRadius:"8px",backgroundColor:e.inputBg,color:e.cardText,boxSizing:"border-box"}})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:e.labelText,marginBottom:"0.5rem"},children:"Occupancy Type"}),n.jsxs("select",{value:r.occupancyType,onChange:d=>t(u=>({...u,occupancyType:d.target.value})),style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${e.inputBorder}`,borderRadius:"8px",backgroundColor:e.inputBg,color:e.cardText,boxSizing:"border-box"},children:[n.jsx("option",{value:"office",children:"Office (3.5 VA/sq ft)"}),n.jsx("option",{value:"warehouse",children:"Warehouse (0.25 VA/sq ft)"}),n.jsx("option",{value:"retail",children:"Retail (3.0 VA/sq ft)"}),n.jsx("option",{value:"school",children:"School (3.0 VA/sq ft)"}),n.jsx("option",{value:"restaurant",children:"Restaurant (2.0 VA/sq ft)"}),n.jsx("option",{value:"hotel",children:"Hotel (2.0 VA/sq ft)"}),n.jsx("option",{value:"hospital",children:"Hospital (2.0 VA/sq ft)"}),n.jsx("option",{value:"industrial",children:"Industrial (2.0 VA/sq ft)"})]})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:e.labelText,marginBottom:"0.5rem"},children:"HVAC Load (kW)"}),n.jsx("input",{type:"number",value:r.hvacLoad,onChange:d=>t(u=>({...u,hvacLoad:d.target.value})),placeholder:"Total HVAC",style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${e.inputBorder}`,borderRadius:"8px",backgroundColor:e.inputBg,color:e.cardText,boxSizing:"border-box"}})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:e.labelText,marginBottom:"0.5rem"},children:"Receptacle Load (kW)"}),n.jsx("input",{type:"number",value:r.receptacleLoad,onChange:d=>t(u=>({...u,receptacleLoad:d.target.value})),placeholder:"Receptacles",style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${e.inputBorder}`,borderRadius:"8px",backgroundColor:e.inputBg,color:e.cardText,boxSizing:"border-box"}})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:e.labelText,marginBottom:"0.5rem"},children:"Motor Loads (kW)"}),n.jsx("input",{type:"number",value:r.motorLoads,onChange:d=>t(u=>({...u,motorLoads:d.target.value})),placeholder:"Total motors",style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${e.inputBorder}`,borderRadius:"8px",backgroundColor:e.inputBg,color:e.cardText,boxSizing:"border-box"}})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:e.labelText,marginBottom:"0.5rem"},children:"Other Loads (kW)"}),n.jsx("input",{type:"number",value:r.otherLoads,onChange:d=>t(u=>({...u,otherLoads:d.target.value})),placeholder:"Additional",style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${e.inputBorder}`,borderRadius:"8px",backgroundColor:e.inputBg,color:e.cardText,boxSizing:"border-box"}})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:e.labelText,marginBottom:"0.5rem"},children:"Demand Factor (%)"}),n.jsx("input",{type:"number",value:r.demandFactor,onChange:d=>t(u=>({...u,demandFactor:d.target.value})),placeholder:"80-100%",style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${e.inputBorder}`,borderRadius:"8px",backgroundColor:e.inputBg,color:e.cardText,boxSizing:"border-box"}}),n.jsx("div",{style:{fontSize:"0.75rem",color:e.subtleText,marginTop:"0.25rem"},children:"Peak load %"})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:e.labelText,marginBottom:"0.5rem"},children:"System Voltage"}),n.jsxs("select",{value:r.voltage,onChange:d=>t(u=>({...u,voltage:d.target.value})),style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${e.inputBorder}`,borderRadius:"8px",backgroundColor:e.inputBg,color:e.cardText,boxSizing:"border-box"},children:[n.jsx("option",{value:"208",children:"208V"}),n.jsx("option",{value:"240",children:"240V"}),n.jsx("option",{value:"277",children:"277V"}),n.jsx("option",{value:"480",children:"480V"}),n.jsx("option",{value:"600",children:"600V"})]})]}),n.jsxs("div",{children:[n.jsxs("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:e.labelText,marginBottom:"0.5rem"},children:["System Phase ",n.jsx("br",{}),"    ",n.jsx("br",{})]}),n.jsxs("select",{value:r.phase,onChange:d=>t(u=>({...u,phase:d.target.value})),style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${e.inputBorder}`,borderRadius:"8px",backgroundColor:e.inputBg,color:e.cardText,boxSizing:"border-box"},children:[n.jsx("option",{value:"single",children:"Single Phase"}),n.jsx("option",{value:"three",children:"Three Phase"})]})]})]}),r.squareFootage&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"1rem",marginBottom:"1rem"},children:[n.jsxs("div",{style:{background:e.sectionBg,padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:e.labelText,marginBottom:"0.25rem"},children:"Connected Load"}),n.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:e.cardText},children:l.totalConnectedKW.toFixed(2)}),n.jsx("div",{style:{fontSize:"0.75rem",color:e.labelText,marginTop:"0.25rem"},children:"kW"})]}),n.jsxs("div",{style:{background:e.sectionBg,padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:e.labelText,marginBottom:"0.25rem"},children:"Demand Load"}),n.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:e.cardText},children:l.demandLoadKW.toFixed(2)}),n.jsx("div",{style:{fontSize:"0.75rem",color:e.labelText,marginTop:"0.25rem"},children:"kW"})]}),n.jsxs("div",{style:{background:"#dbeafe",padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:"#1e40af",marginBottom:"0.25rem"},children:"Total Amperage"}),n.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:"#1e40af"},children:l.amperage.toFixed(1)}),n.jsx("div",{style:{fontSize:"0.75rem",color:"#1e40af",marginTop:"0.25rem"},children:"amps"})]})]}),n.jsxs("div",{style:{background:e.sectionBg,padding:"1rem",borderRadius:"8px",border:`1px solid ${e.cardBorder}`,marginBottom:"1rem"},children:[n.jsx("div",{style:{fontWeight:"600",color:e.cardText,marginBottom:"0.75rem",fontSize:"0.875rem"},children:"Connected Loads:"}),n.jsxs("div",{style:{fontSize:"0.875rem",color:e.labelText,display:"grid",gap:"0.25rem"},children:[n.jsxs("div",{children:["Lighting: ",l.lightingKW.toFixed(2)," kW (",l.lightingVA.toFixed(0)," VA)"]}),r.hvacLoad>0&&n.jsxs("div",{children:["HVAC: ",l.hvac.toFixed(2)," kW"]}),r.receptacleLoad>0&&n.jsxs("div",{children:["Receptacles: ",l.receptacles.toFixed(2)," kW"]}),r.motorLoads>0&&n.jsxs("div",{children:["Motors: ",l.motors.toFixed(2)," kW"]}),r.otherLoads>0&&n.jsxs("div",{children:["Other: ",l.other.toFixed(2)," kW"]})]})]}),n.jsx("div",{style:{background:"#d1fae5",border:"1px solid #6ee7b7",borderRadius:"8px",padding:"1rem"},children:n.jsxs("div",{style:{display:"flex",alignItems:"start",gap:"0.75rem"},children:[n.jsx(en,{size:20,color:"#059669",style:{flexShrink:0,marginTop:"0.125rem"}}),n.jsxs("div",{style:{fontSize:"0.875rem",color:"#047857",lineHeight:"1.5"},children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"0.5rem"},children:"System Configuration"}),n.jsxs("div",{children:[r.voltage,"V ",r.phase==="single"?"Single":"Three"," Phase"]}),n.jsxs("div",{children:[r.demandFactor,"% demand factor applied"]})]})]})})]})]})},fb=ve.forwardRef(({isDarkMode:r=!1,onBack:t},e)=>{const[a,s]=ve.useState("residential"),[l,d]=ve.useState({squareFootage:"",smallApplianceCircuits:"2",laundryCircuits:"1",rangeKW:"",dryerKW:"5",waterHeaterKW:"",hvacKW:"",otherLoadsKW:"",voltage:"240"}),[u,m]=ve.useState({squareFootage:"",occupancyType:"office",hvacLoad:"",receptacleLoad:"",motorLoads:"",otherLoads:"",demandFactor:"100",voltage:"480",phase:"three"}),p={cardBg:r?"#374151":"#ffffff",cardBorder:r?"#4b5563":"#e5e7eb",cardText:r?"#f9fafb":"#111827",labelText:r?"#d1d5db":"#374151",inputBg:r?"#1f2937":"#ffffff",inputBorder:r?"#4b5563":"#d1d5db",sectionBg:r?"#1f2937":"#f9fafb",subtleText:r?"#9ca3af":"#6b7280"};return ve.useImperativeHandle(e,()=>({exportPDF:()=>{let y;if(a==="residential"){if(!l.squareFootage){alert("Please enter square footage before exporting");return}const j=parseFloat(l.squareFootage),_=parseFloat(l.smallApplianceCircuits)||0,x=parseFloat(l.laundryCircuits)||0,P=parseFloat(l.rangeKW)||0,A=parseFloat(l.dryerKW)||0,C=parseFloat(l.waterHeaterKW)||0,S=parseFloat(l.hvacKW)||0,F=parseFloat(l.otherLoadsKW)||0,O=parseFloat(l.voltage),B=j*3,H=_*1500,ee=x*1500,ce=B+H+ee;let W=0;ce<=3e3?W=ce:ce<=12e4?W=3e3+(ce-3e3)*.35:W=3e3+117e3*.35+(ce-12e4)*.25;let I=0;P>0&&(I=P<=12?8e3:8e3+(P-12)*400);const J=Math.max(A*1e3,5e3),D=C*1e3,k=S*1e3,X=F*1e3,R=W+I+J+D+k+X,se=(R/1e3).toFixed(2),xe=(R/O).toFixed(1);let de=100;parseFloat(xe)>200?de=400:parseFloat(xe)>150?de=200:parseFloat(xe)>100&&(de=150);const oe={squareFootage:`${l.squareFootage} sq ft`,smallApplianceCircuits:`${_} circuits @ 1500 VA each`,laundryCircuits:`${x} circuit @ 1500 VA`,serviceVoltage:`${l.voltage}V`};P>0&&(oe.electricRange=`${P} kW`),A>0&&(oe.electricDryer=`${A} kW`),C>0&&(oe.waterHeater=`${C} kW`),S>0&&(oe.hvacHeat=`${S} kW`),F>0&&(oe.otherLoads=`${F} kW`),y={calculatorName:"Load Calculations - Residential (NEC 220.82)",inputs:oe,results:{totalDemandLoad:`${se} kW (${R.toLocaleString()} VA)`,totalAmperage:`${xe} Amps`,recommendedService:`${de} Amp Service`},additionalInfo:{generalLighting:`${B.toLocaleString()} VA (${j} sq ft  3 VA/sq ft)`,smallAppliance:`${H.toLocaleString()} VA`,laundry:`${ee.toLocaleString()} VA`,lightingSubtotal:`${ce.toLocaleString()} VA`,demandLightingAfterFactors:`${W.toFixed(0)} VA`,...P>0&&{rangeDemand:`${I.toLocaleString()} W`},...A>0&&{dryerDemand:`${J.toLocaleString()} W (min 5000 W)`},...C>0&&{waterHeaterDemand:`${D.toLocaleString()} W`},...S>0&&{hvacDemand:`${k.toLocaleString()} W`},...F>0&&{otherDemand:`${X.toLocaleString()} W`}},necReferences:["NEC 220.82 - Dwelling Unit Optional Calculation","NEC 220.83 - Existing Dwelling Unit","NEC Table 220.55 - Demand Factors for Electric Ranges","General lighting: 3 VA per square foot (NEC 220.12)","Demand factors: First 3000 VA @ 100%, Next 117000 VA @ 35%, Remainder @ 25%"]}}else if(a==="commercial"){if(!u.squareFootage){alert("Please enter square footage before exporting");return}const j={office:3.5,warehouse:.25,retail:3,school:3,restaurant:2,hotel:2,hospital:2,industrial:2},_={office:"Office",warehouse:"Warehouse",retail:"Retail",school:"School",restaurant:"Restaurant",hotel:"Hotel",hospital:"Hospital",industrial:"Industrial"},x=parseFloat(u.squareFootage),P=parseFloat(u.hvacLoad)||0,A=parseFloat(u.receptacleLoad)||0,C=parseFloat(u.motorLoads)||0,S=parseFloat(u.otherLoads)||0,F=parseFloat(u.demandFactor)/100,O=parseFloat(u.voltage),B=x*j[u.occupancyType],H=(B/1e3).toFixed(2),ee=(B/1e3+P+A+C+S).toFixed(2),ce=(parseFloat(ee)*F).toFixed(2);let W;u.phase==="single"?W=(parseFloat(ce)*1e3/O).toFixed(1):W=(parseFloat(ce)*1e3/(1.732*O)).toFixed(1);const I={squareFootage:`${u.squareFootage} sq ft`,occupancyType:`${_[u.occupancyType]} (${j[u.occupancyType]} VA/sq ft)`,demandFactor:`${u.demandFactor}%`,systemConfiguration:`${u.voltage}V ${u.phase==="single"?"Single":"Three"} Phase`};P>0&&(I.hvacLoad=`${P} kW`),A>0&&(I.receptacleLoad=`${A} kW`),C>0&&(I.motorLoads=`${C} kW`),S>0&&(I.otherLoads=`${S} kW`),y={calculatorName:"Load Calculations - Commercial",inputs:I,results:{connectedLoad:`${ee} kW`,demandLoad:`${ce} kW`,totalAmperage:`${W} Amps`},additionalInfo:{lighting:`${H} kW (${B.toFixed(0)} VA)`,calculationMethod:u.phase==="single"?`Amperage = (${ce} kW  1000)  ${O}V = ${W} A`:`Amperage = (${ce} kW  1000)  (1.732  ${O}V) = ${W} A`,demandFactorNote:`${u.demandFactor}% demand factor applied to total connected load`},necReferences:["NEC Article 220 - Branch-Circuit, Feeder, and Service Load Calculations","NEC Table 220.12 - General Lighting Loads by Occupancy","NEC 220.42 - General Lighting","NEC 220.50 - Motors","Always verify with actual connected loads and local codes"]}}Er(y)}})),n.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto"},children:[n.jsx("div",{style:{background:p.cardBg,border:`1px solid ${p.cardBorder}`,borderRadius:"12px",padding:"1rem",marginBottom:"1rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[{id:"residential",label:"Residential"},{id:"commercial",label:"Commercial"}].map(y=>n.jsx("button",{onClick:()=>s(y.id),style:{flex:"1 1 auto",minWidth:"140px",padding:"0.625rem 1rem",background:a===y.id?"#3b82f6":p.sectionBg,color:a===y.id?"white":p.labelText,border:`1px solid ${a===y.id?"#3b82f6":p.cardBorder}`,borderRadius:"8px",cursor:"pointer",fontSize:"0.875rem",fontWeight:"600",transition:"all 0.2s"},children:y.label},y.id))}),n.jsx("div",{style:{background:p.cardBg,border:`1px solid ${p.cardBorder}`,borderRadius:"12px",padding:"1.5rem",marginBottom:"1rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:a==="residential"?n.jsx(ub,{data:l,setData:d,colors:p}):n.jsx(hb,{data:u,setData:m,colors:p})})]})}),pb=ve.forwardRef(({isDarkMode:r=!1},t)=>{const[e,a]=ve.useState("sizing"),[s,l]=ve.useState(""),[d,u]=ve.useState("480"),[m,p]=ve.useState("208"),[y,j]=ve.useState("three"),[_,x]=ve.useState("continuous"),[P,A]=ve.useState("0.85"),[C,S]=ve.useState(""),[F,O]=ve.useState("480"),[B,H]=ve.useState("208"),[ee,ce]=ve.useState("three"),W={cardBg:r?"#374151":"#ffffff",cardBorder:r?"#4b5563":"#e5e7eb",cardText:r?"#f9fafb":"#111827",labelText:r?"#d1d5db":"#374151",inputBg:r?"#1f2937":"#ffffff",inputBorder:r?"#4b5563":"#d1d5db",sectionBg:r?"#1f2937":"#f9fafb",subtleText:r?"#9ca3af":"#6b7280"},I=[3,6,9,15,30,45,75,112.5,150,225,300,500,750,1e3,1500,2e3,2500,3e3],J=()=>{const R=parseFloat(s)||0;if(R===0)return null;let se=1;_==="continuous"&&(se=1.25);const xe=R*se,de=I.find(oe=>oe>=xe)||xe;return{loadKVA:R,requiredKVA:xe.toFixed(1),recommendedSize:de,utilizationPercent:(R/de*100).toFixed(1)}},D=()=>{const R=parseFloat(C)||0;if(R===0)return null;const se=parseFloat(F),xe=parseFloat(B);let de,oe;return ee==="single"?(de=R*1e3/se,oe=R*1e3/xe):(de=R*1e3/(1.732*se),oe=R*1e3/(1.732*xe)),{kva:R,primaryCurrent:de.toFixed(1),secondaryCurrent:oe.toFixed(1),primaryVoltage:se,secondaryVoltage:xe}},k=J(),X=D();return ve.useImperativeHandle(t,()=>({exportPDF:()=>{if(e==="sizing"){if(!s){alert("Please enter load (kVA) before exporting to PDF");return}const R={calculatorName:"Transformer Calculations - Transformer Sizing",inputs:{Load:`${s} kVA`,"Primary Voltage":`${d}V`,"Secondary Voltage":`${m}V`,Phase:y==="single"?"Single Phase":"Three Phase","Load Type":_==="continuous"?"Continuous (125% sizing)":"Non-Continuous (100% sizing)","Power Factor":P},results:{"Recommended Transformer Size":`${k.recommendedSize} kVA`,Configuration:`${d}V to ${m}V`,Phase:y==="single"?"Single Phase":"Three Phase","Connected Load":`${k.loadKVA} kVA`,"Required Capacity":`${k.requiredKVA} kVA`,Utilization:`${k.utilizationPercent}%`},additionalInfo:{"Sizing Factor":_==="continuous"?"125% (continuous loads)":"100% (non-continuous loads)","Calculation Method":"Required Capacity = Connected Load  Sizing Factor","Utilization Note":parseFloat(k.utilizationPercent)>80?"WARNING: Utilization above 80% may result in higher operating temperatures and reduced equipment life":"Utilization is within acceptable range"},necReferences:["NEC 450.3 - Overcurrent Protection for Transformers","NEC 450.9 - Ventilation Requirements","NEC 450.11 - Marking Requirements","NEC 450.21 - Dry-Type Transformers Installed Indoors","Size continuous loads at 125% per NEC requirements","Keep utilization below 80% for optimal efficiency and equipment life","Consider future load growth (typically 20-25% spare capacity)","Account for inrush current for motor loads","Consider ambient temperature and ventilation requirements"]};Er(R)}else if(e==="currents"){if(!C){alert("Please enter transformer rating (kVA) before exporting to PDF");return}const R=ee==="single"?"I = (kVA  1000)  V":"I = (kVA  1000)  (1.732  V)",se={calculatorName:"Transformer Calculations - Current Calculations",inputs:{"Transformer Rating":`${C} kVA`,"Primary Voltage":`${F}V`,"Secondary Voltage":`${B}V`,Phase:ee==="single"?"Single Phase":"Three Phase"},results:{Configuration:`${X.kva} kVA, ${ee==="single"?"Single":"Three"} Phase`,"Voltage Ratio":`${X.primaryVoltage}V / ${X.secondaryVoltage}V`,"Primary Current":`${X.primaryCurrent} A`,"Secondary Current":`${X.secondaryCurrent} A`},additionalInfo:{"Formula Used":R,"Primary Side":`${X.primaryCurrent}A at ${X.primaryVoltage}V`,"Secondary Side":`${X.secondaryCurrent}A at ${X.secondaryVoltage}V`,Application:"Use these currents for selecting primary and secondary protection devices per NEC Article 450"},necReferences:["NEC Article 450 - Transformers and Transformer Vaults","NEC 450.3 - Overcurrent Protection","Single Phase Formula: I = (kVA  1000)  V","Three Phase Formula: I = (kVA  1000)  (1.732  V)","Primary and secondary protection must be sized per calculated currents","Consider temperature correction and adjustment factors for conductors","Account for voltage drop in feeder calculations"]};Er(se)}}})),n.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto"},children:[n.jsx("div",{style:{background:W.cardBg,border:`1px solid ${W.cardBorder}`,borderRadius:"12px",padding:"1rem",marginBottom:"1rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:n.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[n.jsx("button",{onClick:()=>a("sizing"),style:{flex:"1 1 auto",minWidth:"140px",padding:"0.75rem 1rem",background:e==="sizing"?"#3b82f6":"transparent",color:e==="sizing"?"white":W.labelText,border:`1px solid ${e==="sizing"?"#3b82f6":W.cardBorder}`,borderRadius:"8px",cursor:"pointer",fontSize:"0.875rem",fontWeight:"600",transition:"all 0.2s"},children:"Transformer Sizing"}),n.jsx("button",{onClick:()=>a("currents"),style:{flex:"1 1 auto",minWidth:"140px",padding:"0.75rem 1rem",background:e==="currents"?"#3b82f6":"transparent",color:e==="currents"?"white":W.labelText,border:`1px solid ${e==="currents"?"#3b82f6":W.cardBorder}`,borderRadius:"8px",cursor:"pointer",fontSize:"0.875rem",fontWeight:"600",transition:"all 0.2s"},children:"Current Calculations"})]})}),e==="sizing"?n.jsxs("div",{children:[n.jsxs("div",{style:{background:W.cardBg,border:`1px solid ${W.cardBorder}`,borderRadius:"12px",padding:"1.5rem",marginBottom:"1rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[n.jsx("h3",{style:{fontSize:"1rem",fontWeight:"600",color:W.cardText,marginTop:0,marginBottom:"1rem",borderBottom:`1px solid ${W.cardBorder}`,paddingBottom:"0.5rem"},children:"Transformer Parameters"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:W.labelText,marginBottom:"0.5rem"},children:"Load (kVA)"}),n.jsx("input",{type:"number",value:s,onChange:R=>l(R.target.value),placeholder:"Connected load",style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${W.inputBorder}`,borderRadius:"8px",backgroundColor:W.inputBg,color:W.cardText,boxSizing:"border-box"}}),n.jsx("div",{style:{fontSize:"0.75rem",color:W.subtleText,marginTop:"0.25rem"},children:"Total connected or demand load"})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:W.labelText,marginBottom:"0.5rem"},children:"Primary Voltage"}),n.jsxs("select",{value:d,onChange:R=>u(R.target.value),style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${W.inputBorder}`,borderRadius:"8px",backgroundColor:W.inputBg,color:W.cardText,boxSizing:"border-box"},children:[n.jsx("option",{value:"208",children:"208V"}),n.jsx("option",{value:"240",children:"240V"}),n.jsx("option",{value:"480",children:"480V"}),n.jsx("option",{value:"600",children:"600V"}),n.jsx("option",{value:"2400",children:"2400V"}),n.jsx("option",{value:"4160",children:"4160V"}),n.jsx("option",{value:"12470",children:"12470V"}),n.jsx("option",{value:"13200",children:"13200V"})]})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:W.labelText,marginBottom:"0.5rem"},children:"Secondary Voltage"}),n.jsxs("select",{value:m,onChange:R=>p(R.target.value),style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${W.inputBorder}`,borderRadius:"8px",backgroundColor:W.inputBg,color:W.cardText,boxSizing:"border-box"},children:[n.jsx("option",{value:"120",children:"120V"}),n.jsx("option",{value:"208",children:"208V"}),n.jsx("option",{value:"240",children:"240V"}),n.jsx("option",{value:"277",children:"277V"}),n.jsx("option",{value:"480",children:"480V"}),n.jsx("option",{value:"600",children:"600V"})]})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:W.labelText,marginBottom:"0.5rem"},children:"Phase"}),n.jsxs("select",{value:y,onChange:R=>j(R.target.value),style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${W.inputBorder}`,borderRadius:"8px",backgroundColor:W.inputBg,color:W.cardText,boxSizing:"border-box"},children:[n.jsx("option",{value:"single",children:"Single Phase"}),n.jsx("option",{value:"three",children:"Three Phase"})]})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:W.labelText,marginBottom:"0.5rem"},children:"Load Type"}),n.jsxs("select",{value:_,onChange:R=>x(R.target.value),style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${W.inputBorder}`,borderRadius:"8px",backgroundColor:W.inputBg,color:W.cardText,boxSizing:"border-box"},children:[n.jsx("option",{value:"continuous",children:"Continuous (125% sizing)"}),n.jsx("option",{value:"noncontinuous",children:"Non-Continuous (100% sizing)"})]}),n.jsx("div",{style:{fontSize:"0.75rem",color:W.subtleText,marginTop:"0.25rem"},children:"Continuous loads operate 3+ hours"})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:W.labelText,marginBottom:"0.5rem"},children:"Power Factor"}),n.jsxs("select",{value:P,onChange:R=>A(R.target.value),style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${W.inputBorder}`,borderRadius:"8px",backgroundColor:W.inputBg,color:W.cardText,boxSizing:"border-box"},children:[n.jsx("option",{value:"1.0",children:"1.0 (Unity)"}),n.jsx("option",{value:"0.95",children:"0.95 (Excellent)"}),n.jsx("option",{value:"0.9",children:"0.9 (Good)"}),n.jsx("option",{value:"0.85",children:"0.85 (Typical)"}),n.jsx("option",{value:"0.8",children:"0.8 (Poor)"})]})]})]})]}),k&&n.jsxs("div",{children:[n.jsxs("div",{style:{background:W.cardBg,border:`1px solid ${W.cardBorder}`,borderRadius:"12px",padding:"1.5rem",marginBottom:"1rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[n.jsx("h3",{style:{fontSize:"1rem",fontWeight:"600",color:W.cardText,marginTop:0,marginBottom:"1rem"},children:"Sizing Calculation"}),n.jsxs("div",{style:{background:W.sectionBg,padding:"1rem",borderRadius:"8px",border:`1px solid ${W.cardBorder}`},children:[n.jsxs("div",{style:{fontSize:"0.875rem",marginBottom:"0.5rem",color:W.labelText},children:[n.jsx("strong",{style:{color:W.cardText},children:"Connected Load:"})," ",k.loadKVA," kVA"]}),n.jsxs("div",{style:{fontSize:"0.875rem",marginBottom:"0.5rem",color:W.labelText},children:[n.jsx("strong",{style:{color:W.cardText},children:"Required Capacity:"})," ",k.requiredKVA," kVA"]}),n.jsxs("div",{style:{fontSize:"0.8125rem",color:W.subtleText,fontStyle:"italic"},children:["(",_==="continuous"?"125%":"100%"," sizing factor applied)"]})]})]}),n.jsxs("div",{style:{background:W.cardBg,border:`1px solid ${W.cardBorder}`,borderRadius:"12px",padding:"1.5rem",marginBottom:"1rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[n.jsx("h3",{style:{fontSize:"1rem",fontWeight:"600",color:W.cardText,marginTop:0,marginBottom:"1rem"},children:"Recommended Transformer"}),n.jsxs("div",{style:{background:"#dbeafe",padding:"1rem",borderRadius:"8px",textAlign:"center",marginBottom:"1rem"},children:[n.jsx("div",{style:{fontSize:"0.875rem",color:"#1e40af",marginBottom:"0.5rem",fontWeight:"600"},children:"Transformer Size"}),n.jsxs("div",{style:{fontSize:"2.5rem",fontWeight:"700",color:"#1e40af"},children:[k.recommendedSize," kVA"]})]}),n.jsxs("div",{style:{background:W.sectionBg,padding:"1rem",borderRadius:"8px",border:`1px solid ${W.cardBorder}`,marginBottom:"1rem"},children:[n.jsxs("div",{style:{fontSize:"0.875rem",color:W.labelText,marginBottom:"0.5rem"},children:[n.jsx("strong",{style:{color:W.cardText},children:"Configuration:"})," ",d,"V to ",m,"V"]}),n.jsxs("div",{style:{fontSize:"0.875rem",color:W.labelText},children:[n.jsx("strong",{style:{color:W.cardText},children:"Phase:"})," ",y==="single"?"Single":"Three"," Phase"]})]}),n.jsxs("div",{style:{background:W.sectionBg,padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:W.labelText,marginBottom:"0.25rem"},children:"Utilization"}),n.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:W.cardText},children:[k.utilizationPercent,"%"]})]})]}),parseFloat(k.utilizationPercent)>80&&n.jsx("div",{style:{background:"#fef3c7",border:"1px solid #fcd34d",borderRadius:"8px",padding:"1rem",marginBottom:"1rem"},children:n.jsxs("div",{style:{display:"flex",alignItems:"start",gap:"0.75rem"},children:[n.jsx(_l,{size:20,color:"#d97706",style:{flexShrink:0,marginTop:"0.125rem"}}),n.jsxs("div",{style:{fontSize:"0.875rem",color:"#92400e",lineHeight:"1.5"},children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"0.25rem"},children:"High Utilization Warning"}),n.jsx("div",{style:{fontSize:"0.8125rem"},children:"Transformer utilization above 80% may result in higher operating temperatures and reduced equipment life. Consider next size up for better efficiency."})]})]})})]}),n.jsx("div",{style:{background:"#dbeafe",border:"1px solid #3b82f6",borderRadius:"8px",padding:"1rem"},children:n.jsxs("div",{style:{display:"flex",alignItems:"start",gap:"0.75rem"},children:[n.jsx(co,{size:20,color:"#1e40af",style:{flexShrink:0,marginTop:"0.125rem"}}),n.jsxs("div",{style:{fontSize:"0.875rem",color:"#1e40af",lineHeight:"1.5"},children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"0.5rem"},children:"Transformer Sizing Guidelines:"}),n.jsxs("ul",{style:{margin:0,paddingLeft:"1.25rem",fontSize:"0.8125rem"},children:[n.jsx("li",{style:{marginBottom:"0.25rem"},children:"Size for continuous loads at 125% per NEC 450.3"}),n.jsx("li",{style:{marginBottom:"0.25rem"},children:"Consider future load growth (typically 20-25%)"}),n.jsx("li",{style:{marginBottom:"0.25rem"},children:"Keep utilization below 80% for optimal efficiency"}),n.jsx("li",{style:{marginBottom:"0.25rem"},children:"Account for inrush current for motor loads"}),n.jsx("li",{children:"Consider ambient temperature and ventilation"})]})]})]})})]}):n.jsxs("div",{children:[n.jsxs("div",{style:{background:W.cardBg,border:`1px solid ${W.cardBorder}`,borderRadius:"12px",padding:"1.5rem",marginBottom:"1rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[n.jsx("h3",{style:{fontSize:"1rem",fontWeight:"600",color:W.cardText,marginTop:0,marginBottom:"1rem",borderBottom:`1px solid ${W.cardBorder}`,paddingBottom:"0.5rem"},children:"Transformer Information"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:W.labelText,marginBottom:"0.5rem"},children:"Transformer Rating (kVA)"}),n.jsx("input",{type:"number",value:C,onChange:R=>S(R.target.value),placeholder:"Transformer kVA",style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${W.inputBorder}`,borderRadius:"8px",backgroundColor:W.inputBg,color:W.cardText,boxSizing:"border-box"}})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:W.labelText,marginBottom:"0.5rem"},children:"Primary Voltage"}),n.jsxs("select",{value:F,onChange:R=>O(R.target.value),style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${W.inputBorder}`,borderRadius:"8px",backgroundColor:W.inputBg,color:W.cardText,boxSizing:"border-box"},children:[n.jsx("option",{value:"208",children:"208V"}),n.jsx("option",{value:"240",children:"240V"}),n.jsx("option",{value:"480",children:"480V"}),n.jsx("option",{value:"600",children:"600V"}),n.jsx("option",{value:"2400",children:"2400V"}),n.jsx("option",{value:"4160",children:"4160V"}),n.jsx("option",{value:"12470",children:"12470V"})]})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:W.labelText,marginBottom:"0.5rem"},children:"Secondary Voltage"}),n.jsxs("select",{value:B,onChange:R=>H(R.target.value),style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${W.inputBorder}`,borderRadius:"8px",backgroundColor:W.inputBg,color:W.cardText,boxSizing:"border-box"},children:[n.jsx("option",{value:"120",children:"120V"}),n.jsx("option",{value:"208",children:"208V"}),n.jsx("option",{value:"240",children:"240V"}),n.jsx("option",{value:"277",children:"277V"}),n.jsx("option",{value:"480",children:"480V"})]})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:W.labelText,marginBottom:"0.5rem"},children:"Phase"}),n.jsxs("select",{value:ee,onChange:R=>ce(R.target.value),style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${W.inputBorder}`,borderRadius:"8px",backgroundColor:W.inputBg,color:W.cardText,boxSizing:"border-box"},children:[n.jsx("option",{value:"single",children:"Single Phase"}),n.jsx("option",{value:"three",children:"Three Phase"})]})]})]})]}),X&&n.jsxs("div",{children:[n.jsxs("div",{style:{background:W.cardBg,border:`1px solid ${W.cardBorder}`,borderRadius:"12px",padding:"1.5rem",marginBottom:"1rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[n.jsx("h3",{style:{fontSize:"1rem",fontWeight:"600",color:W.cardText,marginTop:0,marginBottom:"1rem"},children:"Transformer Configuration"}),n.jsxs("div",{style:{background:W.sectionBg,padding:"1rem",borderRadius:"8px",border:`1px solid ${W.cardBorder}`},children:[n.jsxs("div",{style:{fontSize:"0.875rem",marginBottom:"0.5rem",color:W.labelText},children:[n.jsx("strong",{style:{color:W.cardText},children:"Rating:"})," ",X.kva," kVA, ",ee==="single"?"Single":"Three"," Phase"]}),n.jsxs("div",{style:{fontSize:"0.875rem",color:W.labelText},children:[n.jsx("strong",{style:{color:W.cardText},children:"Configuration:"})," ",X.primaryVoltage,"V / ",X.secondaryVoltage,"V"]})]})]}),n.jsxs("div",{style:{background:W.cardBg,border:`1px solid ${W.cardBorder}`,borderRadius:"12px",padding:"1.5rem",marginBottom:"1rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[n.jsx("h3",{style:{fontSize:"1rem",fontWeight:"600",color:"#1e40af",marginTop:0,marginBottom:"1rem"},children:"Primary Side"}),n.jsx("div",{style:{background:W.sectionBg,padding:"1rem",borderRadius:"8px",marginBottom:"1rem",border:`1px solid ${W.cardBorder}`},children:n.jsxs("div",{style:{fontSize:"0.875rem",color:W.labelText},children:[n.jsx("strong",{style:{color:W.cardText},children:"Voltage:"})," ",X.primaryVoltage,"V"]})}),n.jsxs("div",{style:{background:"#dbeafe",padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:"#1e40af",marginBottom:"0.25rem"},children:"Primary Current"}),n.jsx("div",{style:{fontSize:"2rem",fontWeight:"700",color:"#1e40af"},children:X.primaryCurrent}),n.jsx("div",{style:{fontSize:"0.75rem",color:"#1e40af",marginTop:"0.25rem"},children:"Amperes"})]})]}),n.jsxs("div",{style:{background:W.cardBg,border:`1px solid ${W.cardBorder}`,borderRadius:"12px",padding:"1.5rem",marginBottom:"1rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[n.jsx("h3",{style:{fontSize:"1rem",fontWeight:"600",color:"#059669",marginTop:0,marginBottom:"1rem"},children:"Secondary Side"}),n.jsx("div",{style:{background:W.sectionBg,padding:"1rem",borderRadius:"8px",marginBottom:"1rem",border:`1px solid ${W.cardBorder}`},children:n.jsxs("div",{style:{fontSize:"0.875rem",color:W.labelText},children:[n.jsx("strong",{style:{color:W.cardText},children:"Voltage:"})," ",X.secondaryVoltage,"V"]})}),n.jsxs("div",{style:{background:"#d1fae5",padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:"#059669",marginBottom:"0.25rem"},children:"Secondary Current"}),n.jsx("div",{style:{fontSize:"2rem",fontWeight:"700",color:"#059669"},children:X.secondaryCurrent}),n.jsx("div",{style:{fontSize:"0.75rem",color:"#059669",marginTop:"0.25rem"},children:"Amperes"})]})]})]}),n.jsx("div",{style:{background:"#dbeafe",border:"1px solid #3b82f6",borderRadius:"8px",padding:"1rem"},children:n.jsxs("div",{style:{display:"flex",alignItems:"start",gap:"0.75rem"},children:[n.jsx(co,{size:20,color:"#1e40af",style:{flexShrink:0,marginTop:"0.125rem"}}),n.jsxs("div",{style:{fontSize:"0.875rem",color:"#1e40af",lineHeight:"1.5"},children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"0.5rem"},children:"Current Formulas:"}),n.jsxs("div",{style:{fontSize:"0.8125rem",marginBottom:"0.25rem"},children:[n.jsx("strong",{children:"Single Phase:"})," I = (kVA  1000)  V"]}),n.jsxs("div",{style:{fontSize:"0.8125rem",marginBottom:"0.5rem"},children:[n.jsx("strong",{children:"Three Phase:"})," I = (kVA  1000)  (1.732  V)"]}),n.jsx("div",{style:{fontSize:"0.75rem",fontStyle:"italic"},children:"Note: Use these currents for selecting primary and secondary protection devices per NEC Article 450."})]})]})})]}),n.jsxs("div",{style:{background:W.sectionBg,padding:"1rem",borderRadius:"8px",border:`1px solid ${W.cardBorder}`,fontSize:"0.8125rem",color:W.labelText,marginTop:"1rem"},children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"0.5rem",color:W.cardText},children:"NEC Article 450 - Transformers and Transformer Vaults:"}),"450.3: Overcurrent protection  450.9: Ventilation requirements  450.11: Marking  450.21: Dry-type transformers indoors"]})]})}),mb=ve.forwardRef(({isDarkMode:r=!1},t)=>{const[e,a]=ve.useState("residential"),[s,l]=ve.useState(""),[d,u]=ve.useState(""),[m,p]=ve.useState(""),[y,j]=ve.useState(""),[_,x]=ve.useState(""),[P,A]=ve.useState(""),[C,S]=ve.useState("240"),[F,O]=ve.useState(""),[B,H]=ve.useState("80"),[ee,ce]=ve.useState("480"),[W,I]=ve.useState("three"),[J,D]=ve.useState("25"),k={cardBg:r?"#374151":"#ffffff",cardBorder:r?"#4b5563":"#e5e7eb",cardText:r?"#f9fafb":"#111827",labelText:r?"#d1d5db":"#374151",inputBg:r?"#1f2937":"#ffffff",inputBorder:r?"#4b5563":"#d1d5db",sectionBg:r?"#1f2937":"#f9fafb",subtleText:r?"#9ca3af":"#6b7280"},X=()=>{const de=parseFloat(s)||0,oe=parseFloat(d)||0,be=parseFloat(m)||0,je=parseFloat(y)||0,Q=parseFloat(_)||0,L=parseFloat(P)||0,U=parseFloat(C),M=de*3,K=2*1500,Z=1500,ae=M+K+Z;let he=0;ae<=3e3?he=ae:he=3e3+(ae-3e3)*.35;let pe=0;je>0&&(je<=12e3?pe=8e3:pe=8e3+(je-12e3)*.05);const ue=Math.max(Q,5e3),Te=be,Oe=oe,We=L,Le=he+pe+ue+Te+Oe+We,ne=Le/U;let Ye=100;return ne>200?Ye=400:ne>150?Ye=200:ne>100&&(Ye=150),{generalLighting:M,smallAppliance:K,laundry:Z,subtotal:ae,demandLighting:he,rangeDemand:pe,dryerDemand:ue,whDemand:Te,hvacDemand:Oe,otherDemand:We,totalDemand:Le,totalAmperage:ne,recommendedService:Ye,conductorSize:{100:"4 AWG",150:"1/0 AWG",200:"2/0 AWG",400:"400 kcmil"}[Ye]}},R=()=>{const de=parseFloat(F)||0,oe=parseFloat(B)/100,be=parseFloat(J)/100,je=parseFloat(ee),Q=de*oe,L=Q*(1+be);let U;W==="single"?U=L*1e3/je:U=L*1e3/(1.732*je);const K=[100,150,200,225,400,600,800,1e3,1200,1600,2e3,2500,3e3,4e3].find(Z=>Z>=U)||Math.ceil(U/100)*100;return{connectedLoad:de,demandLoad:Q,futureLoad:L,amperage:U,recommendedService:K}},se=X(),xe=R();return ve.useImperativeHandle(t,()=>({exportPDF:()=>{if(e==="residential"){if(!s){alert("Please enter square footage before exporting to PDF");return}const de={calculatorName:"Service Entrance Sizing - Residential",inputs:{"Square Footage":`${s} sq ft`,"HVAC/Heat Load":d?`${d} W`:"Not specified","Water Heater":m?`${m} W`:"Not specified","Range/Oven":y?`${y} W`:"Not specified",Dryer:_?`${_} W`:"Not specified","Other Loads":P?`${P} W`:"Not specified","Service Voltage":`${C}V`},results:{"Recommended Service Size":`${se.recommendedService}A`,"Service Conductors":`${se.conductorSize} Copper`,"Total Demand Load":`${se.totalDemand.toFixed(0)} W`,"Calculated Amperage":`${se.totalAmperage.toFixed(1)} A`},additionalInfo:{"General Lighting Load":`${se.generalLighting.toLocaleString()} VA`,"Small Appliance Circuits":`${se.smallAppliance.toLocaleString()} VA`,"Laundry Circuit":`${se.laundry.toLocaleString()} VA`,"Lighting Demand (after factors)":`${se.demandLighting.toFixed(0)} W`,"Range Demand":y?`${se.rangeDemand.toFixed(0)} W`:"N/A","Dryer Demand":_?`${se.dryerDemand.toFixed(0)} W`:"N/A","Water Heater":m?`${se.whDemand.toFixed(0)} W`:"N/A",HVAC:d?`${se.hvacDemand.toFixed(0)} W`:"N/A","Calculation Method":"NEC Article 220.82 - Dwelling Unit Optional Calculation"},necReferences:["NEC 220.82 - Dwelling Unit Optional Calculation","NEC 230.42 - Minimum Size and Rating (service conductors)","NEC 230.79 - Rating of Service Disconnecting Means","NEC 230.90 - Where Required (overload protection)","NEC Table 310.15(B)(16) - Allowable Ampacities","Service conductors shown are approximate for 75C copper. Consult NEC for exact sizing with all derating factors."]};Er(de)}else if(e==="commercial"){if(!F){alert("Please enter total connected load before exporting to PDF");return}const de={calculatorName:"Service Entrance Sizing - Commercial",inputs:{"Total Connected Load":`${F} kW`,"Demand Factor":`${B}%`,"Future Expansion":`${J}%`,"Service Voltage":`${ee}V`,"System Phase":W==="single"?"Single Phase":"Three Phase"},results:{"Recommended Service Size":`${xe.recommendedService}A`,"System Configuration":`${ee}V ${W==="single"?"Single":"Three"} Phase`,"Connected Load":`${xe.connectedLoad.toFixed(1)} kW`,"Demand Load":`${xe.demandLoad.toFixed(1)} kW`,"With Future Expansion":`${xe.futureLoad.toFixed(1)} kW`,"Calculated Amperage":`${xe.amperage.toFixed(1)} A`},additionalInfo:{"Calculation Method":"Commercial demand calculation with future expansion factor","Demand Factor Applied":`${B}% of connected load`,"Future Growth Allowance":`${J}% spare capacity`,"Formula Used":W==="single"?"Amperage = (kW  1000) / Voltage":"Amperage = (kW  1000) / (1.732  Voltage)"},necReferences:["NEC Article 220 Part IV - Optional Feeder and Service Load Calculations","NEC 220.40 - General (demand factors)","NEC 230.42 - Minimum Size and Rating","NEC 230.79 - Rating of Service Disconnecting Means","Consider demand factors per NEC 220.40 and Article 220 Part IV","Include motor loads, HVAC, and large equipment per NEC requirements","Review utility requirements and available fault current","Future expansion typically 20-30% spare capacity"]};Er(de)}}})),n.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto"},children:[n.jsx("div",{style:{background:k.cardBg,border:`1px solid ${k.cardBorder}`,borderRadius:"12px",padding:"1rem",marginBottom:"1rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:n.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[n.jsx("button",{onClick:()=>a("residential"),style:{flex:"1 1 auto",minWidth:"120px",padding:"0.75rem 1rem",background:e==="residential"?"#3b82f6":"transparent",color:e==="residential"?"white":k.labelText,border:`1px solid ${e==="residential"?"#3b82f6":k.cardBorder}`,borderRadius:"8px",cursor:"pointer",fontSize:"0.875rem",fontWeight:"600",transition:"all 0.2s"},children:"Residential"}),n.jsx("button",{onClick:()=>a("commercial"),style:{flex:"1 1 auto",minWidth:"120px",padding:"0.75rem 1rem",background:e==="commercial"?"#3b82f6":"transparent",color:e==="commercial"?"white":k.labelText,border:`1px solid ${e==="commercial"?"#3b82f6":k.cardBorder}`,borderRadius:"8px",cursor:"pointer",fontSize:"0.875rem",fontWeight:"600",transition:"all 0.2s"},children:"Commercial"})]})}),e==="residential"?n.jsxs("div",{children:[n.jsxs("div",{style:{background:k.cardBg,border:`1px solid ${k.cardBorder}`,borderRadius:"12px",padding:"1.5rem",marginBottom:"1rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[n.jsx("h3",{style:{fontSize:"1rem",fontWeight:"600",color:k.cardText,marginTop:0,marginBottom:"1rem",borderBottom:`1px solid ${k.cardBorder}`,paddingBottom:"0.5rem"},children:"Load Information"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:k.labelText,marginBottom:"0.5rem"},children:"Square Footage"}),n.jsx("input",{type:"number",value:s,onChange:de=>l(de.target.value),placeholder:"Living area",style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${k.inputBorder}`,borderRadius:"8px",backgroundColor:k.inputBg,color:k.cardText,boxSizing:"border-box"}}),n.jsx("div",{style:{fontSize:"0.75rem",color:k.subtleText,marginTop:"0.25rem"},children:"Heated/cooled living space"})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:k.labelText,marginBottom:"0.5rem"},children:"HVAC/Heat Load (Watts)"}),n.jsx("input",{type:"number",value:d,onChange:de=>u(de.target.value),placeholder:"Largest load",style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${k.inputBorder}`,borderRadius:"8px",backgroundColor:k.inputBg,color:k.cardText,boxSizing:"border-box"}})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:k.labelText,marginBottom:"0.5rem"},children:"Water Heater (Watts)"}),n.jsx("input",{type:"number",value:m,onChange:de=>p(de.target.value),placeholder:"Nameplate rating",style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${k.inputBorder}`,borderRadius:"8px",backgroundColor:k.inputBg,color:k.cardText,boxSizing:"border-box"}})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:k.labelText,marginBottom:"0.5rem"},children:"Range/Oven (Watts)"}),n.jsx("input",{type:"number",value:y,onChange:de=>j(de.target.value),placeholder:"Electric range",style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${k.inputBorder}`,borderRadius:"8px",backgroundColor:k.inputBg,color:k.cardText,boxSizing:"border-box"}})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:k.labelText,marginBottom:"0.5rem"},children:"Dryer (Watts)"}),n.jsx("input",{type:"number",value:_,onChange:de=>x(de.target.value),placeholder:"Electric dryer",style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${k.inputBorder}`,borderRadius:"8px",backgroundColor:k.inputBg,color:k.cardText,boxSizing:"border-box"}}),n.jsx("div",{style:{fontSize:"0.75rem",color:k.subtleText,marginTop:"0.25rem"},children:"Minimum 5000W if electric"})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:k.labelText,marginBottom:"0.5rem"},children:"Other Loads (Watts)"}),n.jsx("input",{type:"number",value:P,onChange:de=>A(de.target.value),placeholder:"Pool, spa, etc.",style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${k.inputBorder}`,borderRadius:"8px",backgroundColor:k.inputBg,color:k.cardText,boxSizing:"border-box"}})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:k.labelText,marginBottom:"0.5rem"},children:"Service Voltage"}),n.jsxs("select",{value:C,onChange:de=>S(de.target.value),style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${k.inputBorder}`,borderRadius:"8px",backgroundColor:k.inputBg,color:k.cardText,boxSizing:"border-box"},children:[n.jsx("option",{value:"240",children:"240V"}),n.jsx("option",{value:"208",children:"208V"})]})]})]})]}),s&&n.jsxs("div",{children:[n.jsxs("div",{style:{background:k.cardBg,border:`1px solid ${k.cardBorder}`,borderRadius:"12px",padding:"1.5rem",marginBottom:"1rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[n.jsx("h3",{style:{fontSize:"1rem",fontWeight:"600",color:k.cardText,marginTop:0,marginBottom:"1rem",borderBottom:`1px solid ${k.cardBorder}`,paddingBottom:"0.5rem"},children:"Load Breakdown"}),n.jsxs("div",{style:{background:k.sectionBg,padding:"1rem",borderRadius:"8px",marginBottom:"1rem",border:`1px solid ${k.cardBorder}`},children:[n.jsx("strong",{style:{display:"block",marginBottom:"0.5rem",color:k.cardText,fontSize:"0.875rem"},children:"Connected Loads:"}),n.jsxs("div",{style:{fontSize:"0.875rem",color:k.labelText,marginBottom:"0.25rem"},children:["General Lighting: ",se.generalLighting.toLocaleString()," VA"]}),n.jsxs("div",{style:{fontSize:"0.875rem",color:k.labelText,marginBottom:"0.25rem"},children:["Small Appliance: ",se.smallAppliance.toLocaleString()," VA"]}),n.jsxs("div",{style:{fontSize:"0.875rem",color:k.labelText,marginBottom:"0.5rem"},children:["Laundry: ",se.laundry.toLocaleString()," VA"]}),n.jsxs("div",{style:{fontSize:"0.875rem",color:k.subtleText,paddingTop:"0.5rem",borderTop:`1px solid ${k.cardBorder}`},children:["Subtotal: ",se.subtotal.toLocaleString()," VA"]})]}),n.jsxs("div",{style:{background:k.sectionBg,padding:"1rem",borderRadius:"8px",border:`1px solid ${k.cardBorder}`},children:[n.jsx("strong",{style:{display:"block",marginBottom:"0.5rem",color:k.cardText,fontSize:"0.875rem"},children:"Demand Loads (after factors):"}),n.jsxs("div",{style:{fontSize:"0.875rem",color:k.labelText,marginBottom:"0.25rem"},children:["Lighting: ",se.demandLighting.toFixed(0)," W"]}),y&&n.jsxs("div",{style:{fontSize:"0.875rem",color:k.labelText,marginBottom:"0.25rem"},children:["Range: ",se.rangeDemand.toFixed(0)," W"]}),_&&n.jsxs("div",{style:{fontSize:"0.875rem",color:k.labelText,marginBottom:"0.25rem"},children:["Dryer: ",se.dryerDemand.toFixed(0)," W"]}),m&&n.jsxs("div",{style:{fontSize:"0.875rem",color:k.labelText,marginBottom:"0.25rem"},children:["Water Heater: ",se.whDemand.toFixed(0)," W"]}),d&&n.jsxs("div",{style:{fontSize:"0.875rem",color:k.labelText,marginBottom:"0.25rem"},children:["HVAC: ",se.hvacDemand.toFixed(0)," W"]}),P&&n.jsxs("div",{style:{fontSize:"0.875rem",color:k.labelText},children:["Other: ",se.otherDemand.toFixed(0)," W"]})]})]}),n.jsxs("div",{style:{background:k.cardBg,border:`1px solid ${k.cardBorder}`,borderRadius:"12px",padding:"1.5rem",marginBottom:"1rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[n.jsx("h3",{style:{fontSize:"1rem",fontWeight:"600",color:k.cardText,marginTop:0,marginBottom:"1rem"},children:"Service Sizing Results"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"1rem",marginBottom:"1rem"},children:[n.jsxs("div",{style:{background:k.sectionBg,padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:k.labelText,marginBottom:"0.25rem"},children:"Total Demand Load"}),n.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:k.cardText},children:se.totalDemand.toFixed(0)}),n.jsx("div",{style:{fontSize:"0.75rem",color:k.labelText,marginTop:"0.25rem"},children:"Watts"})]}),n.jsxs("div",{style:{background:k.sectionBg,padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:k.labelText,marginBottom:"0.25rem"},children:"Calculated Amperage"}),n.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:k.cardText},children:se.totalAmperage.toFixed(1)}),n.jsx("div",{style:{fontSize:"0.75rem",color:k.labelText,marginTop:"0.25rem"},children:"Amperes"})]})]}),n.jsxs("div",{style:{background:"#dbeafe",padding:"1rem",borderRadius:"8px",textAlign:"center",marginBottom:"1rem"},children:[n.jsx("div",{style:{fontSize:"0.875rem",color:"#1e40af",marginBottom:"0.5rem",fontWeight:"600"},children:"Recommended Service Size"}),n.jsxs("div",{style:{fontSize:"2.5rem",fontWeight:"700",color:"#1e40af"},children:[se.recommendedService,"A"]})]}),n.jsx("div",{style:{background:k.sectionBg,padding:"1rem",borderRadius:"8px",textAlign:"center",border:`1px solid ${k.cardBorder}`},children:n.jsxs("div",{style:{fontSize:"0.875rem",color:k.labelText},children:[n.jsx("strong",{style:{color:k.cardText},children:"Service Conductors:"})," ",se.conductorSize," Copper"]})})]})]}),n.jsx("div",{style:{background:"#fef3c7",border:"1px solid #fcd34d",borderRadius:"8px",padding:"1rem"},children:n.jsxs("div",{style:{display:"flex",alignItems:"start",gap:"0.75rem"},children:[n.jsx(co,{size:20,color:"#d97706",style:{flexShrink:0,marginTop:"0.125rem"}}),n.jsxs("div",{style:{fontSize:"0.875rem",color:"#92400e",lineHeight:"1.5"},children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"0.25rem"},children:"Important Notes:"}),n.jsx("div",{style:{fontSize:"0.8125rem"},children:"Service conductors are approximate for 75C copper. Consult NEC Table 310.15(B)(16) for exact sizing with all derating factors."})]})]})})]}):n.jsxs("div",{children:[n.jsxs("div",{style:{background:k.cardBg,border:`1px solid ${k.cardBorder}`,borderRadius:"12px",padding:"1.5rem",marginBottom:"1rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[n.jsx("h3",{style:{fontSize:"1rem",fontWeight:"600",color:k.cardText,marginTop:0,marginBottom:"1rem",borderBottom:`1px solid ${k.cardBorder}`,paddingBottom:"0.5rem"},children:"Load Information"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:k.labelText,marginBottom:"0.5rem"},children:"Total Connected Load (kW)"}),n.jsx("input",{type:"number",value:F,onChange:de=>O(de.target.value),placeholder:"Total building load",style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${k.inputBorder}`,borderRadius:"8px",backgroundColor:k.inputBg,color:k.cardText,boxSizing:"border-box"}})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:k.labelText,marginBottom:"0.5rem"},children:"Demand Factor (%)"}),n.jsx("input",{type:"number",value:B,onChange:de=>H(de.target.value),placeholder:"Typically 70-90%",style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${k.inputBorder}`,borderRadius:"8px",backgroundColor:k.inputBg,color:k.cardText,boxSizing:"border-box"}}),n.jsx("div",{style:{fontSize:"0.75rem",color:k.subtleText,marginTop:"0.25rem"},children:"Peak demand percentage"})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:k.labelText,marginBottom:"0.5rem"},children:"Future Expansion (%)"}),n.jsx("input",{type:"number",value:J,onChange:de=>D(de.target.value),placeholder:"Typically 20-30%",style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${k.inputBorder}`,borderRadius:"8px",backgroundColor:k.inputBg,color:k.cardText,boxSizing:"border-box"}}),n.jsx("div",{style:{fontSize:"0.75rem",color:k.subtleText,marginTop:"0.25rem"},children:"Spare capacity for growth"})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:k.labelText,marginBottom:"0.5rem"},children:"Service Voltage"}),n.jsxs("select",{value:ee,onChange:de=>ce(de.target.value),style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${k.inputBorder}`,borderRadius:"8px",backgroundColor:k.inputBg,color:k.cardText,boxSizing:"border-box"},children:[n.jsx("option",{value:"208",children:"208V"}),n.jsx("option",{value:"240",children:"240V"}),n.jsx("option",{value:"480",children:"480V"}),n.jsx("option",{value:"600",children:"600V"})]})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:k.labelText,marginBottom:"0.5rem"},children:"System Phase"}),n.jsxs("select",{value:W,onChange:de=>I(de.target.value),style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${k.inputBorder}`,borderRadius:"8px",backgroundColor:k.inputBg,color:k.cardText,boxSizing:"border-box"},children:[n.jsx("option",{value:"single",children:"Single Phase"}),n.jsx("option",{value:"three",children:"Three Phase"})]})]})]})]}),F&&n.jsxs("div",{children:[n.jsxs("div",{style:{background:k.cardBg,border:`1px solid ${k.cardBorder}`,borderRadius:"12px",padding:"1.5rem",marginBottom:"1rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[n.jsx("h3",{style:{fontSize:"1rem",fontWeight:"600",color:k.cardText,marginTop:0,marginBottom:"1rem"},children:"Load Calculation"}),n.jsxs("div",{style:{background:k.sectionBg,padding:"1rem",borderRadius:"8px",border:`1px solid ${k.cardBorder}`,marginBottom:"1rem"},children:[n.jsxs("div",{style:{fontSize:"0.875rem",marginBottom:"0.5rem",color:k.labelText},children:[n.jsx("strong",{style:{color:k.cardText},children:"Connected Load:"})," ",xe.connectedLoad.toFixed(1)," kW"]}),n.jsxs("div",{style:{fontSize:"0.875rem",marginBottom:"0.5rem",color:k.labelText},children:[n.jsxs("strong",{style:{color:k.cardText},children:["Demand Load (",B,"%):"]})," ",xe.demandLoad.toFixed(1)," kW"]}),n.jsxs("div",{style:{fontSize:"0.875rem",color:k.labelText},children:[n.jsxs("strong",{style:{color:k.cardText},children:["With Future Expansion (",J,"%):"]})," ",xe.futureLoad.toFixed(1)," kW"]})]}),n.jsxs("div",{style:{background:k.sectionBg,padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:k.labelText,marginBottom:"0.25rem"},children:"Calculated Amperage"}),n.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:k.cardText},children:xe.amperage.toFixed(1)}),n.jsx("div",{style:{fontSize:"0.75rem",color:k.labelText,marginTop:"0.25rem"},children:"Amperes"})]})]}),n.jsxs("div",{style:{background:k.cardBg,border:`1px solid ${k.cardBorder}`,borderRadius:"12px",padding:"1.5rem",marginBottom:"1rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[n.jsx("h3",{style:{fontSize:"1rem",fontWeight:"600",color:k.cardText,marginTop:0,marginBottom:"1rem"},children:"Recommended Service"}),n.jsxs("div",{style:{background:"#dbeafe",padding:"1rem",borderRadius:"8px",textAlign:"center",marginBottom:"1rem"},children:[n.jsx("div",{style:{fontSize:"0.875rem",color:"#1e40af",marginBottom:"0.5rem",fontWeight:"600"},children:"Service Size"}),n.jsxs("div",{style:{fontSize:"2.5rem",fontWeight:"700",color:"#1e40af"},children:[xe.recommendedService,"A"]})]}),n.jsx("div",{style:{background:k.sectionBg,padding:"1rem",borderRadius:"8px",textAlign:"center",border:`1px solid ${k.cardBorder}`},children:n.jsxs("div",{style:{fontSize:"0.875rem",color:k.labelText},children:["@ ",ee,"V ",W==="single"?"Single":"Three"," Phase"]})})]})]}),n.jsx("div",{style:{background:"#fef3c7",border:"1px solid #fcd34d",borderRadius:"8px",padding:"1rem"},children:n.jsxs("div",{style:{display:"flex",alignItems:"start",gap:"0.75rem"},children:[n.jsx(co,{size:20,color:"#d97706",style:{flexShrink:0,marginTop:"0.125rem"}}),n.jsxs("div",{style:{fontSize:"0.875rem",color:"#92400e",lineHeight:"1.5"},children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"0.5rem"},children:"Commercial Service Considerations:"}),n.jsxs("ul",{style:{margin:0,paddingLeft:"1.25rem",fontSize:"0.8125rem"},children:[n.jsx("li",{style:{marginBottom:"0.25rem"},children:"Include demand factors per NEC 220.40 and Article 220 Part IV"}),n.jsx("li",{style:{marginBottom:"0.25rem"},children:"Consider future expansion (typically 20-30% spare capacity)"}),n.jsx("li",{style:{marginBottom:"0.25rem"},children:"Account for motor loads, HVAC, and large equipment"}),n.jsx("li",{style:{marginBottom:"0.25rem"},children:"Review utility requirements and available fault current"}),n.jsx("li",{children:"Consider separate services for different occupancies"})]})]})]})})]}),n.jsxs("div",{style:{background:k.sectionBg,padding:"1rem",borderRadius:"8px",border:`1px solid ${k.cardBorder}`,fontSize:"0.8125rem",color:k.labelText,marginTop:"1rem"},children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"0.5rem",color:k.cardText},children:"NEC Article 230 - Services and Service Equipment:"}),"220.82: Dwelling unit optional calculation  230.42: Minimum conductor size  230.79: Disconnecting means rating  230.90: Overload protection"]})]})}),gb=({gecData:r,setGecData:t,colors:e})=>{const a={copper:{"2 or smaller":"8","1 or 1/0":"6","2/0 or 3/0":"4","4/0 to 350":"2","400 to 600":"1/0","650 to 1100":"2/0","over 1100":"3/0"},aluminum:{"2 or smaller":"6","1 or 1/0":"4","2/0 or 3/0":"2","4/0 to 350":"1/0","400 to 600":"3/0","650 to 1100":"4/0","over 1100":"250"}},l=(()=>{if(!r.serviceSize)return null;const d=r.serviceSize;let u="";const m=["14","12","10","8","6","4","3","2","1"],p=["1/0","2/0","3/0","4/0"],y=parseInt(d);return m.includes(d)?parseInt(d)>=2?u="2 or smaller":d==="1"&&(u="1 or 1/0"):p.includes(d)?d==="1/0"?u="1 or 1/0":d==="2/0"||d==="3/0"?u="2/0 or 3/0":d==="4/0"&&(u="4/0 to 350"):isNaN(y)||(y>=250&&y<=350?u="4/0 to 350":y>=400&&y<=600?u="400 to 600":y>=650&&y<=1100?u="650 to 1100":y>1100&&(u="over 1100")),{serviceSize:d,category:u,gecSize:a[r.conductorMaterial][u]||"N/A"}})();return n.jsxs("div",{children:[n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:e.labelText,marginBottom:"0.5rem"},children:"Service Conductor Size"}),n.jsxs("select",{value:r.serviceSize,onChange:d=>t(u=>({...u,serviceSize:d.target.value})),style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${e.inputBorder}`,borderRadius:"8px",backgroundColor:e.inputBg,color:e.cardText,boxSizing:"border-box"},children:[n.jsx("option",{value:"",children:"Select Size"}),n.jsx("option",{value:"8",children:"8 AWG"}),n.jsx("option",{value:"6",children:"6 AWG"}),n.jsx("option",{value:"4",children:"4 AWG"}),n.jsx("option",{value:"2",children:"2 AWG"}),n.jsx("option",{value:"1",children:"1 AWG"}),n.jsx("option",{value:"1/0",children:"1/0 AWG"}),n.jsx("option",{value:"2/0",children:"2/0 AWG"}),n.jsx("option",{value:"3/0",children:"3/0 AWG"}),n.jsx("option",{value:"4/0",children:"4/0 AWG"}),n.jsx("option",{value:"250",children:"250 kcmil"}),n.jsx("option",{value:"350",children:"350 kcmil"}),n.jsx("option",{value:"500",children:"500 kcmil"}),n.jsx("option",{value:"750",children:"750 kcmil"}),n.jsx("option",{value:"1000",children:"1000 kcmil"}),n.jsx("option",{value:"1500",children:"1500 kcmil"})]}),n.jsx("div",{style:{fontSize:"0.75rem",color:e.subtleText,marginTop:"0.25rem"},children:"Largest ungrounded service conductor"})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:e.labelText,marginBottom:"0.5rem"},children:"GEC Material"}),n.jsxs("select",{value:r.conductorMaterial,onChange:d=>t(u=>({...u,conductorMaterial:d.target.value})),style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${e.inputBorder}`,borderRadius:"8px",backgroundColor:e.inputBg,color:e.cardText,boxSizing:"border-box"},children:[n.jsx("option",{value:"copper",children:"Copper"}),n.jsx("option",{value:"aluminum",children:"Aluminum"})]})]})]}),l&&l.gecSize!=="N/A"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{style:{background:"#dbeafe",padding:"1rem",borderRadius:"8px",textAlign:"center",marginBottom:"1rem"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:"#1e40af",marginBottom:"0.25rem"},children:"Grounding Electrode Conductor"}),n.jsxs("div",{style:{fontSize:"2rem",fontWeight:"700",color:"#1e40af"},children:[l.gecSize," AWG"]}),n.jsx("div",{style:{fontSize:"0.875rem",color:"#1e40af",marginTop:"0.25rem"},children:r.conductorMaterial.charAt(0).toUpperCase()+r.conductorMaterial.slice(1)})]}),n.jsx("div",{style:{background:"#d1fae5",border:"1px solid #6ee7b7",borderRadius:"8px",padding:"1rem",marginBottom:"1rem"},children:n.jsxs("div",{style:{display:"flex",alignItems:"start",gap:"0.75rem"},children:[n.jsx(en,{size:20,color:"#059669",style:{flexShrink:0,marginTop:"0.125rem"}}),n.jsxs("div",{style:{fontSize:"0.875rem",color:"#047857",lineHeight:"1.5"},children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"0.5rem"},children:"Per NEC Table 250.66"}),n.jsxs("div",{children:["Service conductor: ",l.serviceSize," AWG ",r.conductorMaterial]})]})]})}),n.jsxs("div",{style:{background:e.sectionBg,padding:"1rem",borderRadius:"8px",border:`1px solid ${e.cardBorder}`,fontSize:"0.875rem",color:e.labelText},children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"0.5rem",color:e.cardText},children:"Important Notes:"}),n.jsxs("ul",{style:{margin:0,paddingLeft:"1.25rem"},children:[n.jsx("li",{children:"GEC to rod/pipe/plate need not be larger than 6 AWG copper"}),n.jsx("li",{children:"GEC to concrete-encased electrode need not be larger than 4 AWG copper"}),n.jsx("li",{children:"Must be continuous without splices (except as permitted)"})]})]})]})]})},xb=({egcData:r,setEgcData:t,colors:e})=>{const a={copper:{15:"14",20:"12",30:"10",40:"10",60:"10",100:"8",200:"6",300:"4",400:"3",500:"2",600:"1",800:"1/0",1e3:"2/0",1200:"3/0",1600:"4/0",2e3:"250",2500:"350",3e3:"400",4e3:"500",5e3:"700",6e3:"800"},aluminum:{15:"12",20:"10",30:"8",40:"8",60:"8",100:"6",200:"4",300:"2",400:"1",500:"1/0",600:"2/0",800:"3/0",1e3:"4/0",1200:"250",1600:"350",2e3:"400",2500:"500",3e3:"600",4e3:"750",5e3:"1000",6e3:"1200"}},l=(()=>{const d=parseInt(r.ocpdRating);if(!d)return null;const u=Object.keys(a[r.conductorMaterial]).map(Number).sort((p,y)=>p-y),m=u.find(p=>p>=d)||u[u.length-1];return{ocpdRating:d,applicableRating:m,egcSize:a[r.conductorMaterial][m]}})();return n.jsxs("div",{children:[n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:e.labelText,marginBottom:"0.5rem"},children:"Overcurrent Device Rating (A)"}),n.jsx("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",value:r.ocpdRating,onChange:d=>{const u=d.target.value.replace(/[^0-9]/g,"");t(m=>({...m,ocpdRating:u}))},placeholder:"Enter rating",style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${e.inputBorder}`,borderRadius:"8px",backgroundColor:e.inputBg,color:e.cardText,boxSizing:"border-box"}}),n.jsx("div",{style:{fontSize:"0.75rem",color:e.subtleText,marginTop:"0.25rem"},children:"Circuit breaker or fuse rating"})]}),n.jsxs("div",{children:[n.jsxs("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:e.labelText,marginBottom:"0.5rem"},children:["EGC Material ",n.jsx("br",{}),"  ",n.jsx("br",{})]}),n.jsxs("select",{value:r.conductorMaterial,onChange:d=>t(u=>({...u,conductorMaterial:d.target.value})),style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${e.inputBorder}`,borderRadius:"8px",backgroundColor:e.inputBg,color:e.cardText,boxSizing:"border-box"},children:[n.jsx("option",{value:"copper",children:"Copper"}),n.jsx("option",{value:"aluminum",children:"Aluminum"})]})]})]}),l&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{style:{background:"#dbeafe",padding:"1rem",borderRadius:"8px",textAlign:"center",marginBottom:"1rem"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:"#1e40af",marginBottom:"0.25rem"},children:"Equipment Grounding Conductor"}),n.jsxs("div",{style:{fontSize:"2rem",fontWeight:"700",color:"#1e40af"},children:[l.egcSize," AWG"]}),n.jsx("div",{style:{fontSize:"0.875rem",color:"#1e40af",marginTop:"0.25rem"},children:r.conductorMaterial.charAt(0).toUpperCase()+r.conductorMaterial.slice(1)})]}),n.jsx("div",{style:{background:"#d1fae5",border:"1px solid #6ee7b7",borderRadius:"8px",padding:"1rem",marginBottom:"1rem"},children:n.jsxs("div",{style:{display:"flex",alignItems:"start",gap:"0.75rem"},children:[n.jsx(en,{size:20,color:"#059669",style:{flexShrink:0,marginTop:"0.125rem"}}),n.jsxs("div",{style:{fontSize:"0.875rem",color:"#047857",lineHeight:"1.5"},children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"0.5rem"},children:"Per NEC Table 250.122"}),n.jsxs("div",{children:["OCPD rating: ",l.ocpdRating,"A"]})]})]})}),n.jsxs("div",{style:{background:e.sectionBg,padding:"1rem",borderRadius:"8px",border:`1px solid ${e.cardBorder}`,fontSize:"0.875rem",color:e.labelText},children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"0.5rem",color:e.cardText},children:"Important Notes:"}),n.jsxs("ul",{style:{margin:0,paddingLeft:"1.25rem"},children:[n.jsx("li",{children:"Increase proportionally if conductors upsized for voltage drop"}),n.jsx("li",{children:"Size per each raceway if conductors run in parallel"}),n.jsx("li",{children:"Based on rating of OCPD ahead of circuit"})]})]})]})]})},yb=({bondingData:r,setBondingData:t,colors:e})=>{const a={copper:{"2 or smaller":"8","1 or 1/0":"6","2/0 or 3/0":"4","4/0 to 350":"2","400 to 600":"1/0","650 to 1100":"2/0","over 1100":"3/0"},aluminum:{"2 or smaller":"6","1 or 1/0":"4","2/0 or 3/0":"2","4/0 to 350":"1/0","400 to 600":"3/0","650 to 1100":"4/0","over 1100":"250"}},l=(()=>{if(!r.serviceSize)return null;const d=r.serviceSize;let u="";const m=["14","12","10","8","6","4","3","2","1"],p=["1/0","2/0","3/0","4/0"],y=parseInt(d);return m.includes(d)?parseInt(d)>=2?u="2 or smaller":d==="1"&&(u="1 or 1/0"):p.includes(d)?d==="1/0"?u="1 or 1/0":d==="2/0"||d==="3/0"?u="2/0 or 3/0":d==="4/0"&&(u="4/0 to 350"):isNaN(y)||(y>=250&&y<=350?u="4/0 to 350":y>=400&&y<=600?u="400 to 600":y>=650&&y<=1100?u="650 to 1100":y>1100&&(u="over 1100")),{serviceSize:d,jumperSize:a[r.conductorMaterial][u]||"N/A",jumperType:r.jumperType}})();return n.jsxs("div",{children:[n.jsxs("div",{style:{display:"grid",gap:"1rem",marginBottom:"1rem"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:e.labelText,marginBottom:"0.5rem"},children:"Bonding Jumper Type"}),n.jsxs("select",{value:r.jumperType,onChange:d=>t(u=>({...u,jumperType:d.target.value})),style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${e.inputBorder}`,borderRadius:"8px",backgroundColor:e.inputBg,color:e.cardText,boxSizing:"border-box"},children:[n.jsx("option",{value:"main",children:"Main Bonding Jumper (Service)"}),n.jsx("option",{value:"system",children:"System Bonding Jumper (Separately Derived)"})]})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:e.labelText,marginBottom:"0.5rem"},children:"Conductor Size"}),n.jsxs("select",{value:r.serviceSize,onChange:d=>t(u=>({...u,serviceSize:d.target.value})),style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${e.inputBorder}`,borderRadius:"8px",backgroundColor:e.inputBg,color:e.cardText,boxSizing:"border-box"},children:[n.jsx("option",{value:"",children:"Select Size"}),n.jsx("option",{value:"8",children:"8 AWG"}),n.jsx("option",{value:"6",children:"6 AWG"}),n.jsx("option",{value:"4",children:"4 AWG"}),n.jsx("option",{value:"2",children:"2 AWG"}),n.jsx("option",{value:"1",children:"1 AWG"}),n.jsx("option",{value:"1/0",children:"1/0 AWG"}),n.jsx("option",{value:"2/0",children:"2/0 AWG"}),n.jsx("option",{value:"3/0",children:"3/0 AWG"}),n.jsx("option",{value:"4/0",children:"4/0 AWG"}),n.jsx("option",{value:"250",children:"250 kcmil"}),n.jsx("option",{value:"500",children:"500 kcmil"}),n.jsx("option",{value:"750",children:"750 kcmil"}),n.jsx("option",{value:"1000",children:"1000 kcmil"})]})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:e.labelText,marginBottom:"0.5rem"},children:"Material"}),n.jsxs("select",{value:r.conductorMaterial,onChange:d=>t(u=>({...u,conductorMaterial:d.target.value})),style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${e.inputBorder}`,borderRadius:"8px",backgroundColor:e.inputBg,color:e.cardText,boxSizing:"border-box"},children:[n.jsx("option",{value:"copper",children:"Copper"}),n.jsx("option",{value:"aluminum",children:"Aluminum"})]})]})]})]}),l&&l.jumperSize!=="N/A"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{style:{background:"#dbeafe",padding:"1rem",borderRadius:"8px",textAlign:"center",marginBottom:"1rem"},children:[n.jsxs("div",{style:{fontSize:"0.75rem",color:"#1e40af",marginBottom:"0.25rem"},children:[r.jumperType==="main"?"Main":"System"," Bonding Jumper"]}),n.jsxs("div",{style:{fontSize:"2rem",fontWeight:"700",color:"#1e40af"},children:[l.jumperSize," AWG"]}),n.jsx("div",{style:{fontSize:"0.875rem",color:"#1e40af",marginTop:"0.25rem"},children:r.conductorMaterial.charAt(0).toUpperCase()+r.conductorMaterial.slice(1)})]}),n.jsx("div",{style:{background:"#d1fae5",border:"1px solid #6ee7b7",borderRadius:"8px",padding:"1rem",marginBottom:"1rem"},children:n.jsxs("div",{style:{display:"flex",alignItems:"start",gap:"0.75rem"},children:[n.jsx(en,{size:20,color:"#059669",style:{flexShrink:0,marginTop:"0.125rem"}}),n.jsxs("div",{style:{fontSize:"0.875rem",color:"#047857",lineHeight:"1.5"},children:[n.jsxs("div",{style:{fontWeight:"600",marginBottom:"0.5rem"},children:["Per NEC ",r.jumperType==="main"?"250.28(D)":"250.30(A)(1)"]}),n.jsxs("div",{children:["Conductor size: ",l.serviceSize," AWG ",r.conductorMaterial]})]})]})}),n.jsxs("div",{style:{background:e.sectionBg,padding:"1rem",borderRadius:"8px",border:`1px solid ${e.cardBorder}`,fontSize:"0.875rem",color:e.labelText},children:[n.jsxs("div",{style:{fontWeight:"600",marginBottom:"0.5rem",color:e.cardText},children:[r.jumperType==="main"?"Main":"System"," Bonding Jumper Requirements:"]}),n.jsx("ul",{style:{margin:0,paddingLeft:"1.25rem"},children:r.jumperType==="main"?n.jsxs(n.Fragment,{children:[n.jsx("li",{children:"Connects grounded conductor to equipment grounding conductor"}),n.jsx("li",{children:"Sized per Table 250.66 based on service conductor"}),n.jsx("li",{children:"Can be wire, bus, screw, or similar conductor"})]}):n.jsxs(n.Fragment,{children:[n.jsx("li",{children:"Required for separately derived systems"}),n.jsx("li",{children:"Connects grounded to equipment grounding conductor"}),n.jsx("li",{children:"Installed at same location as GEC connection"})]})})]})]})]})},vb=ve.forwardRef(({isDarkMode:r=!1,onBack:t},e)=>{const[a,s]=ve.useState("gec"),[l,d]=ve.useState({serviceSize:"",conductorMaterial:"copper"}),[u,m]=ve.useState({ocpdRating:"",conductorMaterial:"copper"}),[p,y]=ve.useState({serviceSize:"",conductorMaterial:"copper",jumperType:"main"}),j=ve.useMemo(()=>({cardBg:r?"#374151":"#ffffff",cardBorder:r?"#4b5563":"#e5e7eb",cardText:r?"#f9fafb":"#111827",labelText:r?"#d1d5db":"#374151",inputBg:r?"#1f2937":"#ffffff",inputBorder:r?"#4b5563":"#d1d5db",sectionBg:r?"#1f2937":"#f9fafb",subtleText:r?"#9ca3af":"#6b7280"}),[r]);return ve.useImperativeHandle(e,()=>({exportPDF:()=>{let _;if(a==="gec"){if(!l.serviceSize){alert("Please select a service conductor size before exporting");return}const x={copper:{"2 or smaller":"8","1 or 1/0":"6","2/0 or 3/0":"4","4/0 to 350":"2","400 to 600":"1/0","650 to 1100":"2/0","over 1100":"3/0"},aluminum:{"2 or smaller":"6","1 or 1/0":"4","2/0 or 3/0":"2","4/0 to 350":"1/0","400 to 600":"3/0","650 to 1100":"4/0","over 1100":"250"}};let P="";const A=l.serviceSize,C=["14","12","10","8","6","4","3","2","1"],S=["1/0","2/0","3/0","4/0"],F=parseInt(A);C.includes(A)?parseInt(A)>=2?P="2 or smaller":A==="1"&&(P="1 or 1/0"):S.includes(A)?A==="1/0"?P="1 or 1/0":A==="2/0"||A==="3/0"?P="2/0 or 3/0":A==="4/0"&&(P="4/0 to 350"):isNaN(F)||(F>=250&&F<=350?P="4/0 to 350":F>=400&&F<=600?P="400 to 600":F>=650&&F<=1100?P="650 to 1100":F>1100&&(P="over 1100"));const O=x[l.conductorMaterial][P];_={calculatorName:"Grounding & Bonding - Grounding Electrode Conductor",inputs:{serviceConductorSize:`${l.serviceSize} AWG`,material:l.conductorMaterial.charAt(0).toUpperCase()+l.conductorMaterial.slice(1)},results:{groundingElectrodeConductor:`${O} AWG ${l.conductorMaterial}`},additionalInfo:{note1:"GEC to rod/pipe/plate need not be larger than 6 AWG copper",note2:"GEC to concrete-encased electrode need not be larger than 4 AWG copper",note3:"Must be continuous without splices (except as permitted)"},necReferences:["NEC Table 250.66 - Grounding Electrode Conductor for Alternating-Current Systems","NEC 250.64 - Grounding Electrode Conductor Installation","NEC 250.52 - Grounding Electrodes"]}}else if(a==="egc"){if(!u.ocpdRating){alert("Please enter an overcurrent device rating before exporting");return}const x={copper:{15:"14",20:"12",30:"10",40:"10",60:"10",100:"8",200:"6",300:"4",400:"3",500:"2",600:"1",800:"1/0",1e3:"2/0",1200:"3/0",1600:"4/0",2e3:"250",2500:"350",3e3:"400",4e3:"500",5e3:"700",6e3:"800"},aluminum:{15:"12",20:"10",30:"8",40:"8",60:"8",100:"6",200:"4",300:"2",400:"1",500:"1/0",600:"2/0",800:"3/0",1e3:"4/0",1200:"250",1600:"350",2e3:"400",2500:"500",3e3:"600",4e3:"750",5e3:"1000",6e3:"1200"}},P=parseInt(u.ocpdRating),A=Object.keys(x[u.conductorMaterial]).map(Number).sort((F,O)=>F-O),C=A.find(F=>F>=P)||A[A.length-1],S=x[u.conductorMaterial][C];_={calculatorName:"Grounding & Bonding - Equipment Grounding Conductor",inputs:{overcurrentDeviceRating:`${P} Amps`,material:u.conductorMaterial.charAt(0).toUpperCase()+u.conductorMaterial.slice(1)},results:{equipmentGroundingConductor:`${S} AWG ${u.conductorMaterial}`,basedOnOCPDRating:`${C} Amps`},additionalInfo:{note1:"Increase proportionally if conductors upsized for voltage drop",note2:"Size per each raceway if conductors run in parallel",note3:"Based on rating of OCPD ahead of circuit"},necReferences:["NEC Table 250.122 - Minimum Size Equipment Grounding Conductors for Grounding Raceway and Equipment","NEC 250.122(B) - Increased in Size","NEC 250.122(F) - Conductors in Parallel"]}}else if(a==="bonding"){if(!p.serviceSize){alert("Please select a conductor size before exporting");return}const x={copper:{"2 or smaller":"8","1 or 1/0":"6","2/0 or 3/0":"4","4/0 to 350":"2","400 to 600":"1/0","650 to 1100":"2/0","over 1100":"3/0"},aluminum:{"2 or smaller":"6","1 or 1/0":"4","2/0 or 3/0":"2","4/0 to 350":"1/0","400 to 600":"3/0","650 to 1100":"4/0","over 1100":"250"}};let P="";const A=p.serviceSize,C=["14","12","10","8","6","4","3","2","1"],S=["1/0","2/0","3/0","4/0"],F=parseInt(A);C.includes(A)?parseInt(A)>=2?P="2 or smaller":A==="1"&&(P="1 or 1/0"):S.includes(A)?A==="1/0"?P="1 or 1/0":A==="2/0"||A==="3/0"?P="2/0 or 3/0":A==="4/0"&&(P="4/0 to 350"):isNaN(F)||(F>=250&&F<=350?P="4/0 to 350":F>=400&&F<=600?P="400 to 600":F>=650&&F<=1100?P="650 to 1100":F>1100&&(P="over 1100"));const O=x[p.conductorMaterial][P],B=p.jumperType==="main"?"Main Bonding Jumper":"System Bonding Jumper";_={calculatorName:`Grounding & Bonding - ${B}`,inputs:{jumperType:B,conductorSize:`${p.serviceSize} AWG`,material:p.conductorMaterial.charAt(0).toUpperCase()+p.conductorMaterial.slice(1)},results:{bondingJumperSize:`${O} AWG ${p.conductorMaterial}`},additionalInfo:p.jumperType==="main"?{purpose:"Connects grounded conductor to equipment grounding conductor",sizing:"Sized per Table 250.66 based on service conductor",forms:"Can be wire, bus, screw, or similar conductor"}:{purpose:"Required for separately derived systems",connection:"Connects grounded to equipment grounding conductor",location:"Installed at same location as GEC connection"},necReferences:p.jumperType==="main"?["NEC 250.28 - Main Bonding Jumper and System Bonding Jumper","NEC 250.28(D) - Size","NEC Table 250.66 - Sizing Reference"]:["NEC 250.30 - Grounding Separately Derived Alternating-Current Systems","NEC 250.30(A)(1) - System Bonding Jumper","NEC Table 250.66 - Sizing Reference"]}}Er(_)}})),n.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto"},children:[n.jsx("div",{style:{background:j.cardBg,border:`1px solid ${j.cardBorder}`,borderRadius:"12px",padding:"1rem",marginBottom:"1rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[{id:"gec",label:"Grounding Electrode"},{id:"egc",label:"Equipment Grounding"},{id:"bonding",label:"Bonding Jumpers"}].map(_=>n.jsx("button",{onClick:()=>s(_.id),style:{flex:"1 1 auto",minWidth:"140px",padding:"0.625rem 1rem",background:a===_.id?"#3b82f6":j.sectionBg,color:a===_.id?"white":j.labelText,border:`1px solid ${a===_.id?"#3b82f6":j.cardBorder}`,borderRadius:"8px",cursor:"pointer",fontSize:"0.875rem",fontWeight:"600",transition:"all 0.2s"},children:_.label},_.id))}),n.jsxs("div",{style:{background:j.cardBg,border:`1px solid ${j.cardBorder}`,borderRadius:"12px",padding:"1.5rem",marginBottom:"1rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[a==="gec"&&n.jsx(gb,{gecData:l,setGecData:d,colors:j}),a==="egc"&&n.jsx(xb,{egcData:u,setEgcData:m,colors:j}),a==="bonding"&&n.jsx(yb,{bondingData:p,setBondingData:y,colors:j})]})]})}),bb=({offsetData:r,setOffsetData:t,colors:e})=>{const a={10:{distance:6,shrink:.01},"22.5":{distance:2.6,shrink:.06},30:{distance:2,shrink:.25},45:{distance:1.4,shrink:.41},60:{distance:1.2,shrink:.58}},l=(()=>{if(!r.obstacleHeight)return null;const d=parseFloat(r.obstacleHeight),u=a[r.bendAngle];return{distanceBetweenBends:(d*u.distance).toFixed(2),shrinkage:(d*u.shrink).toFixed(2),angle:r.bendAngle}})();return n.jsxs("div",{children:[n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:e.labelText,marginBottom:"0.5rem"},children:"Obstacle Height (inches)"}),n.jsx("input",{type:"number",value:r.obstacleHeight,onChange:d=>t(u=>({...u,obstacleHeight:d.target.value})),placeholder:"Enter height",style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${e.inputBorder}`,borderRadius:"8px",backgroundColor:e.inputBg,color:e.cardText,boxSizing:"border-box"}}),n.jsx("div",{style:{fontSize:"0.75rem",color:e.subtleText,marginTop:"0.25rem"},children:"Height to clear obstacle"})]}),n.jsxs("div",{children:[n.jsxs("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:e.labelText,marginBottom:"0.5rem"},children:["Bend Angle ",n.jsx("br",{}),"  ",n.jsx("br",{})]}),n.jsxs("select",{value:r.bendAngle,onChange:d=>t(u=>({...u,bendAngle:d.target.value})),style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${e.inputBorder}`,borderRadius:"8px",backgroundColor:e.inputBg,color:e.cardText,boxSizing:"border-box"},children:[n.jsx("option",{value:"10",children:"10"}),n.jsx("option",{value:"22.5",children:"22.5"}),n.jsx("option",{value:"30",children:"30"}),n.jsx("option",{value:"45",children:"45"}),n.jsx("option",{value:"60",children:"60"})]}),n.jsx("div",{style:{fontSize:"0.75rem",color:e.subtleText,marginTop:"0.25rem"},children:"Most common: 30 or 45"})]})]}),l&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"1rem",marginBottom:"1rem"},children:[n.jsxs("div",{style:{background:"#dbeafe",padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:"#1e40af",marginBottom:"0.25rem"},children:"Distance Between Bends"}),n.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:"#1e40af"},children:[l.distanceBetweenBends,'"']})]}),n.jsxs("div",{style:{background:e.sectionBg,padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:e.labelText,marginBottom:"0.25rem"},children:"Shrinkage"}),n.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:e.cardText},children:[l.shrinkage,'"']})]})]}),n.jsx("div",{style:{background:"#d1fae5",border:"1px solid #6ee7b7",borderRadius:"8px",padding:"1rem",marginBottom:"1rem"},children:n.jsxs("div",{style:{display:"flex",alignItems:"start",gap:"0.75rem"},children:[n.jsx(en,{size:20,color:"#059669",style:{flexShrink:0,marginTop:"0.125rem"}}),n.jsxs("div",{style:{fontSize:"0.875rem",color:"#047857",lineHeight:"1.5"},children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"0.5rem"},children:"How to Make the Bend"}),n.jsxs("div",{children:["Mark first bend, measure ",l.distanceBetweenBends,'" from center of first bend, then make second bend at ',l.angle,"."]})]})]})}),n.jsxs("div",{style:{background:e.sectionBg,padding:"1rem",borderRadius:"8px",border:`1px solid ${e.cardBorder}`,fontSize:"0.875rem",color:e.labelText},children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"0.5rem",color:e.cardText},children:"Offset Bend Tips:"}),n.jsxs("ul",{style:{margin:0,paddingLeft:"1.25rem"},children:[n.jsx("li",{children:"30 bends are most common for typical offsets"}),n.jsx("li",{children:"45 bends create shorter, steeper offsets"}),n.jsx("li",{children:"Always account for shrinkage in measurements"})]})]})]})]})},wb=({stubUpData:r,setStubUpData:t,colors:e})=>{const a={"1/2":5,"3/4":6,1:8,"1-1/4":11,"1-1/2":14,2:16,"2-1/2":21,3:26,"3-1/2":30,4:34},l=(()=>{if(!r.stubHeight)return null;const d=parseFloat(r.stubHeight),u=a[r.conduitSize];return{markDistance:(d-u).toFixed(2),deduction:u,stubHeight:d.toFixed(2)}})();return n.jsxs("div",{children:[n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:e.labelText,marginBottom:"0.5rem"},children:"Desired Stub Height (inches)"}),n.jsx("input",{type:"number",value:r.stubHeight,onChange:d=>t(u=>({...u,stubHeight:d.target.value})),placeholder:"Enter stub height",style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${e.inputBorder}`,borderRadius:"8px",backgroundColor:e.inputBg,color:e.cardText,boxSizing:"border-box"}}),n.jsx("div",{style:{fontSize:"0.75rem",color:e.subtleText,marginTop:"0.25rem"},children:"Back of 90 to floor"})]}),n.jsxs("div",{children:[n.jsxs("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:e.labelText,marginBottom:"0.5rem"},children:["Conduit Size ",n.jsx("br",{}),"  ",n.jsx("br",{})]}),n.jsx("select",{value:r.conduitSize,onChange:d=>t(u=>({...u,conduitSize:d.target.value})),style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${e.inputBorder}`,borderRadius:"8px",backgroundColor:e.inputBg,color:e.cardText,boxSizing:"border-box"},children:Object.keys(a).map(d=>n.jsxs("option",{value:d,children:[d,'"']},d))})]})]}),l&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"1rem",marginBottom:"1rem"},children:[n.jsxs("div",{style:{background:"#dbeafe",padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:"#1e40af",marginBottom:"0.25rem"},children:"Mark At"}),n.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:"#1e40af"},children:[l.markDistance,'"']})]}),n.jsxs("div",{style:{background:e.sectionBg,padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:e.labelText,marginBottom:"0.25rem"},children:"Deduction"}),n.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:e.cardText},children:[l.deduction,'"']})]}),n.jsxs("div",{style:{background:e.sectionBg,padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:e.labelText,marginBottom:"0.25rem"},children:"Conduit Size"}),n.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:e.cardText},children:[r.conduitSize,'"']})]})]}),n.jsx("div",{style:{background:"#d1fae5",border:"1px solid #6ee7b7",borderRadius:"8px",padding:"1rem",marginBottom:"1rem"},children:n.jsxs("div",{style:{display:"flex",alignItems:"start",gap:"0.75rem"},children:[n.jsx(en,{size:20,color:"#059669",style:{flexShrink:0,marginTop:"0.125rem"}}),n.jsxs("div",{style:{fontSize:"0.875rem",color:"#047857",lineHeight:"1.5"},children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"0.5rem"},children:"How to Bend"}),n.jsxs("div",{children:["Measure from end of conduit, mark at ",l.markDistance,'", line up mark with arrow on bender, make 90 bend.']})]})]})}),n.jsxs("div",{style:{background:e.sectionBg,padding:"1rem",borderRadius:"8px",border:`1px solid ${e.cardBorder}`,fontSize:"0.875rem",color:e.labelText},children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"0.5rem",color:e.cardText},children:"Stub-Up Tips:"}),n.jsxs("ul",{style:{margin:0,paddingLeft:"1.25rem"},children:[n.jsx("li",{children:"Deduction accounts for the radius of the bend"}),n.jsx("li",{children:"Larger conduit = larger deduction"}),n.jsx("li",{children:"Always check your bender - deductions vary by manufacturer"})]})]})]})]})},Sb=({saddleData:r,setSaddleData:t,colors:e})=>{const s=(()=>{if(!r.obstacleHeight)return null;const l=parseFloat(r.obstacleHeight),d=parseFloat(r.obstacleWidth)||l*4,u=l*.3;return{centerBend:45,outerBends:22.5,distanceToOuter:(d/2).toFixed(2),shrinkage:u.toFixed(2),obstacleHeight:l.toFixed(2)}})();return n.jsxs("div",{children:[n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:e.labelText,marginBottom:"0.5rem"},children:"Obstacle Height (inches)"}),n.jsx("input",{type:"number",value:r.obstacleHeight,onChange:l=>t(d=>({...d,obstacleHeight:l.target.value})),placeholder:"Enter height",style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${e.inputBorder}`,borderRadius:"8px",backgroundColor:e.inputBg,color:e.cardText,boxSizing:"border-box"}})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:e.labelText,marginBottom:"0.5rem"},children:"Obstacle Width (Optional)"}),n.jsx("input",{type:"number",value:r.obstacleWidth,onChange:l=>t(d=>({...d,obstacleWidth:l.target.value})),placeholder:"Auto: 4x height",style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${e.inputBorder}`,borderRadius:"8px",backgroundColor:e.inputBg,color:e.cardText,boxSizing:"border-box"}})]})]}),s&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"1rem",marginBottom:"1rem"},children:[n.jsxs("div",{style:{background:"#dbeafe",padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:"#1e40af",marginBottom:"0.25rem"},children:"Center Bend"}),n.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:"#1e40af"},children:[s.centerBend,""]})]}),n.jsxs("div",{style:{background:e.sectionBg,padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:e.labelText,marginBottom:"0.25rem"},children:"Outer Bends"}),n.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:e.cardText},children:[s.outerBends,""]})]}),n.jsxs("div",{style:{background:e.sectionBg,padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:e.labelText,marginBottom:"0.25rem"},children:"Distance to Outer"}),n.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:e.cardText},children:[s.distanceToOuter,'"']})]})]}),n.jsx("div",{style:{background:"#d1fae5",border:"1px solid #6ee7b7",borderRadius:"8px",padding:"1rem",marginBottom:"1rem"},children:n.jsxs("div",{style:{display:"flex",alignItems:"start",gap:"0.75rem"},children:[n.jsx(en,{size:20,color:"#059669",style:{flexShrink:0,marginTop:"0.125rem"}}),n.jsxs("div",{style:{fontSize:"0.875rem",color:"#047857",lineHeight:"1.5"},children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"0.5rem"},children:"Bending Sequence"}),n.jsxs("ol",{style:{margin:0,paddingLeft:"1.25rem"},children:[n.jsx("li",{children:"Mark center of obstacle on conduit"}),n.jsx("li",{children:"Make 45 center bend at mark"}),n.jsxs("li",{children:["Measure ",s.distanceToOuter,'" from center each direction']}),n.jsx("li",{children:"Make 22.5 bends on each side (opposite direction)"})]})]})]})}),n.jsxs("div",{style:{background:e.sectionBg,padding:"1rem",borderRadius:"8px",border:`1px solid ${e.cardBorder}`,fontSize:"0.875rem",color:e.labelText},children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"0.5rem",color:e.cardText},children:"3-Point Saddle Tips:"}),n.jsxs("ul",{style:{margin:0,paddingLeft:"1.25rem"},children:[n.jsx("li",{children:"Center bend goes up, outer bends go down"}),n.jsx("li",{children:"Most common for going over pipes or other conduits"}),n.jsx("li",{children:"Mark all three bend locations before starting"})]})]})]})]})},jb=({fourPointData:r,setFourPointData:t,colors:e})=>{const s=(()=>{if(!r.obstacleHeight||!r.obstacleWidth)return null;const l=parseFloat(r.obstacleHeight),d=parseFloat(r.obstacleWidth),u=d/2,m=d/4,p=l*.15;return{bendAngle:22.5,distanceToOuter:u.toFixed(2),innerSpacing:m.toFixed(2),shrinkage:p.toFixed(2)}})();return n.jsxs("div",{children:[n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:e.labelText,marginBottom:"0.5rem"},children:"Obstacle Height (inches)"}),n.jsx("input",{type:"number",value:r.obstacleHeight,onChange:l=>t(d=>({...d,obstacleHeight:l.target.value})),placeholder:"Enter height",style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${e.inputBorder}`,borderRadius:"8px",backgroundColor:e.inputBg,color:e.cardText,boxSizing:"border-box"}})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:e.labelText,marginBottom:"0.5rem"},children:"Obstacle Width (inches)"}),n.jsx("input",{type:"number",value:r.obstacleWidth,onChange:l=>t(d=>({...d,obstacleWidth:l.target.value})),placeholder:"Enter width",style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${e.inputBorder}`,borderRadius:"8px",backgroundColor:e.inputBg,color:e.cardText,boxSizing:"border-box"}})]})]}),s&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"1rem",marginBottom:"1rem"},children:[n.jsxs("div",{style:{background:"#dbeafe",padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:"#1e40af",marginBottom:"0.25rem"},children:"All Bends"}),n.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:"#1e40af"},children:[s.bendAngle,""]})]}),n.jsxs("div",{style:{background:e.sectionBg,padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:e.labelText,marginBottom:"0.25rem"},children:"Outer Distance"}),n.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:e.cardText},children:[s.distanceToOuter,'"']})]}),n.jsxs("div",{style:{background:e.sectionBg,padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:e.labelText,marginBottom:"0.25rem"},children:"Inner Spacing"}),n.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:e.cardText},children:[s.innerSpacing,'"']})]})]}),n.jsx("div",{style:{background:"#d1fae5",border:"1px solid #6ee7b7",borderRadius:"8px",padding:"1rem",marginBottom:"1rem"},children:n.jsxs("div",{style:{display:"flex",alignItems:"start",gap:"0.75rem"},children:[n.jsx(en,{size:20,color:"#059669",style:{flexShrink:0,marginTop:"0.125rem"}}),n.jsxs("div",{style:{fontSize:"0.875rem",color:"#047857",lineHeight:"1.5"},children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"0.5rem"},children:"Bending Sequence"}),n.jsxs("ol",{style:{margin:0,paddingLeft:"1.25rem"},children:[n.jsx("li",{children:"Mark center of obstacle on conduit"}),n.jsxs("li",{children:["Measure ",s.distanceToOuter,'" from center (outer bends)']}),n.jsxs("li",{children:["Measure ",s.innerSpacing,'" from center (inner bends)']}),n.jsx("li",{children:"Make all four 22.5 bends: outer up, inner down"})]})]})]})}),n.jsxs("div",{style:{background:e.sectionBg,padding:"1rem",borderRadius:"8px",border:`1px solid ${e.cardBorder}`,fontSize:"0.875rem",color:e.labelText},children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"0.5rem",color:e.cardText},children:"4-Point Saddle Tips:"}),n.jsxs("ul",{style:{margin:0,paddingLeft:"1.25rem"},children:[n.jsx("li",{children:"Used for larger obstacles where 3-point won't work"}),n.jsx("li",{children:"Outer bends go up, inner bends go down"}),n.jsx("li",{children:"Creates a flatter top for better clearance"})]})]})]})]})},kb=ve.forwardRef(({isDarkMode:r=!1,onBack:t},e)=>{const[a,s]=ve.useState("offset"),[l,d]=ve.useState({obstacleHeight:"",bendAngle:"30"}),[u,m]=ve.useState({stubHeight:"",conduitSize:"3/4"}),[p,y]=ve.useState({obstacleHeight:"",obstacleWidth:""}),[j,_]=ve.useState({obstacleHeight:"",obstacleWidth:""}),x={cardBg:r?"#374151":"#ffffff",cardBorder:r?"#4b5563":"#e5e7eb",cardText:r?"#f9fafb":"#111827",labelText:r?"#d1d5db":"#374151",inputBg:r?"#1f2937":"#ffffff",inputBorder:r?"#4b5563":"#d1d5db",sectionBg:r?"#1f2937":"#f9fafb",subtleText:r?"#9ca3af":"#6b7280"};ve.useImperativeHandle(e,()=>({exportPDF:()=>{let A;if(a==="offset"){if(!l.obstacleHeight){alert("Please enter obstacle height for Offset Bends before exporting");return}const C={10:{distance:6,shrink:.01},"22.5":{distance:2.6,shrink:.06},30:{distance:2,shrink:.25},45:{distance:1.4,shrink:.41},60:{distance:1.2,shrink:.58}},S=parseFloat(l.obstacleHeight),F=C[l.bendAngle],O=(S*F.distance).toFixed(2),B=(S*F.shrink).toFixed(2);A={calculatorName:"Conduit Bending - Offset Bends",inputs:{obstacleHeight:`${l.obstacleHeight} inches`,bendAngle:`${l.bendAngle}`},results:{distanceBetweenBends:`${O} inches`,shrinkage:`${B} inches`},additionalInfo:{instructions:`Mark first bend, measure ${O}" from center of first bend, then make second bend at ${l.bendAngle}`,multiplierUsed:`Distance: ${F.distance}, Shrink: ${F.shrink}`},necReferences:["NEC Article 358 - Electrical Metallic Tubing (EMT)","NEC Article 344 - Rigid Metal Conduit (RMC)","30 bends are most common for typical offsets","45 bends create shorter, steeper offsets"]}}else if(a==="stubup"){if(!u.stubHeight){alert("Please enter stub height for 90 Stub-Up before exporting");return}const C={"1/2":5,"3/4":6,1:8,"1-1/4":11,"1-1/2":14,2:16,"2-1/2":21,3:26,"3-1/2":30,4:34},S=parseFloat(u.stubHeight),F=C[u.conduitSize],O=(S-F).toFixed(2);A={calculatorName:"Conduit Bending - 90 Stub-Up",inputs:{desiredStubHeight:`${u.stubHeight} inches`,conduitSize:`${u.conduitSize}"`},results:{markAt:`${O} inches`,deduction:`${F} inches`},additionalInfo:{instructions:`Measure from end of conduit, mark at ${O}", line up mark with arrow on bender, make 90 bend`,note:"Deduction accounts for the radius of the bend - larger conduit requires larger deduction"},necReferences:["NEC Article 358 - Electrical Metallic Tubing (EMT)","NEC Article 344 - Rigid Metal Conduit (RMC)","Always check your bender - deductions vary by manufacturer"]}}else if(a==="saddle"){if(!p.obstacleHeight){alert("Please enter obstacle height for 3-Point Saddle before exporting");return}const C=parseFloat(p.obstacleHeight),S=parseFloat(p.obstacleWidth)||C*4,F=(C*.3).toFixed(2),O=(S/2).toFixed(2);A={calculatorName:"Conduit Bending - 3-Point Saddle",inputs:{obstacleHeight:`${p.obstacleHeight} inches`,obstacleWidth:p.obstacleWidth?`${p.obstacleWidth} inches`:`${S} inches (Auto: 4x height)`},results:{centerBend:"45",outerBends:"22.5",distanceToOuter:`${O} inches`,shrinkage:`${F} inches`},additionalInfo:{bendingSequence:`1) Mark center of obstacle on conduit 2) Make 45 center bend at mark 3) Measure ${O}" from center each direction 4) Make 22.5 bends on each side (opposite direction)`,tip:"Center bend goes up, outer bends go down"},necReferences:["NEC Article 358 - Electrical Metallic Tubing (EMT)","NEC Article 344 - Rigid Metal Conduit (RMC)","Most common for going over pipes or other conduits","Mark all three bend locations before starting"]}}else if(a==="fourpoint"){if(!j.obstacleHeight||!j.obstacleWidth){alert("Please enter both obstacle height and width for 4-Point Saddle before exporting");return}const C=parseFloat(j.obstacleHeight),S=parseFloat(j.obstacleWidth),F=(S/2).toFixed(2),O=(S/4).toFixed(2),B=(C*.15).toFixed(2);A={calculatorName:"Conduit Bending - 4-Point Saddle",inputs:{obstacleHeight:`${j.obstacleHeight} inches`,obstacleWidth:`${j.obstacleWidth} inches`},results:{allBends:"22.5",outerDistance:`${F} inches`,innerSpacing:`${O} inches`,shrinkage:`${B} inches`},additionalInfo:{bendingSequence:`1) Mark center of obstacle on conduit 2) Measure ${F}" from center (outer bends) 3) Measure ${O}" from center (inner bends) 4) Make all four 22.5 bends: outer up, inner down`,tip:"Used for larger obstacles where 3-point saddle will not work"},necReferences:["NEC Article 358 - Electrical Metallic Tubing (EMT)","NEC Article 344 - Rigid Metal Conduit (RMC)","Creates a flatter top for better clearance over wide obstacles"]}}Er(A)}}));const P={offset:n.jsx(bb,{offsetData:l,setOffsetData:d,colors:x}),stubup:n.jsx(wb,{stubUpData:u,setStubUpData:m,colors:x}),saddle:n.jsx(Sb,{saddleData:p,setSaddleData:y,colors:x}),fourpoint:n.jsx(jb,{fourPointData:j,setFourPointData:_,colors:x})};return n.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto"},children:[n.jsx("div",{style:{background:x.cardBg,border:`1px solid ${x.cardBorder}`,borderRadius:"12px",padding:"1rem",marginBottom:"1rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[{id:"offset",label:"Offset Bends"},{id:"stubup",label:"90 Stub-Up"},{id:"saddle",label:"3-Point Saddle"},{id:"fourpoint",label:"4-Point Saddle"}].map(A=>n.jsx("button",{onClick:()=>s(A.id),style:{flex:"1 1 auto",minWidth:"120px",padding:"0.625rem 1rem",background:a===A.id?"#3b82f6":x.sectionBg,color:a===A.id?"white":x.labelText,border:`1px solid ${a===A.id?"#3b82f6":x.cardBorder}`,borderRadius:"8px",cursor:"pointer",fontSize:"0.875rem",fontWeight:"600",transition:"all 0.2s"},children:A.label},A.id))}),n.jsx("div",{style:{background:x.cardBg,border:`1px solid ${x.cardBorder}`,borderRadius:"12px",padding:"1.5rem",marginBottom:"1rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:P[a]})]})}),Cb=({lumensData:r,setLumensData:t,colors:e})=>{const a={living:10,kitchen:50,bathroom:70,bedroom:10,office:50,workshop:75,garage:50,hallway:5,dining:30,laundry:50},s={living:"Living Room (10 fc)",kitchen:"Kitchen (50 fc)",bathroom:"Bathroom (70 fc)",bedroom:"Bedroom (10 fc)",office:"Office/Study (50 fc)",workshop:"Workshop (75 fc)",garage:"Garage (50 fc)",hallway:"Hallway (5 fc)",dining:"Dining Room (30 fc)",laundry:"Laundry Room (50 fc)"},d=(()=>{if(!r.roomLength||!r.roomWidth)return null;const u=parseFloat(r.roomLength),m=parseFloat(r.roomWidth),p=u*m,y=a[r.roomType],j=y*p;let _=null;if(r.lumensPerFixture){const x=parseFloat(r.lumensPerFixture);_=Math.ceil(j/x)}return{area:p.toFixed(1),footCandles:y,totalLumens:j.toFixed(0),fixturesNeeded:_}})();return n.jsxs("div",{children:[n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"1rem",marginBottom:"1rem"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:e.labelText,marginBottom:"0.5rem"},children:"Room Length (feet)"}),n.jsx("input",{type:"number",value:r.roomLength,onChange:u=>t(m=>({...m,roomLength:u.target.value})),placeholder:"Enter length",style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${e.inputBorder}`,borderRadius:"8px",backgroundColor:e.inputBg,color:e.cardText,boxSizing:"border-box"}})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:e.labelText,marginBottom:"0.5rem"},children:"Room Width (feet)"}),n.jsx("input",{type:"number",value:r.roomWidth,onChange:u=>t(m=>({...m,roomWidth:u.target.value})),placeholder:"Enter width",style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${e.inputBorder}`,borderRadius:"8px",backgroundColor:e.inputBg,color:e.cardText,boxSizing:"border-box"}})]}),n.jsxs("div",{children:[n.jsxs("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:e.labelText,marginBottom:"0.5rem"},children:["Room Type ",n.jsx("br",{}),"  ",n.jsx("br",{})]}),n.jsx("select",{value:r.roomType,onChange:u=>t(m=>({...m,roomType:u.target.value})),style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${e.inputBorder}`,borderRadius:"8px",backgroundColor:e.inputBg,color:e.cardText,boxSizing:"border-box"},children:Object.entries(s).map(([u,m])=>n.jsx("option",{value:u,children:m},u))}),n.jsx("div",{style:{fontSize:"0.75rem",color:e.subtleText,marginTop:"0.25rem"},children:"fc = foot-candles"})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:e.labelText,marginBottom:"0.5rem"},children:"Lumens per Fixture (Optional)"}),n.jsx("input",{type:"number",value:r.lumensPerFixture,onChange:u=>t(m=>({...m,lumensPerFixture:u.target.value})),placeholder:"e.g., 800",style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${e.inputBorder}`,borderRadius:"8px",backgroundColor:e.inputBg,color:e.cardText,boxSizing:"border-box"}}),n.jsx("div",{style:{fontSize:"0.75rem",color:e.subtleText,marginTop:"0.25rem"},children:"To calculate fixture count"})]})]}),d&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{style:{display:"grid",gridTemplateColumns:d.fixturesNeeded?"repeat(3, 1fr)":"repeat(2, 1fr)",gap:"1rem",marginBottom:"1rem"},children:[n.jsxs("div",{style:{background:e.sectionBg,padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:e.labelText,marginBottom:"0.25rem"},children:"Room Area"}),n.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:e.cardText},children:d.area}),n.jsx("div",{style:{fontSize:"0.75rem",color:e.labelText,marginTop:"0.25rem"},children:"sq ft"})]}),n.jsxs("div",{style:{background:"#dbeafe",padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:"#1e40af",marginBottom:"0.25rem"},children:"Total Lumens Needed"}),n.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:"#1e40af"},children:d.totalLumens}),n.jsx("div",{style:{fontSize:"0.75rem",color:"#1e40af",marginTop:"0.25rem"},children:"lumens"})]}),d.fixturesNeeded&&n.jsxs("div",{style:{background:e.sectionBg,padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:e.labelText,marginBottom:"0.25rem"},children:"Fixtures Needed"}),n.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:e.cardText},children:d.fixturesNeeded}),n.jsx("div",{style:{fontSize:"0.75rem",color:e.labelText,marginTop:"0.25rem"},children:"fixtures"})]})]}),n.jsx("div",{style:{background:"#d1fae5",border:"1px solid #6ee7b7",borderRadius:"8px",padding:"1rem",marginBottom:"1rem"},children:n.jsxs("div",{style:{display:"flex",alignItems:"start",gap:"0.75rem"},children:[n.jsx(en,{size:20,color:"#059669",style:{flexShrink:0,marginTop:"0.125rem"}}),n.jsxs("div",{style:{fontSize:"0.875rem",color:"#047857",lineHeight:"1.5"},children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"0.5rem"},children:"Lighting Requirements"}),n.jsxs("div",{children:["Recommended level: ",d.footCandles," foot-candles"]}),d.fixturesNeeded&&n.jsxs("div",{children:["Using ",r.lumensPerFixture," lumens per fixture"]})]})]})}),n.jsxs("div",{style:{background:e.sectionBg,padding:"1rem",borderRadius:"8px",border:`1px solid ${e.cardBorder}`,fontSize:"0.875rem",color:e.labelText},children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"0.5rem",color:e.cardText},children:"Lighting Tips:"}),n.jsxs("ul",{style:{margin:0,paddingLeft:"1.25rem"},children:[n.jsx("li",{children:"LED bulbs typically produce 60-100 lumens per watt"}),n.jsx("li",{children:"Layer lighting: combine ambient, task, and accent lighting"}),n.jsx("li",{children:"Dark wall colors absorb light; increase lumens by 10-20%"})]})]})]})]})},Tb=({spacingData:r,setSpacingData:t,colors:e})=>{const a={recessed:1.5,pendant:1,track:2,surface:1.5},l=(()=>{if(!r.roomLength||!r.roomWidth)return null;const d=parseFloat(r.roomLength),u=parseFloat(r.roomWidth),m=parseFloat(r.ceilingHeight),p=a[r.fixtureType],y=m*p,j=r.fixtureType==="recessed"?6:y*.8,_=Math.max(2,Math.round(d/j)),x=Math.max(2,Math.round(u/j)),P=_*x,A=d/_,C=u/x,S=A/2,F=C/2;return{maxSpacing:y.toFixed(1),fixturesLength:_,fixturesWidth:x,totalFixtures:P,actualSpacingLength:A.toFixed(1),actualSpacingWidth:C.toFixed(1),wallOffsetLength:S.toFixed(1),wallOffsetWidth:F.toFixed(1)}})();return n.jsxs("div",{children:[n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"1rem",marginBottom:"1rem"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:e.labelText,marginBottom:"0.5rem"},children:"Room Length (feet)"}),n.jsx("input",{type:"number",value:r.roomLength,onChange:d=>t(u=>({...u,roomLength:d.target.value})),placeholder:"Enter length",style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${e.inputBorder}`,borderRadius:"8px",backgroundColor:e.inputBg,color:e.cardText,boxSizing:"border-box"}})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:e.labelText,marginBottom:"0.5rem"},children:"Room Width (feet)"}),n.jsx("input",{type:"number",value:r.roomWidth,onChange:d=>t(u=>({...u,roomWidth:d.target.value})),placeholder:"Enter width",style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${e.inputBorder}`,borderRadius:"8px",backgroundColor:e.inputBg,color:e.cardText,boxSizing:"border-box"}})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:e.labelText,marginBottom:"0.5rem"},children:"Ceiling Height (feet)"}),n.jsx("input",{type:"number",value:r.ceilingHeight,onChange:d=>t(u=>({...u,ceilingHeight:d.target.value})),placeholder:"8",style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${e.inputBorder}`,borderRadius:"8px",backgroundColor:e.inputBg,color:e.cardText,boxSizing:"border-box"}})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:e.labelText,marginBottom:"0.5rem"},children:"Fixture Type"}),n.jsxs("select",{value:r.fixtureType,onChange:d=>t(u=>({...u,fixtureType:d.target.value})),style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${e.inputBorder}`,borderRadius:"8px",backgroundColor:e.inputBg,color:e.cardText,boxSizing:"border-box"},children:[n.jsx("option",{value:"recessed",children:"Recessed Can (1.5:1 ratio)"}),n.jsx("option",{value:"pendant",children:"Pendant (1:1 ratio)"}),n.jsx("option",{value:"track",children:"Track Light (2:1 ratio)"}),n.jsx("option",{value:"surface",children:"Surface Mount (1.5:1 ratio)"})]})]})]}),l&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"1rem",marginBottom:"1rem"},children:[n.jsxs("div",{style:{background:e.sectionBg,padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:e.labelText,marginBottom:"0.25rem"},children:"Max Spacing"}),n.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:e.cardText},children:l.maxSpacing}),n.jsx("div",{style:{fontSize:"0.75rem",color:e.labelText,marginTop:"0.25rem"},children:"feet"})]}),n.jsxs("div",{style:{background:"#dbeafe",padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:"#1e40af",marginBottom:"0.25rem"},children:"Total Fixtures"}),n.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:"#1e40af"},children:l.totalFixtures}),n.jsx("div",{style:{fontSize:"0.75rem",color:"#1e40af",marginTop:"0.25rem"},children:"fixtures"})]}),n.jsxs("div",{style:{background:e.sectionBg,padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:e.labelText,marginBottom:"0.25rem"},children:"Layout"}),n.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:e.cardText},children:[l.fixturesLength,"",l.fixturesWidth]}),n.jsx("div",{style:{fontSize:"0.75rem",color:e.labelText,marginTop:"0.25rem"},children:"grid"})]})]}),n.jsx("div",{style:{background:"#d1fae5",border:"1px solid #6ee7b7",borderRadius:"8px",padding:"1rem",marginBottom:"1rem"},children:n.jsxs("div",{style:{display:"flex",alignItems:"start",gap:"0.75rem"},children:[n.jsx(en,{size:20,color:"#059669",style:{flexShrink:0,marginTop:"0.125rem"}}),n.jsxs("div",{style:{fontSize:"0.875rem",color:"#047857",lineHeight:"1.5"},children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"0.5rem"},children:"Spacing Results"}),n.jsxs("div",{children:["Length spacing: ",l.actualSpacingLength," ft"]}),n.jsxs("div",{children:["Width spacing: ",l.actualSpacingWidth," ft"]}),n.jsxs("div",{style:{marginTop:"0.5rem",fontSize:"0.8125rem"},children:["Start ",l.wallOffsetLength," ft from walls (length) and ",l.wallOffsetWidth," ft from walls (width)"]})]})]})}),n.jsxs("div",{style:{background:e.sectionBg,padding:"1rem",borderRadius:"8px",border:`1px solid ${e.cardBorder}`,fontSize:"0.875rem",color:e.labelText},children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"0.5rem",color:e.cardText},children:"Spacing Guidelines:"}),n.jsxs("ul",{style:{margin:0,paddingLeft:"1.25rem"},children:[n.jsx("li",{children:"Industry standard: 4-6 feet spacing for recessed cans"}),n.jsx("li",{children:"Spacing ratio = max distance between fixtures  ceiling height"}),n.jsx("li",{children:"Space fixtures evenly with proper wall offsets for uniform coverage"})]})]})]})]})},Ab=({wattsData:r,setWattsData:t,colors:e})=>{const a={office:1,retail:1.5,warehouse:.5,school:1.2,hospital:1,hotel:1,restaurant:1.3,residential:1},s={office:"Office Building (1.0 W/sq ft)",retail:"Retail Store (1.5 W/sq ft)",warehouse:"Warehouse (0.5 W/sq ft)",school:"School (1.2 W/sq ft)",hospital:"Hospital (1.0 W/sq ft)",hotel:"Hotel (1.0 W/sq ft)",restaurant:"Restaurant (1.3 W/sq ft)",residential:"Residential (1.0 W/sq ft)"},d=(()=>{if(!r.area)return null;const u=parseFloat(r.area),m=a[r.buildingType],p=u*m,y=p,j=y/120,_=Math.ceil(j/16);return{wattsPerSqFt:m,totalWatts:p.toFixed(0),totalVA:y.toFixed(0),amperage:j.toFixed(1),circuits:_}})();return n.jsxs("div",{children:[n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:e.labelText,marginBottom:"0.5rem"},children:"Area (square feet)"}),n.jsx("input",{type:"number",value:r.area,onChange:u=>t(m=>({...m,area:u.target.value})),placeholder:"Enter area",style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${e.inputBorder}`,borderRadius:"8px",backgroundColor:e.inputBg,color:e.cardText,boxSizing:"border-box"}})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:e.labelText,marginBottom:"0.5rem"},children:"Building Type"}),n.jsx("select",{value:r.buildingType,onChange:u=>t(m=>({...m,buildingType:u.target.value})),style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${e.inputBorder}`,borderRadius:"8px",backgroundColor:e.inputBg,color:e.cardText,boxSizing:"border-box"},children:Object.entries(s).map(([u,m])=>n.jsx("option",{value:u,children:m},u))}),n.jsx("div",{style:{fontSize:"0.75rem",color:e.subtleText,marginTop:"0.25rem"},children:"Per NEC Table 220.12"})]})]}),d&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"1rem",marginBottom:"1rem"},children:[n.jsxs("div",{style:{background:e.sectionBg,padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:e.labelText,marginBottom:"0.25rem"},children:"Unit Load"}),n.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:e.cardText},children:d.wattsPerSqFt}),n.jsx("div",{style:{fontSize:"0.75rem",color:e.labelText,marginTop:"0.25rem"},children:"W/sq ft"})]}),n.jsxs("div",{style:{background:"#dbeafe",padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:"#1e40af",marginBottom:"0.25rem"},children:"Total Load"}),n.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:"#1e40af"},children:d.totalWatts}),n.jsx("div",{style:{fontSize:"0.75rem",color:"#1e40af",marginTop:"0.25rem"},children:"watts"})]}),n.jsxs("div",{style:{background:e.sectionBg,padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:e.labelText,marginBottom:"0.25rem"},children:"20A Circuits"}),n.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:e.cardText},children:d.circuits}),n.jsx("div",{style:{fontSize:"0.75rem",color:e.labelText,marginTop:"0.25rem"},children:"needed"})]})]}),n.jsx("div",{style:{background:"#d1fae5",border:"1px solid #6ee7b7",borderRadius:"8px",padding:"1rem",marginBottom:"1rem"},children:n.jsxs("div",{style:{display:"flex",alignItems:"start",gap:"0.75rem"},children:[n.jsx(en,{size:20,color:"#059669",style:{flexShrink:0,marginTop:"0.125rem"}}),n.jsxs("div",{style:{fontSize:"0.875rem",color:"#047857",lineHeight:"1.5"},children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"0.5rem"},children:"Lighting Load Calculation"}),n.jsxs("div",{children:["Total VA: ",d.totalVA," VA"]}),n.jsxs("div",{children:["Current @ 120V: ",d.amperage," A"]})]})]})}),n.jsxs("div",{style:{background:e.sectionBg,padding:"1rem",borderRadius:"8px",border:`1px solid ${e.cardBorder}`,fontSize:"0.875rem",color:e.labelText},children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"0.5rem",color:e.cardText},children:"NEC Requirements:"}),n.jsxs("ul",{style:{margin:0,paddingLeft:"1.25rem"},children:[n.jsx("li",{children:"NEC 220.12 specifies unit lighting loads by occupancy"}),n.jsx("li",{children:"Calculate using building area, not just lit area"}),n.jsx("li",{children:"Continuous loads require 125% conductor/OCPD sizing"})]})]})]})]})},_b=ve.forwardRef(({isDarkMode:r=!1,onBack:t},e)=>{const[a,s]=ve.useState("lumens"),[l,d]=ve.useState({roomLength:"",roomWidth:"",roomType:"living",lumensPerFixture:""}),[u,m]=ve.useState({roomLength:"",roomWidth:"",ceilingHeight:"8",fixtureType:"recessed"}),[p,y]=ve.useState({area:"",buildingType:"office"}),j={cardBg:r?"#374151":"#ffffff",cardBorder:r?"#4b5563":"#e5e7eb",cardText:r?"#f9fafb":"#111827",labelText:r?"#d1d5db":"#374151",inputBg:r?"#1f2937":"#ffffff",inputBorder:r?"#4b5563":"#d1d5db",sectionBg:r?"#1f2937":"#f9fafb",subtleText:r?"#9ca3af":"#6b7280"};ve.useImperativeHandle(e,()=>({exportPDF:()=>{let x;if(a==="lumens"){if(!l.roomLength||!l.roomWidth){alert("Please enter room dimensions before exporting");return}const P={living:"Living Room",kitchen:"Kitchen",bathroom:"Bathroom",bedroom:"Bedroom",office:"Office/Study",workshop:"Workshop",garage:"Garage",hallway:"Hallway",dining:"Dining Room",laundry:"Laundry Room"},A={living:10,kitchen:50,bathroom:70,bedroom:10,office:50,workshop:75,garage:50,hallway:5,dining:30,laundry:50},C=parseFloat(l.roomLength),S=parseFloat(l.roomWidth),F=(C*S).toFixed(1),O=A[l.roomType],B=(O*F).toFixed(0),H={roomLength:`${l.roomLength} feet`,roomWidth:`${l.roomWidth} feet`,roomType:`${P[l.roomType]} (${O} fc)`},ee={roomArea:`${F} sq ft`,totalLumensNeeded:`${B} lumens`};if(l.lumensPerFixture){const ce=parseFloat(l.lumensPerFixture),W=Math.ceil(parseFloat(B)/ce);H.lumensPerFixture=`${l.lumensPerFixture} lumens`,ee.fixturesNeeded=`${W} fixtures`}x={calculatorName:"Lighting Calculations - Room Lumens",inputs:H,results:ee,additionalInfo:{calculation:`Area (${F} sq ft)  Recommended Level (${O} foot-candles) = ${B} lumens`,tip1:"LED bulbs typically produce 60-100 lumens per watt",tip2:"Layer lighting: combine ambient, task, and accent lighting",tip3:"Dark wall colors absorb light; increase lumens by 10-20%"},necReferences:["IES (Illuminating Engineering Society) recommended light levels","Foot-candles measure illuminance on a surface","1 foot-candle = 1 lumen per square foot"]}}else if(a==="spacing"){if(!u.roomLength||!u.roomWidth){alert("Please enter room dimensions before exporting");return}const P={recessed:"Recessed Can (1.5:1 ratio)",pendant:"Pendant (1:1 ratio)",track:"Track Light (2:1 ratio)",surface:"Surface Mount (1.5:1 ratio)"},A={recessed:1.5,pendant:1,track:2,surface:1.5},C=parseFloat(u.roomLength),S=parseFloat(u.roomWidth),F=parseFloat(u.ceilingHeight),O=A[u.fixtureType],B=(F*O).toFixed(1),H=u.fixtureType==="recessed"?6:parseFloat(B)*.8,ee=Math.max(2,Math.round(C/H)),ce=Math.max(2,Math.round(S/H)),W=ee*ce,I=(C/ee).toFixed(1),J=(S/ce).toFixed(1),D=(parseFloat(I)/2).toFixed(1),k=(parseFloat(J)/2).toFixed(1);x={calculatorName:"Lighting Calculations - Fixture Spacing",inputs:{roomLength:`${u.roomLength} feet`,roomWidth:`${u.roomWidth} feet`,ceilingHeight:`${u.ceilingHeight} feet`,fixtureType:P[u.fixtureType]},results:{maximumSpacing:`${B} feet`,totalFixtures:`${W} fixtures`,layoutGrid:`${ee}  ${ce}`,lengthSpacing:`${I} feet`,widthSpacing:`${J} feet`},additionalInfo:{wallOffsets:`Start ${D} ft from walls (length) and ${k} ft from walls (width)`,spacingFormula:`Maximum spacing = Ceiling height (${F} ft)  Spacing ratio (${O}) = ${B} ft`,tip1:"Industry standard: 4-6 feet spacing for recessed cans",tip2:"Space fixtures evenly with proper wall offsets for uniform coverage"},necReferences:["Spacing ratio guidelines from IES Lighting Handbook","Recessed fixtures: 1.5:1 ratio (spacing to mounting height)","Pendant fixtures: 1:1 ratio for focused task lighting","Track lights: 2:1 ratio for accent lighting"]}}else if(a==="watts"){if(!p.area){alert("Please enter area before exporting");return}const P={office:"Office Building",retail:"Retail Store",warehouse:"Warehouse",school:"School",hospital:"Hospital",hotel:"Hotel",restaurant:"Restaurant",residential:"Residential"},A={office:1,retail:1.5,warehouse:.5,school:1.2,hospital:1,hotel:1,restaurant:1.3,residential:1},C=parseFloat(p.area),S=A[p.buildingType],F=(C*S).toFixed(0),O=F,B=(parseFloat(O)/120).toFixed(1),H=Math.ceil(parseFloat(B)/16);x={calculatorName:"Lighting Calculations - Watts per Square Foot",inputs:{area:`${p.area} square feet`,buildingType:`${P[p.buildingType]} (${S} W/sq ft)`},results:{unitLoad:`${S} W/sq ft`,totalLoad:`${F} watts`,totalVA:`${O} VA`,currentAt120V:`${B} Amps`,requiredCircuits:`${H}  20A circuits`},additionalInfo:{calculation:`Area (${C} sq ft)  Unit Load (${S} W/sq ft) = ${F} watts`,circuitCalculation:`Total current (${B} A)  16A (80% of 20A) = ${H} circuits needed`,note:"Continuous loads require 125% conductor/OCPD sizing"},necReferences:["NEC Table 220.12 - General Lighting Loads by Occupancy","NEC 210.19(A)(1) - Branch Circuit Ampacity","NEC 210.20(A) - Continuous and Noncontinuous Loads","Calculate using building area, not just lit area"]}}Er(x)}}));const _={lumens:n.jsx(Cb,{lumensData:l,setLumensData:d,colors:j}),spacing:n.jsx(Tb,{spacingData:u,setSpacingData:m,colors:j}),watts:n.jsx(Ab,{wattsData:p,setWattsData:y,colors:j})};return n.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto"},children:[n.jsx("div",{style:{background:j.cardBg,border:`1px solid ${j.cardBorder}`,borderRadius:"12px",padding:"1rem",marginBottom:"1rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[{id:"lumens",label:"Room Lumens"},{id:"spacing",label:"Fixture Spacing"},{id:"watts",label:"Watts/Sq Ft"}].map(x=>n.jsx("button",{onClick:()=>s(x.id),style:{flex:"1 1 auto",minWidth:"120px",padding:"0.625rem 1rem",background:a===x.id?"#3b82f6":j.sectionBg,color:a===x.id?"white":j.labelText,border:`1px solid ${a===x.id?"#3b82f6":j.cardBorder}`,borderRadius:"8px",cursor:"pointer",fontSize:"0.875rem",fontWeight:"600",transition:"all 0.2s"},children:x.label},x.id))}),n.jsx("div",{style:{background:j.cardBg,border:`1px solid ${j.cardBorder}`,borderRadius:"12px",padding:"1.5rem",marginBottom:"1rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:_[a]})]})}),Bb=({generalData:r,setGeneralData:t,colors:e})=>{const s=(()=>{if(!r.roomLength||!r.roomWidth)return null;const l=parseFloat(r.roomLength),d=parseFloat(r.roomWidth),u=(l+d)*2,m=Math.max(2,Math.ceil(u/12));let p=0;if(r.hasCounters){const x=parseFloat(r.counterLength)||0;p=Math.max(2,Math.ceil(x/2))}const y=m+p,j=Math.ceil(y/8),_=Math.ceil(y/10);return{perimeter:u.toFixed(1),wallReceptacles:m,counterReceptacles:p,totalReceptacles:y,circuits15A:j,circuits20A:_}})();return n.jsxs("div",{children:[n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"1rem",marginBottom:"1rem"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:e.labelText,marginBottom:"0.5rem"},children:"Room Length (feet)"}),n.jsx("input",{type:"number",value:r.roomLength,onChange:l=>t(d=>({...d,roomLength:l.target.value})),placeholder:"Enter length",style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${e.inputBorder}`,borderRadius:"8px",backgroundColor:e.inputBg,color:e.cardText,boxSizing:"border-box"}})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:e.labelText,marginBottom:"0.5rem"},children:"Room Width (feet)"}),n.jsx("input",{type:"number",value:r.roomWidth,onChange:l=>t(d=>({...d,roomWidth:l.target.value})),placeholder:"Enter width",style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${e.inputBorder}`,borderRadius:"8px",backgroundColor:e.inputBg,color:e.cardText,boxSizing:"border-box"}})]}),n.jsx("div",{style:{gridColumn:"1 / -1"},children:n.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.875rem",fontWeight:"500",color:e.labelText,cursor:"pointer"},children:[n.jsx("input",{type:"checkbox",checked:r.hasCounters,onChange:l=>t(d=>({...d,hasCounters:l.target.checked})),style:{width:"18px",height:"18px",cursor:"pointer"}}),"Room has countertops/islands"]})}),r.hasCounters&&n.jsxs("div",{style:{gridColumn:"1 / -1"},children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:e.labelText,marginBottom:"0.5rem"},children:"Counter Length (feet)"}),n.jsx("input",{type:"number",value:r.counterLength,onChange:l=>t(d=>({...d,counterLength:l.target.value})),placeholder:"Enter counter length",style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${e.inputBorder}`,borderRadius:"8px",backgroundColor:e.inputBg,color:e.cardText,boxSizing:"border-box"}}),n.jsx("div",{style:{fontSize:"0.75rem",color:e.subtleText,marginTop:"0.25rem"},children:"For kitchens/break rooms"})]})]}),s&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{style:{display:"grid",gridTemplateColumns:s.counterReceptacles>0?"repeat(3, 1fr)":"repeat(2, 1fr)",gap:"1rem",marginBottom:"1rem"},children:[n.jsxs("div",{style:{background:"#dbeafe",padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:"#1e40af",marginBottom:"0.25rem"},children:"Wall Receptacles"}),n.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:"#1e40af"},children:s.wallReceptacles})]}),s.counterReceptacles>0&&n.jsxs("div",{style:{background:e.sectionBg,padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:e.labelText,marginBottom:"0.25rem"},children:"Counter Receptacles"}),n.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:e.cardText},children:s.counterReceptacles})]}),n.jsxs("div",{style:{background:e.sectionBg,padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:e.labelText,marginBottom:"0.25rem"},children:"Total Needed"}),n.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:e.cardText},children:s.totalReceptacles})]})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"1rem",marginBottom:"1rem"},children:[n.jsxs("div",{style:{background:e.sectionBg,padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:e.labelText,marginBottom:"0.25rem"},children:"15A Circuits"}),n.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:e.cardText},children:s.circuits15A})]}),n.jsxs("div",{style:{background:e.sectionBg,padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:e.labelText,marginBottom:"0.25rem"},children:"20A Circuits"}),n.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:e.cardText},children:s.circuits20A})]})]}),n.jsx("div",{style:{background:"#d1fae5",border:"1px solid #6ee7b7",borderRadius:"8px",padding:"1rem",marginBottom:"1rem"},children:n.jsxs("div",{style:{display:"flex",alignItems:"start",gap:"0.75rem"},children:[n.jsx(en,{size:20,color:"#059669",style:{flexShrink:0,marginTop:"0.125rem"}}),n.jsxs("div",{style:{fontSize:"0.875rem",color:"#047857",lineHeight:"1.5"},children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"0.5rem"},children:"NEC Requirements Met"}),n.jsxs("div",{children:["Room perimeter: ",s.perimeter," ft"]}),n.jsx("div",{children:"Spacing: One receptacle every 12 feet of wall space"}),s.counterReceptacles>0&&n.jsx("div",{children:"Counter spacing: One receptacle every 2 feet"})]})]})}),n.jsxs("div",{style:{background:e.sectionBg,padding:"1rem",borderRadius:"8px",border:`1px solid ${e.cardBorder}`,fontSize:"0.875rem",color:e.labelText},children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"0.5rem",color:e.cardText},children:"NEC 210.52 Requirements:"}),n.jsxs("ul",{style:{margin:0,paddingLeft:"1.25rem"},children:[n.jsx("li",{children:"Wall: Receptacle within 6 ft of doorway, then every 12 ft"}),n.jsx("li",{children:"No point along wall more than 6 ft from receptacle"}),n.jsx("li",{children:"Counters: One receptacle every 24 inches of counter space"}),n.jsx("li",{children:"Kitchen requires min. 2 small appliance circuits (20A)"})]})]})]})]})},Nb=({kitchenData:r,setKitchenData:t,colors:e})=>{const s=(()=>{if(!r.counterLength)return null;const l=parseFloat(r.counterLength),d=parseFloat(r.islandLength)||0,u=Math.max(2,Math.ceil(l/2)),m=d>=2?Math.max(1,Math.ceil(d/4)):0,p=2,y=u+m;let j=0;return r.dishwasher&&j++,r.disposer&&j++,r.microwave&&j++,r.range&&j++,{counterReceptacles:u,islandReceptacles:m,totalReceptacles:u+m,smallApplianceCircuits:p,dedicatedCircuits:j,gfciRequired:y}})();return n.jsxs("div",{children:[n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"1rem",marginBottom:"1rem"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:e.labelText,marginBottom:"0.5rem"},children:"Counter Length (feet)"}),n.jsx("input",{type:"number",value:r.counterLength,onChange:l=>t(d=>({...d,counterLength:l.target.value})),placeholder:"Enter counter length",style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${e.inputBorder}`,borderRadius:"8px",backgroundColor:e.inputBg,color:e.cardText,boxSizing:"border-box"}})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:e.labelText,marginBottom:"0.5rem"},children:"Island Length (feet) - Optional"}),n.jsx("input",{type:"number",value:r.islandLength,onChange:l=>t(d=>({...d,islandLength:l.target.value})),placeholder:"0",style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${e.inputBorder}`,borderRadius:"8px",backgroundColor:e.inputBg,color:e.cardText,boxSizing:"border-box"}}),n.jsx("div",{style:{fontSize:"0.75rem",color:e.subtleText,marginTop:"0.25rem"},children:'Required if island  24" long  12" wide'})]}),n.jsxs("div",{style:{background:e.sectionBg,padding:"1rem",borderRadius:"8px",border:`1px solid ${e.cardBorder}`},children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"0.75rem",color:e.cardText,fontSize:"0.875rem"},children:"Dedicated Appliance Circuits:"}),n.jsxs("div",{style:{display:"grid",gap:"0.5rem"},children:[n.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.875rem",color:e.labelText,cursor:"pointer"},children:[n.jsx("input",{type:"checkbox",checked:r.dishwasher,onChange:l=>t(d=>({...d,dishwasher:l.target.checked})),style:{width:"18px",height:"18px",cursor:"pointer"}}),"Dishwasher (dedicated 15A/20A)"]}),n.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.875rem",color:e.labelText,cursor:"pointer"},children:[n.jsx("input",{type:"checkbox",checked:r.disposer,onChange:l=>t(d=>({...d,disposer:l.target.checked})),style:{width:"18px",height:"18px",cursor:"pointer"}}),"Garbage Disposer (dedicated 15A/20A)"]}),n.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.875rem",color:e.labelText,cursor:"pointer"},children:[n.jsx("input",{type:"checkbox",checked:r.microwave,onChange:l=>t(d=>({...d,microwave:l.target.checked})),style:{width:"18px",height:"18px",cursor:"pointer"}}),"Microwave (dedicated 20A)"]}),n.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.875rem",color:e.labelText,cursor:"pointer"},children:[n.jsx("input",{type:"checkbox",checked:r.range,onChange:l=>t(d=>({...d,range:l.target.checked})),style:{width:"18px",height:"18px",cursor:"pointer"}}),"Range/Cooktop (240V, 40-50A)"]})]})]})]}),s&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"1rem",marginBottom:"1rem"},children:[n.jsxs("div",{style:{background:"#dbeafe",padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:"#1e40af",marginBottom:"0.25rem"},children:"Counter Receptacles"}),n.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:"#1e40af"},children:s.counterReceptacles})]}),s.islandReceptacles>0&&n.jsxs("div",{style:{background:e.sectionBg,padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:e.labelText,marginBottom:"0.25rem"},children:"Island Receptacles"}),n.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:e.cardText},children:s.islandReceptacles})]}),s.islandReceptacles===0&&n.jsxs("div",{style:{background:e.sectionBg,padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:e.labelText,marginBottom:"0.25rem"},children:"GFCI Required"}),n.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:e.cardText},children:s.gfciRequired})]})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"1rem",marginBottom:"1rem"},children:[n.jsxs("div",{style:{background:e.sectionBg,padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:e.labelText,marginBottom:"0.25rem"},children:"Small Appliance Circuits"}),n.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:e.cardText},children:s.smallApplianceCircuits}),n.jsx("div",{style:{fontSize:"0.65rem",color:e.subtleText,marginTop:"0.25rem"},children:"20A each"})]}),n.jsxs("div",{style:{background:e.sectionBg,padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:e.labelText,marginBottom:"0.25rem"},children:"Dedicated Circuits"}),n.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:e.cardText},children:s.dedicatedCircuits}),n.jsx("div",{style:{fontSize:"0.65rem",color:e.subtleText,marginTop:"0.25rem"},children:"for appliances"})]})]}),n.jsx("div",{style:{background:"#fef3c7",border:"1px solid #fbbf24",borderRadius:"8px",padding:"1rem",marginBottom:"1rem"},children:n.jsxs("div",{style:{display:"flex",alignItems:"start",gap:"0.75rem"},children:[n.jsx(Du,{size:20,color:"#d97706",style:{flexShrink:0,marginTop:"0.125rem"}}),n.jsxs("div",{style:{fontSize:"0.875rem",color:"#92400e",lineHeight:"1.5"},children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"0.5rem"},children:"GFCI Protection Required"}),n.jsxs("div",{children:["All ",s.gfciRequired," countertop receptacles require GFCI protection per NEC 210.8(A)"]})]})]})}),n.jsxs("div",{style:{background:e.sectionBg,padding:"1rem",borderRadius:"8px",border:`1px solid ${e.cardBorder}`,fontSize:"0.875rem",color:e.labelText},children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"0.5rem",color:e.cardText},children:"Kitchen Requirements:"}),n.jsxs("ul",{style:{margin:0,paddingLeft:"1.25rem"},children:[n.jsx("li",{children:"Min. 2 small appliance circuits (20A) for countertop receptacles"}),n.jsx("li",{children:"Counter receptacles: One every 24 inches, all GFCI protected"}),n.jsx("li",{children:'Island receptacles required if island  24" long  12" wide'}),n.jsx("li",{children:"Dishwasher, disposer typically need dedicated 15A or 20A circuits"})]})]})]})]})},Lb=({bathroomData:r,setBathroomData:t,colors:e})=>{const s=(()=>{const l=parseInt(r.numBasins)||1,d=r.hasTub;let u=Math.max(1,l);d&&(u=Math.max(u,2));const m=r.sharedCircuit?1:l>=2?2:1;return{receptacles:u,dedicatedCircuits:m,gfciRequired:u,numBasins:l}})();return n.jsxs("div",{children:[n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"1rem",marginBottom:"1rem"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:e.labelText,marginBottom:"0.5rem"},children:"Number of Sinks/Basins"}),n.jsxs("select",{value:r.numBasins,onChange:l=>t(d=>({...d,numBasins:l.target.value})),style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${e.inputBorder}`,borderRadius:"8px",backgroundColor:e.inputBg,color:e.cardText,boxSizing:"border-box"},children:[n.jsx("option",{value:"1",children:"1 Basin"}),n.jsx("option",{value:"2",children:"2 Basins (Double Vanity)"}),n.jsx("option",{value:"3",children:"3+ Basins"})]})]}),n.jsx("div",{children:n.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.875rem",fontWeight:"500",color:e.labelText,cursor:"pointer"},children:[n.jsx("input",{type:"checkbox",checked:r.hasTub,onChange:l=>t(d=>({...d,hasTub:l.target.checked})),style:{width:"18px",height:"18px",cursor:"pointer"}}),"Has Bathtub/Shower Area"]})}),n.jsxs("div",{children:[n.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.875rem",fontWeight:"500",color:e.labelText,cursor:"pointer"},children:[n.jsx("input",{type:"checkbox",checked:r.sharedCircuit,onChange:l=>t(d=>({...d,sharedCircuit:l.target.checked})),style:{width:"18px",height:"18px",cursor:"pointer"}}),"Share circuit with other bathrooms"]}),n.jsx("div",{style:{fontSize:"0.75rem",color:e.subtleText,marginTop:"0.25rem",marginLeft:"1.625rem"},children:"One 20A circuit can serve multiple bathrooms if only serving receptacles"})]})]}),s&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"1rem",marginBottom:"1rem"},children:[n.jsxs("div",{style:{background:"#dbeafe",padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:"#1e40af",marginBottom:"0.25rem"},children:"Receptacles Needed"}),n.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:"#1e40af"},children:s.receptacles})]}),n.jsxs("div",{style:{background:e.sectionBg,padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:e.labelText,marginBottom:"0.25rem"},children:"20A Circuits"}),n.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:e.cardText},children:s.dedicatedCircuits})]})]}),n.jsx("div",{style:{background:"#fef3c7",border:"1px solid #fbbf24",borderRadius:"8px",padding:"1rem",marginBottom:"1rem"},children:n.jsxs("div",{style:{display:"flex",alignItems:"start",gap:"0.75rem"},children:[n.jsx(Du,{size:20,color:"#d97706",style:{flexShrink:0,marginTop:"0.125rem"}}),n.jsxs("div",{style:{fontSize:"0.875rem",color:"#92400e",lineHeight:"1.5"},children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"0.5rem"},children:"GFCI Protection Required"}),n.jsxs("div",{children:["All ",s.gfciRequired," bathroom receptacles require GFCI protection per NEC 210.8(A)"]})]})]})}),n.jsx("div",{style:{background:"#d1fae5",border:"1px solid #6ee7b7",borderRadius:"8px",padding:"1rem",marginBottom:"1rem"},children:n.jsxs("div",{style:{display:"flex",alignItems:"start",gap:"0.75rem"},children:[n.jsx(en,{size:20,color:"#059669",style:{flexShrink:0,marginTop:"0.125rem"}}),n.jsxs("div",{style:{fontSize:"0.875rem",color:"#047857",lineHeight:"1.5"},children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"0.5rem"},children:"Installation Guidelines"}),n.jsx("div",{children:" At least one receptacle within 3 feet of each basin"}),n.jsx("div",{children:" Receptacles must be readily accessible (not behind toilet)"}),n.jsx("div",{children:" Install at least 12 inches above countertop"})]})]})}),n.jsxs("div",{style:{background:e.sectionBg,padding:"1rem",borderRadius:"8px",border:`1px solid ${e.cardBorder}`,fontSize:"0.875rem",color:e.labelText},children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"0.5rem",color:e.cardText},children:"NEC Bathroom Requirements:"}),n.jsxs("ul",{style:{margin:0,paddingLeft:"1.25rem"},children:[n.jsx("li",{children:"NEC 210.52(D): Min. 1 receptacle within 3 ft of basin"}),n.jsx("li",{children:"NEC 210.11(C)(3): Min. 1 dedicated 20A circuit for bathroom receptacles"}),n.jsx("li",{children:"NEC 210.8(A): All bathroom receptacles require GFCI protection"}),n.jsx("li",{children:"One 20A circuit can serve receptacles in multiple bathrooms"})]})]})]})]})},Rb=ve.forwardRef(({isDarkMode:r=!1,onBack:t},e)=>{const[a,s]=ve.useState("general"),[l,d]=ve.useState({roomLength:"",roomWidth:"",hasCounters:!1,counterLength:""}),[u,m]=ve.useState({counterLength:"",islandLength:"",dishwasher:!1,disposer:!1,microwave:!1,range:!1}),[p,y]=ve.useState({numBasins:"1",hasTub:!1,sharedCircuit:!1}),j={cardBg:r?"#374151":"#ffffff",cardBorder:r?"#4b5563":"#e5e7eb",cardText:r?"#f9fafb":"#111827",labelText:r?"#d1d5db":"#374151",inputBg:r?"#1f2937":"#ffffff",inputBorder:r?"#4b5563":"#d1d5db",sectionBg:r?"#1f2937":"#f9fafb",subtleText:r?"#9ca3af":"#6b7280"};ve.useImperativeHandle(e,()=>({exportPDF:()=>{let x;if(a==="general"){if(!l.roomLength||!l.roomWidth){alert("Please enter room dimensions before exporting");return}const P=parseFloat(l.roomLength),A=parseFloat(l.roomWidth),C=((P+A)*2).toFixed(1),S=Math.max(2,Math.ceil(C/12));let F=0;if(l.hasCounters&&l.counterLength){const W=parseFloat(l.counterLength);F=Math.max(2,Math.ceil(W/2))}const O=S+F,B=Math.ceil(O/8),H=Math.ceil(O/10),ee={roomLength:`${l.roomLength} feet`,roomWidth:`${l.roomWidth} feet`,roomPerimeter:`${C} feet`};l.hasCounters&&l.counterLength&&(ee.counterLength=`${l.counterLength} feet`);const ce={wallReceptacles:`${S} receptacles`,totalReceptacles:`${O} receptacles`,circuits15A:`${B} circuits (15A)`,circuits20A:`${H} circuits (20A)`};F>0&&(ce.counterReceptacles=`${F} receptacles`),x={calculatorName:"Receptacle Calculator - General Room",inputs:ee,results:ce,additionalInfo:{spacing:"One receptacle every 12 feet of wall space",rule:"No point along wall more than 6 feet from receptacle",counterRule:F>0?"Counter receptacles: one every 24 inches":null},necReferences:["NEC 210.52(A) - General Provisions","Receptacle within 6 ft of doorway, then every 12 ft","No point along wall more than 6 ft from receptacle","Conservative: 8 receptacles per 15A circuit, 10 per 20A circuit"]}}else if(a==="kitchen"){if(!u.counterLength){alert("Please enter counter length before exporting");return}const P=parseFloat(u.counterLength),A=parseFloat(u.islandLength)||0,C=Math.max(2,Math.ceil(P/2)),S=A>=2?Math.max(1,Math.ceil(A/4)):0,F=C+S,O=2,B=F;let H=0;const ee=[];u.dishwasher&&(H++,ee.push("Dishwasher (15A/20A)")),u.disposer&&(H++,ee.push("Garbage Disposer (15A/20A)")),u.microwave&&(H++,ee.push("Microwave (20A)")),u.range&&(H++,ee.push("Range/Cooktop (240V, 40-50A)"));const ce={counterLength:`${u.counterLength} feet`};A>0&&(ce.islandLength=`${u.islandLength} feet`),ee.length>0&&(ce.dedicatedAppliances=ee.join(", "));const W={counterReceptacles:`${C} receptacles`,totalReceptacles:`${F} receptacles`,smallApplianceCircuits:`${O} circuits (20A each)`,gfciRequired:`${B} GFCI-protected receptacles`};S>0&&(W.islandReceptacles=`${S} receptacles`),H>0&&(W.dedicatedCircuits=`${H} dedicated circuits`),x={calculatorName:"Receptacle Calculator - Kitchen",inputs:ce,results:W,additionalInfo:{counterSpacing:"One receptacle every 24 inches of counter space",islandRequirement:'Island receptacles required if island  24" long  12" wide',gfciNote:"All countertop receptacles require GFCI protection"},necReferences:["NEC 210.52(C) - Countertops","NEC 210.11(C)(1) - Min. 2 small appliance circuits (20A)","NEC 210.8(A) - GFCI protection required for all countertop receptacles",'Island receptacles required if  24" long  12" wide']}}else if(a==="bathroom"){const P=parseInt(p.numBasins)||1,A=p.hasTub;let C=Math.max(1,P);A&&(C=Math.max(C,2));const S=p.sharedCircuit?1:P>=2?2:1,F=C,B={numberOfBasins:P===1?"1 Basin":P===2?"2 Basins (Double Vanity)":"3+ Basins",hasTubShower:A?"Yes":"No",sharedCircuit:p.sharedCircuit?"Yes (shared with other bathrooms)":"No (dedicated)"},H={receptaclesNeeded:`${C} receptacles`,dedicatedCircuits:`${S} circuits (20A)`,gfciRequired:`${F} GFCI-protected receptacles`};x={calculatorName:"Receptacle Calculator - Bathroom",inputs:B,results:H,additionalInfo:{spacing:"At least one receptacle within 3 feet of each basin",installation:"Install at least 12 inches above countertop",accessibility:"Receptacles must be readily accessible (not behind toilet)",gfciNote:"All bathroom receptacles require GFCI protection"},necReferences:["NEC 210.52(D) - Min. 1 receptacle within 3 ft of basin","NEC 210.11(C)(3) - Min. 1 dedicated 20A circuit for bathroom receptacles","NEC 210.8(A) - All bathroom receptacles require GFCI protection","One 20A circuit can serve receptacles in multiple bathrooms"]}}Er(x)}}));const _={general:n.jsx(Bb,{generalData:l,setGeneralData:d,colors:j}),kitchen:n.jsx(Nb,{kitchenData:u,setKitchenData:m,colors:j}),bathroom:n.jsx(Lb,{bathroomData:p,setBathroomData:y,colors:j})};return n.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto"},children:[n.jsx("div",{style:{background:j.cardBg,border:`1px solid ${j.cardBorder}`,borderRadius:"12px",padding:"1rem",marginBottom:"1rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[{id:"general",label:"General Room"},{id:"kitchen",label:"Kitchen"},{id:"bathroom",label:"Bathroom"}].map(x=>n.jsx("button",{onClick:()=>s(x.id),style:{flex:"1 1 auto",minWidth:"100px",padding:"0.625rem 1rem",background:a===x.id?"#3b82f6":j.sectionBg,color:a===x.id?"white":j.labelText,border:`1px solid ${a===x.id?"#3b82f6":j.cardBorder}`,borderRadius:"8px",cursor:"pointer",fontSize:"0.875rem",fontWeight:"600",transition:"all 0.2s"},children:x.label},x.id))}),n.jsx("div",{style:{background:j.cardBg,border:`1px solid ${j.cardBorder}`,borderRadius:"12px",padding:"1.5rem",marginBottom:"1rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:_[a]})]})});function Pb({onNavigate:r,currentView:t,isDarkMode:e=!1}){const a={bg:e?"#000000":"#ffffff",border:e?"#1a1a1a":"#e5e7eb",activeText:"#3b82f6",inactiveText:e?"#666666":"#6b7280"},s=d=>({background:"transparent",border:"0",borderWidth:"0",outline:"none",boxShadow:"none",color:d?a.activeText:a.inactiveText,cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"0.25rem",fontSize:"0.625rem",fontWeight:"500",flex:"1 1 0",padding:"0.5rem 0.25rem",margin:0,transition:"color 0.2s",WebkitTapHighlightColor:"transparent",WebkitAppearance:"none",MozAppearance:"none",appearance:"none",minWidth:"0"}),l={whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:"100%",textAlign:"center",lineHeight:"1",marginTop:"0.125rem"};return n.jsxs("div",{style:{position:"fixed",bottom:0,left:0,right:0,width:"100%",background:a.bg,borderTop:`1px solid ${a.border}`,display:"flex",justifyContent:"space-between",alignItems:"stretch",padding:"0.25rem 0.5rem",paddingBottom:"calc(0.25rem + env(safe-area-inset-bottom))",margin:0,zIndex:1e4,minHeight:"60px",boxSizing:"border-box"},children:[n.jsxs("button",{onClick:()=>r("home"),style:s(t==="home"),children:[n.jsx(g1,{size:22,strokeWidth:t==="home"?2.5:2}),n.jsx("span",{style:l,children:"Home"})]}),n.jsxs("button",{onClick:()=>r("calculators"),style:s(t==="calculators"),children:[n.jsx(hd,{size:22,strokeWidth:t==="calculators"?2.5:2}),n.jsx("span",{style:l,children:"Calculators"})]}),n.jsxs("button",{onClick:()=>r("jobs"),style:s(t==="jobs"),children:[n.jsx(Of,{size:22,strokeWidth:t==="jobs"?2.5:2}),n.jsx("span",{style:l,children:"Jobs"})]}),n.jsxs("button",{onClick:()=>r("estimates"),style:s(t==="estimates"),children:[n.jsx(Df,{size:22,strokeWidth:t==="estimates"?2.5:2}),n.jsx("span",{style:l,children:"Estimates"})]}),n.jsxs("button",{onClick:()=>r("profile"),style:s(t==="profile"),children:[n.jsx(Bu,{size:22,strokeWidth:t==="profile"?2.5:2}),n.jsx("span",{style:l,children:"Profile"})]})]})}const Ib=ve.forwardRef(({isDarkMode:r,onBack:t},e)=>{const[a,s]=ve.useState(""),[l,d]=ve.useState("460"),[u,m]=ve.useState("3"),[p,y]=ve.useState("normal"),[j,_]=ve.useState("0"),[x,P]=ve.useState("40"),[A,C]=ve.useState("variable"),S={cardBg:r?"#374151":"#ffffff",cardBorder:r?"#4b5563":"#e5e7eb",cardText:r?"#f9fafb":"#111827",labelText:r?"#d1d5db":"#374151",inputBg:r?"#1f2937":"#ffffff",inputBorder:r?"#4b5563":"#d1d5db",sectionBg:r?"#1f2937":"#f9fafb"},O=((R,se,xe)=>{if(!R||!se)return 0;const de=parseFloat(R),oe=parseFloat(se);return xe==="3"?de*746/(oe*1.732*.85*.9):de*746/(oe*.85*.9)})(a,l,u),B=R=>{const se=parseFloat(R);return se<=3300?1:se<=5e3?.95:se<=6600?.9:se<=8200?.85:.8},H=R=>{const se=parseFloat(R);return se<=40?1:se<=45?.97:se<=50?.94:.91},ee=R=>{switch(R){case"heavy":return 1.25;case"normal":return 1.15;case"light":return 1.1;default:return 1.15}},ce=B(j),W=H(x),I=ee(p),J=O*I/(ce*W),k=[{amps:2,hp460V:1,hp230V:.5},{amps:3,hp460V:1.5,hp230V:1},{amps:5,hp460V:2,hp230V:1.5},{amps:7,hp460V:3,hp230V:2},{amps:10,hp460V:5,hp230V:3},{amps:14,hp460V:7.5,hp230V:5},{amps:18,hp460V:10,hp230V:7.5},{amps:24,hp460V:15,hp230V:10},{amps:31,hp460V:20,hp230V:15},{amps:40,hp460V:25,hp230V:20},{amps:52,hp460V:30,hp230V:25},{amps:62,hp460V:40,hp230V:30},{amps:77,hp460V:50,hp230V:40},{amps:96,hp460V:60,hp230V:50},{amps:124,hp460V:75,hp230V:60},{amps:156,hp460V:100,hp230V:75},{amps:180,hp460V:125,hp230V:100},{amps:240,hp460V:150,hp230V:125},{amps:302,hp460V:200,hp230V:150}].find(R=>R.amps>=J),X=ce<1||W<1||p==="heavy";return ve.useImperativeHandle(e,()=>({exportPDF:()=>{if(!a){alert("Please enter motor horsepower before exporting to PDF");return}const R=A==="variable"?"Variable Torque (Fans, Pumps)":A==="constant"?"Constant Torque (Conveyors)":"High Starting Torque",se=p==="light"?"Light Duty (Intermittent)":p==="normal"?"Normal Duty":"Heavy Duty (Continuous)",xe={calculatorName:"VFD Sizing Calculator",inputs:{"Motor Horsepower":`${a} HP`,Voltage:`${l}V`,Phases:u==="1"?"Single Phase":"Three Phase","Load Type":R,"Duty Cycle":se,Altitude:`${j} feet`,"Ambient Temperature":`${x}C`},results:{"Motor Full Load Amperes (FLA)":`${O.toFixed(1)} A`,"Required VFD Current":`${J.toFixed(1)} A`,"Recommended VFD Rating":k?`${k.amps} A`:"N/A","VFD Motor HP (460V)":k?`${k.hp460V} HP`:"N/A","VFD Motor HP (230V)":k?`${k.hp230V} HP`:"N/A","Safety Margin":k?`${((k.amps/J-1)*100).toFixed(0)}%`:"N/A"},additionalInfo:{"Altitude Derating Factor":`${(ce*100).toFixed(0)}%`,"Temperature Derating Factor":`${(W*100).toFixed(0)}%`,"Duty Cycle Factor":`${(I*100).toFixed(0)}%`,"Calculation Method":u==="3"?"Three Phase: (HP  746)  (V  1.732  0.85  0.9)":"Single Phase: (HP  746)  (V  0.85  0.9)","Required VFD Current Formula":"Motor FLA  Duty Cycle Factor  (Altitude Factor  Temperature Factor)"},necReferences:["NEC Article 430 - Motors, Motor Circuits, and Controllers","NEC 430.122 - Rating of Motor Control Circuit Overcurrent Protective Device","Always follow VFD manufacturer specifications","Use shielded cables for motor connections to reduce EMI","Install line and load reactors when recommended by manufacturer","Ensure proper grounding and bonding per NEC Article 250","Consider bypass contactor for critical applications","Verify VFD voltage matches motor nameplate voltage","Consider harmonic filtering for sensitive equipment","Ensure adequate cooling and ventilation for VFD enclosure",ce<1?`WARNING: High altitude derating applied (${(ce*100).toFixed(0)}%)`:"",W<1?`WARNING: High temperature derating applied (${(W*100).toFixed(0)}%)`:"",p==="heavy"?"WARNING: Heavy duty cycle requires oversizing for continuous operation":""].filter(de=>de!=="")};Er(xe)}})),n.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto"},children:[n.jsxs("div",{style:{background:S.cardBg,border:`1px solid ${S.cardBorder}`,borderRadius:"12px",padding:"1.5rem",marginBottom:"1rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[n.jsx("h3",{style:{fontSize:"1rem",fontWeight:"600",color:S.cardText,marginTop:0,marginBottom:"1rem",borderBottom:`1px solid ${S.cardBorder}`,paddingBottom:"0.5rem"},children:"Motor Information"}),n.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:S.labelText,marginBottom:"0.5rem"},children:"Motor Horsepower (HP)"}),n.jsx("input",{type:"number",value:a,onChange:R=>s(R.target.value),style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${S.inputBorder}`,borderRadius:"8px",backgroundColor:S.inputBg,color:S.cardText,boxSizing:"border-box"},placeholder:"Enter HP",step:"0.5"})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:S.labelText,marginBottom:"0.5rem"},children:"Voltage (V)"}),n.jsxs("select",{value:l,onChange:R=>d(R.target.value),style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${S.inputBorder}`,borderRadius:"8px",backgroundColor:S.inputBg,color:S.cardText,boxSizing:"border-box"},children:[n.jsx("option",{value:"230",children:"230V"}),n.jsx("option",{value:"460",children:"460V"}),n.jsx("option",{value:"575",children:"575V"})]})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:S.labelText,marginBottom:"0.5rem"},children:"Phases"}),n.jsxs("select",{value:u,onChange:R=>m(R.target.value),style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${S.inputBorder}`,borderRadius:"8px",backgroundColor:S.inputBg,color:S.cardText,boxSizing:"border-box"},children:[n.jsx("option",{value:"1",children:"Single Phase"}),n.jsx("option",{value:"3",children:"Three Phase"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:S.labelText,marginBottom:"0.5rem"},children:"Load Type"}),n.jsxs("select",{value:A,onChange:R=>C(R.target.value),style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${S.inputBorder}`,borderRadius:"8px",backgroundColor:S.inputBg,color:S.cardText,boxSizing:"border-box"},children:[n.jsx("option",{value:"variable",children:"Variable Torque (Fans, Pumps)"}),n.jsx("option",{value:"constant",children:"Constant Torque (Conveyors)"}),n.jsx("option",{value:"highTorque",children:"High Starting Torque"})]})]})]})]}),n.jsxs("div",{style:{background:S.cardBg,border:`1px solid ${S.cardBorder}`,borderRadius:"12px",padding:"1.5rem",marginBottom:"1rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[n.jsx("h3",{style:{fontSize:"1rem",fontWeight:"600",color:S.cardText,marginTop:0,marginBottom:"1rem",borderBottom:`1px solid ${S.cardBorder}`,paddingBottom:"0.5rem"},children:"Environmental Conditions"}),n.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:S.labelText,marginBottom:"0.5rem"},children:"Duty Cycle"}),n.jsxs("select",{value:p,onChange:R=>y(R.target.value),style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${S.inputBorder}`,borderRadius:"8px",backgroundColor:S.inputBg,color:S.cardText,boxSizing:"border-box"},children:[n.jsx("option",{value:"light",children:"Light Duty (Intermittent)"}),n.jsx("option",{value:"normal",children:"Normal Duty"}),n.jsx("option",{value:"heavy",children:"Heavy Duty (Continuous)"})]})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:S.labelText,marginBottom:"0.5rem"},children:"Altitude (feet)"}),n.jsx("input",{type:"number",value:j,onChange:R=>_(R.target.value),style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${S.inputBorder}`,borderRadius:"8px",backgroundColor:S.inputBg,color:S.cardText,boxSizing:"border-box"},placeholder:"0",step:"100"})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:S.labelText,marginBottom:"0.5rem"},children:"Ambient Temp (C)"}),n.jsx("input",{type:"number",value:x,onChange:R=>P(R.target.value),style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${S.inputBorder}`,borderRadius:"8px",backgroundColor:S.inputBg,color:S.cardText,boxSizing:"border-box"},placeholder:"40"})]})]}),n.jsxs("div",{style:{background:S.sectionBg,padding:"1rem",borderRadius:"8px",border:`1px solid ${S.cardBorder}`},children:[n.jsx("h4",{style:{fontSize:"0.875rem",fontWeight:"600",color:S.cardText,marginTop:0,marginBottom:"0.75rem"},children:"Derating Factors"}),n.jsxs("div",{style:{display:"grid",gap:"0.5rem",fontSize:"0.875rem",color:S.labelText},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[n.jsx("span",{children:"Altitude Factor:"}),n.jsxs("span",{style:{fontWeight:"600",color:S.cardText},children:[(ce*100).toFixed(0),"%"]})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[n.jsx("span",{children:"Temperature Factor:"}),n.jsxs("span",{style:{fontWeight:"600",color:S.cardText},children:[(W*100).toFixed(0),"%"]})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[n.jsx("span",{children:"Duty Cycle Factor:"}),n.jsxs("span",{style:{fontWeight:"600",color:S.cardText},children:[(I*100).toFixed(0),"%"]})]})]})]})]})]}),a&&n.jsxs("div",{children:[n.jsxs("div",{style:{background:S.cardBg,border:`1px solid ${S.cardBorder}`,borderRadius:"12px",padding:"1.5rem",marginBottom:"1rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[n.jsx("h3",{style:{fontSize:"1rem",fontWeight:"600",color:S.cardText,marginTop:0,marginBottom:"1rem"},children:"Results"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"1rem",marginBottom:"1rem"},children:[n.jsxs("div",{style:{background:S.sectionBg,padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:S.labelText,marginBottom:"0.25rem"},children:"Motor FLA"}),n.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:S.cardText},children:O.toFixed(1)}),n.jsx("div",{style:{fontSize:"0.75rem",color:S.labelText,marginTop:"0.25rem"},children:"Amperes"})]}),n.jsxs("div",{style:{background:S.sectionBg,padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:S.labelText,marginBottom:"0.25rem"},children:"Required VFD Current"}),n.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:S.cardText},children:J.toFixed(1)}),n.jsx("div",{style:{fontSize:"0.75rem",color:S.labelText,marginTop:"0.25rem"},children:"Amperes"})]}),n.jsxs("div",{style:{background:"#dbeafe",padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:"#1e40af",marginBottom:"0.25rem"},children:"Recommended VFD"}),n.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:"#1e40af"},children:k?k.amps:"N/A"}),n.jsx("div",{style:{fontSize:"0.75rem",color:"#1e40af",marginTop:"0.25rem"},children:"Amperes"})]})]}),k&&n.jsxs("div",{style:{background:S.sectionBg,padding:"1rem",borderRadius:"8px",border:`1px solid ${S.cardBorder}`},children:[n.jsx("h4",{style:{fontSize:"0.875rem",fontWeight:"600",color:S.cardText,marginTop:0,marginBottom:"0.75rem"},children:"VFD Specifications"}),n.jsxs("div",{style:{display:"grid",gap:"0.5rem",fontSize:"0.875rem",color:S.labelText},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[n.jsx("span",{children:"Current Rating:"}),n.jsxs("span",{style:{fontWeight:"600",color:S.cardText},children:[k.amps," Amperes"]})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[n.jsx("span",{children:"Motor HP (460V):"}),n.jsxs("span",{style:{fontWeight:"600",color:S.cardText},children:[k.hp460V," HP"]})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[n.jsx("span",{children:"Motor HP (230V):"}),n.jsxs("span",{style:{fontWeight:"600",color:S.cardText},children:[k.hp230V," HP"]})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",paddingTop:"0.5rem",borderTop:`1px solid ${S.cardBorder}`,marginTop:"0.25rem"},children:[n.jsx("span",{children:"Safety Margin:"}),n.jsxs("span",{style:{fontWeight:"600",color:"#059669"},children:[((k.amps/J-1)*100).toFixed(0),"%"]})]})]})]})]}),k&&!X&&n.jsx("div",{style:{background:"#d1fae5",border:"1px solid #6ee7b7",borderRadius:"8px",padding:"1rem",marginBottom:"1rem"},children:n.jsxs("div",{style:{display:"flex",alignItems:"start",gap:"0.75rem"},children:[n.jsx(en,{size:20,color:"#059669",style:{flexShrink:0,marginTop:"0.125rem"}}),n.jsxs("div",{style:{fontSize:"0.875rem",color:"#047857",lineHeight:"1.5"},children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"0.25rem"},children:"VFD Selection Complete"}),n.jsx("div",{style:{fontSize:"0.8125rem"},children:"Selected VFD meets all requirements with adequate safety margin for reliable operation."})]})]})}),X&&n.jsx("div",{style:{background:"#fef3c7",border:"1px solid #fcd34d",borderRadius:"8px",padding:"1rem",marginBottom:"1rem"},children:n.jsxs("div",{style:{display:"flex",alignItems:"start",gap:"0.75rem"},children:[n.jsx(Du,{size:20,color:"#d97706",style:{flexShrink:0,marginTop:"0.125rem"}}),n.jsxs("div",{style:{lineHeight:"1.5"},children:[n.jsx("div",{style:{fontSize:"0.9375rem",fontWeight:"600",color:"#78350f",marginBottom:"0.5rem"},children:"Important Considerations"}),n.jsxs("ul",{style:{fontSize:"0.8125rem",color:"#92400e",margin:0,paddingLeft:"1.25rem"},children:[ce<1&&n.jsxs("li",{style:{marginBottom:"0.25rem"},children:["High altitude installation requires derating (",(ce*100).toFixed(0),"% of rated capacity)"]}),W<1&&n.jsxs("li",{style:{marginBottom:"0.25rem"},children:["High ambient temperature requires derating (",(W*100).toFixed(0),"% of rated capacity)"]}),p==="heavy"&&n.jsx("li",{style:{marginBottom:"0.25rem"},children:"Heavy duty cycle applications require oversizing for continuous operation"}),n.jsx("li",{style:{marginBottom:"0.25rem"},children:"Verify VFD voltage matches motor nameplate voltage"}),n.jsx("li",{style:{marginBottom:"0.25rem"},children:"Consider harmonic filtering for sensitive equipment"}),n.jsx("li",{children:"Ensure adequate cooling and ventilation"})]})]})]})})]}),n.jsxs("div",{style:{background:S.sectionBg,padding:"1rem",borderRadius:"8px",border:`1px solid ${S.cardBorder}`,fontSize:"0.8125rem",color:S.labelText},children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"0.5rem",color:S.cardText},children:"VFD Installation Notes:"}),"Always follow manufacturer specifications  Use shielded cables for motor connections  Install line and load reactors when recommended  Ensure proper grounding and bonding  Consider bypass contactor for critical applications"]})]})}),Eb=ve.forwardRef(({isDarkMode:r=!1},t)=>{const[e,a]=ve.useState("inductive"),[s,l]=ve.useState("60"),[d,u]=ve.useState(""),[m,p]=ve.useState("mH"),[y,j]=ve.useState("60"),[_,x]=ve.useState(""),[P,A]=ve.useState("F"),[C,S]=ve.useState(""),[F,O]=ve.useState(""),[B,H]=ve.useState("inductive"),[ee,ce]=ve.useState(""),[W,I]=ve.useState("mH"),[J,D]=ve.useState(""),[k,X]=ve.useState("F"),R={cardBg:r?"#374151":"#ffffff",cardBorder:r?"#4b5563":"#e5e7eb",cardText:r?"#f9fafb":"#111827",labelText:r?"#d1d5db":"#374151",inputBg:r?"#1f2937":"#ffffff",inputBorder:r?"#4b5563":"#d1d5db",sectionBg:r?"#1f2937":"#f9fafb",subtleText:r?"#9ca3af":"#6b7280"},se=()=>{if(!s||!d)return null;const U=parseFloat(s);let M=parseFloat(d);return m==="mH"?M=M/1e3:m==="H"&&(M=M/1e6),{reactance:(2*Math.PI*U*M).toFixed(2),frequency:U,inductance:d,unit:m}},xe=()=>{if(!y||!_)return null;const U=parseFloat(y);let M=parseFloat(_);return P==="F"?M=M/1e6:P==="nF"?M=M/1e9:P==="pF"&&(M=M/1e12),{reactance:(1/(2*Math.PI*U*M)).toFixed(2),frequency:U,capacitance:_,unit:P}},de=()=>{if(!C||!F)return null;const U=parseFloat(C),M=parseFloat(F),K=Math.sqrt(U*U+M*M),Z=Math.atan2(M,U)*(180/Math.PI);return{impedance:K.toFixed(2),angle:Z.toFixed(2),resistance:U,reactance:M,type:B}},oe=()=>{if(!ee||!J)return null;let U=parseFloat(ee),M=parseFloat(J);return W==="mH"?U=U/1e3:W==="H"&&(U=U/1e6),k==="F"?M=M/1e6:k==="nF"?M=M/1e9:k==="pF"&&(M=M/1e12),{frequency:(1/(2*Math.PI*Math.sqrt(U*M))).toFixed(2),inductance:ee,inductanceUnit:W,capacitance:J,capacitanceUnit:k}},be=se(),je=xe(),Q=de(),L=oe();return ve.useImperativeHandle(t,()=>({exportPDF:()=>{if(e==="inductive"){if(!s||!d){alert("Please enter all required values before exporting to PDF");return}const U={calculatorName:"Reactance & Impedance - Inductive Reactance (XL)",inputs:{Frequency:`${s} Hz`,Inductance:`${d} ${m}`},results:{"Inductive Reactance (XL)":`${be.reactance} `},additionalInfo:{Formula:"XL = 2fL",Description:"Inductive reactance increases with frequency and opposes changes in current flow"},necReferences:["Inductive reactance is directly proportional to frequency","In AC circuits, inductors oppose current changes","XL increases linearly with both frequency and inductance"]};Er(U)}else if(e==="capacitive"){if(!y||!_){alert("Please enter all required values before exporting to PDF");return}const U={calculatorName:"Reactance & Impedance - Capacitive Reactance (XC)",inputs:{Frequency:`${y} Hz`,Capacitance:`${_} ${P}`},results:{"Capacitive Reactance (XC)":`${je.reactance} `},additionalInfo:{Formula:"XC = 1 / (2fC)",Description:"Capacitive reactance decreases with frequency and opposes changes in voltage"},necReferences:["Capacitive reactance is inversely proportional to frequency","In AC circuits, capacitors oppose voltage changes","XC decreases as frequency or capacitance increases"]};Er(U)}else if(e==="impedance"){if(!C||!F){alert("Please enter all required values before exporting to PDF");return}const U={calculatorName:"Reactance & Impedance - Impedance Calculator",inputs:{"Reactance Type":B.charAt(0).toUpperCase()+B.slice(1),"Resistance (R)":`${C} `,"Reactance (X)":`${F} `},results:{"Impedance (Z)":`${Q.impedance} `,"Phase Angle ()":`${Q.angle}`,"Phase Relationship":B==="inductive"?"Leading":"Lagging"},additionalInfo:{"Impedance Formula":"Z = (R + X)","Phase Angle Formula":" = arctan(X / R)",Description:"Impedance is the total opposition to current flow in an AC circuit, combining resistance and reactance"},necReferences:["Impedance combines resistive and reactive components","Phase angle indicates the relationship between voltage and current","In inductive circuits, current lags voltage; in capacitive circuits, current leads voltage"]};Er(U)}else if(e==="resonance"){if(!ee||!J){alert("Please enter all required values before exporting to PDF");return}const U={calculatorName:"Reactance & Impedance - Resonant Frequency",inputs:{Inductance:`${ee} ${W}`,Capacitance:`${J} ${k}`},results:{"Resonant Frequency (fr)":`${L.frequency} Hz`},additionalInfo:{Formula:"fr = 1 / (2LC)","At Resonance":"Inductive and capacitive reactances are equal and opposite (XL = XC)","Series Circuit":"Minimum impedance at resonance","Parallel Circuit":"Maximum impedance at resonance"},necReferences:["Resonance occurs when XL = XC","At resonant frequency, circuit is purely resistive","Series resonant circuits have minimum impedance","Parallel resonant circuits have maximum impedance"]};Er(U)}}})),n.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto"},children:[n.jsx("div",{style:{background:R.cardBg,border:`1px solid ${R.cardBorder}`,borderRadius:"12px",padding:"1rem",marginBottom:"1rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:n.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[n.jsxs("button",{onClick:()=>a("inductive"),style:{flex:"1 1 auto",minWidth:"110px",padding:"0.75rem 1rem",background:e==="inductive"?"#3b82f6":"transparent",color:e==="inductive"?"white":R.labelText,border:`1px solid ${e==="inductive"?"#3b82f6":R.cardBorder}`,borderRadius:"8px",cursor:"pointer",fontSize:"0.875rem",fontWeight:"600",transition:"all 0.2s"},children:["Inductive (X",n.jsx("sub",{children:"L"}),")"]}),n.jsxs("button",{onClick:()=>a("capacitive"),style:{flex:"1 1 auto",minWidth:"110px",padding:"0.75rem 1rem",background:e==="capacitive"?"#3b82f6":"transparent",color:e==="capacitive"?"white":R.labelText,border:`1px solid ${e==="capacitive"?"#3b82f6":R.cardBorder}`,borderRadius:"8px",cursor:"pointer",fontSize:"0.875rem",fontWeight:"600",transition:"all 0.2s"},children:["Capacitive (X",n.jsx("sub",{children:"C"}),")"]}),n.jsx("button",{onClick:()=>a("impedance"),style:{flex:"1 1 auto",minWidth:"110px",padding:"0.75rem 1rem",background:e==="impedance"?"#3b82f6":"transparent",color:e==="impedance"?"white":R.labelText,border:`1px solid ${e==="impedance"?"#3b82f6":R.cardBorder}`,borderRadius:"8px",cursor:"pointer",fontSize:"0.875rem",fontWeight:"600",transition:"all 0.2s"},children:"Impedance (Z)"}),n.jsx("button",{onClick:()=>a("resonance"),style:{flex:"1 1 auto",minWidth:"110px",padding:"0.75rem 1rem",background:e==="resonance"?"#3b82f6":"transparent",color:e==="resonance"?"white":R.labelText,border:`1px solid ${e==="resonance"?"#3b82f6":R.cardBorder}`,borderRadius:"8px",cursor:"pointer",fontSize:"0.875rem",fontWeight:"600",transition:"all 0.2s"},children:"Resonance"})]})}),e==="inductive"&&n.jsxs("div",{children:[n.jsxs("div",{style:{background:R.cardBg,border:`1px solid ${R.cardBorder}`,borderRadius:"12px",padding:"1.5rem",marginBottom:"1rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[n.jsx("h3",{style:{fontSize:"1rem",fontWeight:"600",color:R.cardText,marginTop:0,marginBottom:"1rem",borderBottom:`1px solid ${R.cardBorder}`,paddingBottom:"0.5rem"},children:"Circuit Parameters"}),n.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:R.labelText,marginBottom:"0.5rem"},children:"Frequency (Hz)"}),n.jsx("input",{type:"number",value:s,onChange:U=>l(U.target.value),placeholder:"60",style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${R.inputBorder}`,borderRadius:"8px",backgroundColor:R.inputBg,color:R.cardText,boxSizing:"border-box"}}),n.jsx("div",{style:{fontSize:"0.75rem",color:R.subtleText,marginTop:"0.25rem"},children:"Common: 50 Hz or 60 Hz"})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:R.labelText,marginBottom:"0.5rem"},children:"Inductance"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr",gap:"0.5rem"},children:[n.jsx("input",{type:"number",value:d,onChange:U=>u(U.target.value),placeholder:"Enter value",style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${R.inputBorder}`,borderRadius:"8px",backgroundColor:R.inputBg,color:R.cardText,boxSizing:"border-box"}}),n.jsxs("select",{value:m,onChange:U=>p(U.target.value),style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${R.inputBorder}`,borderRadius:"8px",backgroundColor:R.inputBg,color:R.cardText,boxSizing:"border-box"},children:[n.jsx("option",{value:"H",children:"H"}),n.jsx("option",{value:"mH",children:"mH"}),n.jsx("option",{value:"H",children:"H"})]})]})]})]})]}),be&&n.jsx("div",{children:n.jsxs("div",{style:{background:R.cardBg,border:`1px solid ${R.cardBorder}`,borderRadius:"12px",padding:"1.5rem",marginBottom:"1rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[n.jsx("h3",{style:{fontSize:"1rem",fontWeight:"600",color:R.cardText,marginTop:0,marginBottom:"1rem"},children:"Results"}),n.jsxs("div",{style:{background:"#dbeafe",padding:"1rem",borderRadius:"8px",textAlign:"center",marginBottom:"1rem"},children:[n.jsxs("div",{style:{fontSize:"0.875rem",color:"#1e40af",marginBottom:"0.5rem",fontWeight:"600"},children:["Inductive Reactance (X",n.jsx("sub",{children:"L"}),")"]}),n.jsx("div",{style:{fontSize:"2.5rem",fontWeight:"700",color:"#1e40af"},children:be.reactance}),n.jsx("div",{style:{fontSize:"0.875rem",color:"#1e40af",marginTop:"0.25rem"},children:"Ohms ()"})]}),n.jsxs("div",{style:{background:R.sectionBg,padding:"1rem",borderRadius:"8px",border:`1px solid ${R.cardBorder}`},children:[n.jsx("div",{style:{fontSize:"0.875rem",color:R.labelText,marginBottom:"0.5rem"},children:n.jsx("strong",{style:{color:R.cardText},children:"Circuit Values:"})}),n.jsxs("div",{style:{fontSize:"0.8125rem",color:R.labelText,display:"grid",gap:"0.25rem"},children:[n.jsxs("div",{children:["Frequency: ",be.frequency," Hz"]}),n.jsxs("div",{children:["Inductance: ",be.inductance," ",be.unit]}),n.jsxs("div",{style:{marginTop:"0.5rem",fontStyle:"italic",color:R.subtleText},children:["Formula: X",n.jsx("sub",{children:"L"})," = 2fL"]})]})]})]})})]}),e==="capacitive"&&n.jsxs("div",{children:[n.jsxs("div",{style:{background:R.cardBg,border:`1px solid ${R.cardBorder}`,borderRadius:"12px",padding:"1.5rem",marginBottom:"1rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[n.jsx("h3",{style:{fontSize:"1rem",fontWeight:"600",color:R.cardText,marginTop:0,marginBottom:"1rem",borderBottom:`1px solid ${R.cardBorder}`,paddingBottom:"0.5rem"},children:"Circuit Parameters"}),n.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:R.labelText,marginBottom:"0.5rem"},children:"Frequency (Hz)"}),n.jsx("input",{type:"number",value:y,onChange:U=>j(U.target.value),placeholder:"60",style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${R.inputBorder}`,borderRadius:"8px",backgroundColor:R.inputBg,color:R.cardText,boxSizing:"border-box"}}),n.jsx("div",{style:{fontSize:"0.75rem",color:R.subtleText,marginTop:"0.25rem"},children:"Common: 50 Hz or 60 Hz"})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:R.labelText,marginBottom:"0.5rem"},children:"Capacitance"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr",gap:"0.5rem"},children:[n.jsx("input",{type:"number",value:_,onChange:U=>x(U.target.value),placeholder:"Enter value",style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${R.inputBorder}`,borderRadius:"8px",backgroundColor:R.inputBg,color:R.cardText,boxSizing:"border-box"}}),n.jsxs("select",{value:P,onChange:U=>A(U.target.value),style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${R.inputBorder}`,borderRadius:"8px",backgroundColor:R.inputBg,color:R.cardText,boxSizing:"border-box"},children:[n.jsx("option",{value:"F",children:"F"}),n.jsx("option",{value:"F",children:"F"}),n.jsx("option",{value:"nF",children:"nF"}),n.jsx("option",{value:"pF",children:"pF"})]})]})]})]})]}),je&&n.jsx("div",{children:n.jsxs("div",{style:{background:R.cardBg,border:`1px solid ${R.cardBorder}`,borderRadius:"12px",padding:"1.5rem",marginBottom:"1rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[n.jsx("h3",{style:{fontSize:"1rem",fontWeight:"600",color:R.cardText,marginTop:0,marginBottom:"1rem"},children:"Results"}),n.jsxs("div",{style:{background:"#dbeafe",padding:"1rem",borderRadius:"8px",textAlign:"center",marginBottom:"1rem"},children:[n.jsxs("div",{style:{fontSize:"0.875rem",color:"#1e40af",marginBottom:"0.5rem",fontWeight:"600"},children:["Capacitive Reactance (X",n.jsx("sub",{children:"C"}),")"]}),n.jsx("div",{style:{fontSize:"2.5rem",fontWeight:"700",color:"#1e40af"},children:je.reactance}),n.jsx("div",{style:{fontSize:"0.875rem",color:"#1e40af",marginTop:"0.25rem"},children:"Ohms ()"})]}),n.jsxs("div",{style:{background:R.sectionBg,padding:"1rem",borderRadius:"8px",border:`1px solid ${R.cardBorder}`},children:[n.jsx("div",{style:{fontSize:"0.875rem",color:R.labelText,marginBottom:"0.5rem"},children:n.jsx("strong",{style:{color:R.cardText},children:"Circuit Values:"})}),n.jsxs("div",{style:{fontSize:"0.8125rem",color:R.labelText,display:"grid",gap:"0.25rem"},children:[n.jsxs("div",{children:["Frequency: ",je.frequency," Hz"]}),n.jsxs("div",{children:["Capacitance: ",je.capacitance," ",je.unit]}),n.jsxs("div",{style:{marginTop:"0.5rem",fontStyle:"italic",color:R.subtleText},children:["Formula: X",n.jsx("sub",{children:"C"})," = 1 / (2fC)"]})]})]})]})})]}),e==="impedance"&&n.jsxs("div",{children:[n.jsxs("div",{style:{background:R.cardBg,border:`1px solid ${R.cardBorder}`,borderRadius:"12px",padding:"1.5rem",marginBottom:"1rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[n.jsx("h3",{style:{fontSize:"1rem",fontWeight:"600",color:R.cardText,marginTop:0,marginBottom:"1rem",borderBottom:`1px solid ${R.cardBorder}`,paddingBottom:"0.5rem"},children:"Circuit Parameters"}),n.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:R.labelText,marginBottom:"0.5rem"},children:"Reactance Type"}),n.jsxs("select",{value:B,onChange:U=>H(U.target.value),style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${R.inputBorder}`,borderRadius:"8px",backgroundColor:R.inputBg,color:R.cardText,boxSizing:"border-box"},children:[n.jsxs("option",{value:"inductive",children:["Inductive (X",n.jsx("sub",{children:"L"}),")"]}),n.jsxs("option",{value:"capacitive",children:["Capacitive (X",n.jsx("sub",{children:"C"}),")"]})]})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:R.labelText,marginBottom:"0.5rem"},children:"Resistance (R) in Ohms"}),n.jsx("input",{type:"number",value:C,onChange:U=>S(U.target.value),placeholder:"Enter resistance",style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${R.inputBorder}`,borderRadius:"8px",backgroundColor:R.inputBg,color:R.cardText,boxSizing:"border-box"}})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:R.labelText,marginBottom:"0.5rem"},children:"Reactance (X) in Ohms"}),n.jsx("input",{type:"number",value:F,onChange:U=>O(U.target.value),placeholder:"Enter reactance",style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${R.inputBorder}`,borderRadius:"8px",backgroundColor:R.inputBg,color:R.cardText,boxSizing:"border-box"}})]})]})]}),Q&&n.jsx("div",{children:n.jsxs("div",{style:{background:R.cardBg,border:`1px solid ${R.cardBorder}`,borderRadius:"12px",padding:"1.5rem",marginBottom:"1rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[n.jsx("h3",{style:{fontSize:"1rem",fontWeight:"600",color:R.cardText,marginTop:0,marginBottom:"1rem"},children:"Results"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"1rem",marginBottom:"1rem"},children:[n.jsxs("div",{style:{background:"#dbeafe",padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:"#1e40af",marginBottom:"0.25rem"},children:"Impedance (Z)"}),n.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:"#1e40af"},children:Q.impedance}),n.jsx("div",{style:{fontSize:"0.75rem",color:"#1e40af",marginTop:"0.25rem"},children:"Ohms ()"})]}),n.jsxs("div",{style:{background:R.sectionBg,padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:R.labelText,marginBottom:"0.25rem"},children:"Phase Angle ()"}),n.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:R.cardText},children:[Q.angle,""]}),n.jsx("div",{style:{fontSize:"0.75rem",color:R.labelText,marginTop:"0.25rem"},children:B==="inductive"?"Leading":"Lagging"})]})]}),n.jsxs("div",{style:{background:R.sectionBg,padding:"1rem",borderRadius:"8px",border:`1px solid ${R.cardBorder}`},children:[n.jsx("div",{style:{fontSize:"0.875rem",color:R.labelText,marginBottom:"0.5rem"},children:n.jsx("strong",{style:{color:R.cardText},children:"Circuit Values:"})}),n.jsxs("div",{style:{fontSize:"0.8125rem",color:R.labelText,display:"grid",gap:"0.25rem"},children:[n.jsxs("div",{children:["Resistance (R): ",Q.resistance," "]}),n.jsxs("div",{children:["Reactance (X): ",Q.reactance,"  (",Q.type,")"]}),n.jsx("div",{style:{marginTop:"0.5rem",fontStyle:"italic",color:R.subtleText},children:"Formula: Z = (R + X)"}),n.jsx("div",{style:{fontStyle:"italic",color:R.subtleText},children:"Phase Angle:  = arctan(X / R)"})]})]})]})})]}),e==="resonance"&&n.jsxs("div",{children:[n.jsxs("div",{style:{background:R.cardBg,border:`1px solid ${R.cardBorder}`,borderRadius:"12px",padding:"1.5rem",marginBottom:"1rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[n.jsx("h3",{style:{fontSize:"1rem",fontWeight:"600",color:R.cardText,marginTop:0,marginBottom:"1rem",borderBottom:`1px solid ${R.cardBorder}`,paddingBottom:"0.5rem"},children:"LC Circuit Parameters"}),n.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:R.labelText,marginBottom:"0.5rem"},children:"Inductance"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr",gap:"0.5rem"},children:[n.jsx("input",{type:"number",value:ee,onChange:U=>ce(U.target.value),placeholder:"Enter value",style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${R.inputBorder}`,borderRadius:"8px",backgroundColor:R.inputBg,color:R.cardText,boxSizing:"border-box"}}),n.jsxs("select",{value:W,onChange:U=>I(U.target.value),style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${R.inputBorder}`,borderRadius:"8px",backgroundColor:R.inputBg,color:R.cardText,boxSizing:"border-box"},children:[n.jsx("option",{value:"H",children:"H"}),n.jsx("option",{value:"mH",children:"mH"}),n.jsx("option",{value:"H",children:"H"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:R.labelText,marginBottom:"0.5rem"},children:"Capacitance"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr",gap:"0.5rem"},children:[n.jsx("input",{type:"number",value:J,onChange:U=>D(U.target.value),placeholder:"Enter value",style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${R.inputBorder}`,borderRadius:"8px",backgroundColor:R.inputBg,color:R.cardText,boxSizing:"border-box"}}),n.jsxs("select",{value:k,onChange:U=>X(U.target.value),style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${R.inputBorder}`,borderRadius:"8px",backgroundColor:R.inputBg,color:R.cardText,boxSizing:"border-box"},children:[n.jsx("option",{value:"F",children:"F"}),n.jsx("option",{value:"F",children:"F"}),n.jsx("option",{value:"nF",children:"nF"}),n.jsx("option",{value:"pF",children:"pF"})]})]})]})]})]}),L&&n.jsxs("div",{children:[n.jsxs("div",{style:{background:R.cardBg,border:`1px solid ${R.cardBorder}`,borderRadius:"12px",padding:"1.5rem",marginBottom:"1rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[n.jsx("h3",{style:{fontSize:"1rem",fontWeight:"600",color:R.cardText,marginTop:0,marginBottom:"1rem"},children:"Results"}),n.jsxs("div",{style:{background:"#dbeafe",padding:"1rem",borderRadius:"8px",textAlign:"center",marginBottom:"1rem"},children:[n.jsxs("div",{style:{fontSize:"0.875rem",color:"#1e40af",marginBottom:"0.5rem",fontWeight:"600"},children:["Resonant Frequency (f",n.jsx("sub",{children:"r"}),")"]}),n.jsx("div",{style:{fontSize:"2.5rem",fontWeight:"700",color:"#1e40af"},children:L.frequency}),n.jsx("div",{style:{fontSize:"0.875rem",color:"#1e40af",marginTop:"0.25rem"},children:"Hertz (Hz)"})]}),n.jsxs("div",{style:{background:R.sectionBg,padding:"1rem",borderRadius:"8px",border:`1px solid ${R.cardBorder}`},children:[n.jsx("div",{style:{fontSize:"0.875rem",color:R.labelText,marginBottom:"0.5rem"},children:n.jsx("strong",{style:{color:R.cardText},children:"Circuit Values:"})}),n.jsxs("div",{style:{fontSize:"0.8125rem",color:R.labelText,display:"grid",gap:"0.25rem"},children:[n.jsxs("div",{children:["Inductance: ",L.inductance," ",L.inductanceUnit]}),n.jsxs("div",{children:["Capacitance: ",L.capacitance," ",L.capacitanceUnit]}),n.jsxs("div",{style:{marginTop:"0.5rem",fontStyle:"italic",color:R.subtleText},children:["Formula: f",n.jsx("sub",{children:"r"})," = 1 / (2LC)"]})]})]})]}),n.jsx("div",{style:{background:"#dbeafe",border:"1px solid #3b82f6",borderRadius:"8px",padding:"1rem"},children:n.jsxs("div",{style:{display:"flex",alignItems:"start",gap:"0.75rem"},children:[n.jsx(co,{size:20,color:"#1e40af",style:{flexShrink:0,marginTop:"0.125rem"}}),n.jsxs("div",{style:{fontSize:"0.875rem",color:"#1e40af",lineHeight:"1.5"},children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"0.25rem"},children:"About Resonant Frequency:"}),n.jsx("div",{style:{fontSize:"0.8125rem"},children:"At resonance, inductive and capacitive reactances are equal and opposite, resulting in minimum impedance in series circuits and maximum impedance in parallel circuits."})]})]})})]})]}),n.jsxs("div",{style:{background:R.sectionBg,padding:"1rem",borderRadius:"8px",border:`1px solid ${R.cardBorder}`,fontSize:"0.8125rem",color:R.labelText},children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"0.5rem",color:R.cardText},children:"Key Concepts:"}),"X",n.jsx("sub",{children:"L"})," increases with frequency  X",n.jsx("sub",{children:"C"})," decreases with frequency  At resonance X",n.jsx("sub",{children:"L"})," = X",n.jsx("sub",{children:"C"}),"  Impedance combines resistance and reactance"]})]})}),zb=ve.forwardRef(({isDarkMode:r=!1},t)=>{const[e,a]=ve.useState("correction"),[s,l]=ve.useState(""),[d,u]=ve.useState("480"),[m,p]=ve.useState(""),[y,j]=ve.useState("0.95"),[_,x]=ve.useState("60"),[P,A]=ve.useState(""),[C,S]=ve.useState(""),[F,O]=ve.useState("0.95"),[B,H]=ve.useState(""),[ee,ce]=ve.useState(""),[W,I]=ve.useState("8760"),[J,D]=ve.useState(""),k={cardBg:r?"#374151":"#ffffff",cardBorder:r?"#4b5563":"#e5e7eb",cardText:r?"#f9fafb":"#111827",labelText:r?"#d1d5db":"#374151",inputBg:r?"#1f2937":"#ffffff",inputBorder:r?"#4b5563":"#d1d5db",sectionBg:r?"#1f2937":"#f9fafb",subtleText:r?"#9ca3af":"#6b7280"},X=()=>{if(!s||!m)return null;const de=parseFloat(s),oe=parseFloat(m),be=parseFloat(y),je=parseFloat(d),Q=parseFloat(_),L=Math.acos(oe),U=Math.acos(be),M=de*Math.tan(L),K=de*Math.tan(U),ae=M-K,he=ae*1e9/(2*Math.PI*Q*je*je),pe=de/oe,ue=de/be,Te=pe*1e3/(Math.sqrt(3)*je),Oe=ue*1e3/(Math.sqrt(3)*je),We=(Te-Oe)/Te*100;return{kVAR:ae.toFixed(2),capacitance:he.toFixed(2),existingApparentPower:pe.toFixed(2),correctedApparentPower:ue.toFixed(2),powerReduction:((pe-ue)/pe*100).toFixed(1),existingCurrent:Te.toFixed(2),correctedCurrent:Oe.toFixed(2),currentReduction:We.toFixed(1),existingPF:(oe*100).toFixed(1),targetPF:(be*100).toFixed(1)}},R=()=>{if(!P||!C||!B)return null;const de=parseFloat(P),oe=parseFloat(C),be=parseFloat(F),je=parseFloat(B),Q=parseFloat(ee)||0,L=parseFloat(W),U=parseFloat(J)||0,M=de/oe,K=de/be,Z=M-K,ae=Z*je,pe=(be-oe)*100*.01,ue=de*L*(pe/100)*Q,Te=U*12,Oe=ae*12,We=Oe+ue+Te,Le=Math.acos(oe),ne=Math.acos(be),Ye=de*(Math.tan(Le)-Math.tan(ne)),Ke=Ye*75,Je=We>0?Ke/We*12:0;return{kVAReduction:Z.toFixed(2),monthlyDemandSavings:ae.toFixed(2),annualDemandSavings:Oe.toFixed(2),annualEnergySavings:ue.toFixed(2),annualPenaltySavings:Te.toFixed(2),totalAnnualSavings:We.toFixed(2),kVARRequired:Ye.toFixed(2),estimatedCost:Ke.toFixed(2),paybackMonths:Je.toFixed(1),paybackYears:(Je/12).toFixed(1),fiveYearSavings:(We*5-Ke).toFixed(2)}},se=X(),xe=R();return ve.useImperativeHandle(t,()=>({exportPDF:()=>{if(e==="correction"){if(!s||!m){alert("Please enter all required values before exporting to PDF");return}const de={calculatorName:"Power Factor Correction - Capacitor Sizing",inputs:{"Real Power":`${s} kW`,"System Voltage":`${d}V`,"Existing Power Factor":m,"Target Power Factor":y,Frequency:`${_} Hz`},results:{"Required Capacitor Size":`${se.kVAR} kVAR`,"Capacitance per Phase":`${se.capacitance} F`,"Power Factor Before":`${se.existingPF}%`,"Power Factor After":`${se.targetPF}%`,"Apparent Power Before":`${se.existingApparentPower} kVA`,"Apparent Power After":`${se.correctedApparentPower} kVA`,"Apparent Power Reduction":`${se.powerReduction}%`,"Line Current Before":`${se.existingCurrent} A`,"Line Current After":`${se.correctedCurrent} A`,"Current Reduction":`${se.currentReduction}%`},additionalInfo:{Benefits:"Power factor correction reduces utility demand charges, lowers line losses and voltage drop, increases system capacity, reduces equipment heating, and improves voltage regulation."},necReferences:["NEC Article 460 - Capacitors","NEC 460.8 - Conductors supplying capacitors shall have an ampacity of not less than 135% of the rated current of the capacitor","NEC 460.9 - Rating or Setting of Motor Overload Device"]};Er(de)}else if(e==="savings"){if(!P||!C||!B){alert("Please enter all required values before exporting to PDF");return}const de={calculatorName:"Power Factor Correction - Cost Savings Analysis",inputs:{"Real Power":`${P} kW`,"Operating Hours per Year":W,"Existing Power Factor":C,"Target Power Factor":F,"Demand Charge":`$${B}/kVA/month`,"Energy Rate":ee?`$${ee}/kWh`:"Not specified","Monthly PF Penalty":J?`$${J}/month`:"None"},results:{"Total Annual Savings":`$${xe.totalAnnualSavings}/year`,"Monthly Demand Savings":`$${xe.monthlyDemandSavings}/month`,"Annual Demand Savings":`$${xe.annualDemandSavings}/year`,"Annual Energy Savings":`$${xe.annualEnergySavings}/year`,"Annual Penalty Savings":`$${xe.annualPenaltySavings}/year`,"kVA Reduction":`${xe.kVAReduction} kVA`,"Required Capacitor Size":`${xe.kVARRequired} kVAR`,"Estimated Equipment Cost":`$${xe.estimatedCost}`,"Payback Period":`${xe.paybackMonths} months (${xe.paybackYears} years)`,"5-Year Net Savings":`$${xe.fiveYearSavings}`},additionalInfo:{"Cost Basis":"Estimated at $75 per kVAR installed","Savings Note":"Actual costs and savings may vary based on equipment selection, installation costs, utility rate structures, and load profiles"},necReferences:["NEC Article 460 - Capacitors","NEC 460.8 - Conductors supplying capacitors shall have an ampacity of not less than 135% of the rated current of the capacitor","IEEE Std 18-2012 - Standard for Shunt Power Capacitors"]};Er(de)}}})),n.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto"},children:[n.jsx("div",{style:{background:k.cardBg,border:`1px solid ${k.cardBorder}`,borderRadius:"12px",padding:"1rem",marginBottom:"1rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:n.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[n.jsx("button",{onClick:()=>a("correction"),style:{flex:"1 1 auto",minWidth:"140px",padding:"0.75rem 1rem",background:e==="correction"?"#3b82f6":"transparent",color:e==="correction"?"white":k.labelText,border:`1px solid ${e==="correction"?"#3b82f6":k.cardBorder}`,borderRadius:"8px",cursor:"pointer",fontSize:"0.875rem",fontWeight:"600",transition:"all 0.2s"},children:"Capacitor Sizing"}),n.jsx("button",{onClick:()=>a("savings"),style:{flex:"1 1 auto",minWidth:"140px",padding:"0.75rem 1rem",background:e==="savings"?"#3b82f6":"transparent",color:e==="savings"?"white":k.labelText,border:`1px solid ${e==="savings"?"#3b82f6":k.cardBorder}`,borderRadius:"8px",cursor:"pointer",fontSize:"0.875rem",fontWeight:"600",transition:"all 0.2s"},children:"Cost Savings"})]})}),e==="correction"?n.jsxs("div",{children:[n.jsxs("div",{style:{background:k.cardBg,border:`1px solid ${k.cardBorder}`,borderRadius:"12px",padding:"1.5rem",marginBottom:"1rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[n.jsx("h3",{style:{fontSize:"1rem",fontWeight:"600",color:k.cardText,marginTop:0,marginBottom:"1rem",borderBottom:`1px solid ${k.cardBorder}`,paddingBottom:"0.5rem"},children:"System Parameters"}),n.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"1rem"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:k.labelText,marginBottom:"0.5rem"},children:"Real Power (kW)"}),n.jsx("input",{type:"number",value:s,onChange:de=>l(de.target.value),placeholder:"Enter load",style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${k.inputBorder}`,borderRadius:"8px",backgroundColor:k.inputBg,color:k.cardText,boxSizing:"border-box"}})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:k.labelText,marginBottom:"0.5rem"},children:"System Voltage (V)"}),n.jsxs("select",{value:d,onChange:de=>u(de.target.value),style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${k.inputBorder}`,borderRadius:"8px",backgroundColor:k.inputBg,color:k.cardText,boxSizing:"border-box"},children:[n.jsx("option",{value:"208",children:"208V"}),n.jsx("option",{value:"240",children:"240V"}),n.jsx("option",{value:"480",children:"480V"}),n.jsx("option",{value:"600",children:"600V"})]})]})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"1rem"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:k.labelText,marginBottom:"0.5rem"},children:"Existing Power Factor"}),n.jsx("input",{type:"number",value:m,onChange:de=>p(de.target.value),placeholder:"0.70 - 0.99",step:"0.01",min:"0.5",max:"1",style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${k.inputBorder}`,borderRadius:"8px",backgroundColor:k.inputBg,color:k.cardText,boxSizing:"border-box"}}),n.jsx("div",{style:{fontSize:"0.75rem",color:k.subtleText,marginTop:"0.25rem"},children:"Current (uncorrected)"})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:k.labelText,marginBottom:"0.5rem"},children:"Target Power Factor"}),n.jsxs("select",{value:y,onChange:de=>j(de.target.value),style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${k.inputBorder}`,borderRadius:"8px",backgroundColor:k.inputBg,color:k.cardText,boxSizing:"border-box"},children:[n.jsx("option",{value:"0.90",children:"0.90 (90%)"}),n.jsx("option",{value:"0.95",children:"0.95 (95%) - Recommended"}),n.jsx("option",{value:"0.98",children:"0.98 (98%)"}),n.jsx("option",{value:"0.99",children:"0.99 (99%)"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:k.labelText,marginBottom:"0.5rem"},children:"Frequency (Hz)"}),n.jsxs("select",{value:_,onChange:de=>x(de.target.value),style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${k.inputBorder}`,borderRadius:"8px",backgroundColor:k.inputBg,color:k.cardText,boxSizing:"border-box"},children:[n.jsx("option",{value:"50",children:"50 Hz"}),n.jsx("option",{value:"60",children:"60 Hz"})]})]})]})]}),se&&n.jsxs("div",{children:[n.jsxs("div",{style:{background:k.cardBg,border:`1px solid ${k.cardBorder}`,borderRadius:"12px",padding:"1.5rem",marginBottom:"1rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[n.jsx("h3",{style:{fontSize:"1rem",fontWeight:"600",color:k.cardText,marginTop:0,marginBottom:"1rem"},children:"Required Capacitor Bank"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"1rem",marginBottom:"1rem"},children:[n.jsxs("div",{style:{background:"#dbeafe",padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:"#1e40af",marginBottom:"0.25rem"},children:"Capacitor Size"}),n.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:"#1e40af"},children:se.kVAR}),n.jsx("div",{style:{fontSize:"0.75rem",color:"#1e40af",marginTop:"0.25rem"},children:"kVAR"})]}),n.jsxs("div",{style:{background:k.sectionBg,padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:k.labelText,marginBottom:"0.25rem"},children:"Capacitance"}),n.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:k.cardText},children:se.capacitance}),n.jsx("div",{style:{fontSize:"0.75rem",color:k.labelText,marginTop:"0.25rem"},children:"F per phase"})]})]}),n.jsxs("div",{style:{background:k.sectionBg,padding:"1rem",borderRadius:"8px",border:`1px solid ${k.cardBorder}`},children:[n.jsx("div",{style:{fontSize:"0.875rem",color:k.labelText,marginBottom:"0.5rem"},children:n.jsx("strong",{style:{color:k.cardText},children:"Power Factor Improvement:"})}),n.jsxs("div",{style:{fontSize:"0.8125rem",color:k.labelText,display:"grid",gap:"0.25rem"},children:[n.jsxs("div",{children:["From: ",se.existingPF,"%  To: ",se.targetPF,"%"]}),n.jsxs("div",{children:["Real Power: ",s," kW (constant)"]}),n.jsxs("div",{children:["System Voltage: ",d,"V, ",_," Hz"]})]})]})]}),n.jsxs("div",{style:{background:k.cardBg,border:`1px solid ${k.cardBorder}`,borderRadius:"12px",padding:"1.5rem",marginBottom:"1rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[n.jsx("h3",{style:{fontSize:"1rem",fontWeight:"600",color:k.cardText,marginTop:0,marginBottom:"1rem"},children:"System Improvements"}),n.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[n.jsxs("div",{style:{background:k.sectionBg,padding:"1rem",borderRadius:"8px",border:`1px solid ${k.cardBorder}`},children:[n.jsx("div",{style:{fontSize:"0.875rem",fontWeight:"600",color:k.cardText,marginBottom:"0.5rem"},children:"Apparent Power Reduction"}),n.jsxs("div",{style:{fontSize:"0.8125rem",color:k.labelText,display:"grid",gap:"0.25rem"},children:[n.jsxs("div",{children:["Before: ",se.existingApparentPower," kVA"]}),n.jsxs("div",{children:["After: ",se.correctedApparentPower," kVA"]}),n.jsxs("div",{style:{fontSize:"0.875rem",fontWeight:"600",color:"#059669",marginTop:"0.25rem"},children:["Reduction: ",se.powerReduction,"%"]})]})]}),n.jsxs("div",{style:{background:k.sectionBg,padding:"1rem",borderRadius:"8px",border:`1px solid ${k.cardBorder}`},children:[n.jsx("div",{style:{fontSize:"0.875rem",fontWeight:"600",color:k.cardText,marginBottom:"0.5rem"},children:"Line Current Reduction"}),n.jsxs("div",{style:{fontSize:"0.8125rem",color:k.labelText,display:"grid",gap:"0.25rem"},children:[n.jsxs("div",{children:["Before: ",se.existingCurrent," A"]}),n.jsxs("div",{children:["After: ",se.correctedCurrent," A"]}),n.jsxs("div",{style:{fontSize:"0.875rem",fontWeight:"600",color:"#059669",marginTop:"0.25rem"},children:["Reduction: ",se.currentReduction,"%"]})]})]})]})]}),n.jsx("div",{style:{background:"#d1fae5",border:"1px solid #6ee7b7",borderRadius:"8px",padding:"1rem"},children:n.jsxs("div",{style:{display:"flex",alignItems:"start",gap:"0.75rem"},children:[n.jsx(sx,{size:20,color:"#059669",style:{flexShrink:0,marginTop:"0.125rem"}}),n.jsxs("div",{style:{fontSize:"0.875rem",color:"#047857",lineHeight:"1.5"},children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"0.5rem"},children:"Benefits of Power Factor Correction:"}),n.jsxs("ul",{style:{margin:0,paddingLeft:"1.25rem",fontSize:"0.8125rem"},children:[n.jsx("li",{style:{marginBottom:"0.25rem"},children:"Reduced utility demand charges"}),n.jsx("li",{style:{marginBottom:"0.25rem"},children:"Lower line losses and voltage drop"}),n.jsx("li",{style:{marginBottom:"0.25rem"},children:"Increased system capacity"}),n.jsx("li",{style:{marginBottom:"0.25rem"},children:"Reduced equipment heating"}),n.jsx("li",{children:"Improved voltage regulation"})]})]})]})})]})]}):n.jsxs("div",{children:[n.jsxs("div",{style:{background:k.cardBg,border:`1px solid ${k.cardBorder}`,borderRadius:"12px",padding:"1.5rem",marginBottom:"1rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[n.jsx("h3",{style:{fontSize:"1rem",fontWeight:"600",color:k.cardText,marginTop:0,marginBottom:"1rem",borderBottom:`1px solid ${k.cardBorder}`,paddingBottom:"0.5rem"},children:"Load & Power Factor"}),n.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"1rem"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:k.labelText,marginBottom:"0.5rem"},children:"Real Power (kW)"}),n.jsx("input",{type:"number",value:P,onChange:de=>A(de.target.value),placeholder:"Enter load",style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${k.inputBorder}`,borderRadius:"8px",backgroundColor:k.inputBg,color:k.cardText,boxSizing:"border-box"}})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:k.labelText,marginBottom:"0.5rem"},children:"Operating Hours/Year"}),n.jsx("input",{type:"number",value:W,onChange:de=>I(de.target.value),placeholder:"8760",style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${k.inputBorder}`,borderRadius:"8px",backgroundColor:k.inputBg,color:k.cardText,boxSizing:"border-box"}}),n.jsx("div",{style:{fontSize:"0.75rem",color:k.subtleText,marginTop:"0.25rem"},children:"8760 = 24/7 operation"})]})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"1rem"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:k.labelText,marginBottom:"0.5rem"},children:"Existing Power Factor"}),n.jsx("input",{type:"number",value:C,onChange:de=>S(de.target.value),placeholder:"0.70 - 0.99",step:"0.01",min:"0.5",max:"1",style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${k.inputBorder}`,borderRadius:"8px",backgroundColor:k.inputBg,color:k.cardText,boxSizing:"border-box"}})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:k.labelText,marginBottom:"0.5rem"},children:"Target Power Factor"}),n.jsxs("select",{value:F,onChange:de=>O(de.target.value),style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${k.inputBorder}`,borderRadius:"8px",backgroundColor:k.inputBg,color:k.cardText,boxSizing:"border-box"},children:[n.jsx("option",{value:"0.90",children:"0.90 (90%)"}),n.jsx("option",{value:"0.95",children:"0.95 (95%)"}),n.jsx("option",{value:"0.98",children:"0.98 (98%)"})]})]})]})]})]}),n.jsxs("div",{style:{background:k.cardBg,border:`1px solid ${k.cardBorder}`,borderRadius:"12px",padding:"1.5rem",marginBottom:"1rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[n.jsx("h3",{style:{fontSize:"1rem",fontWeight:"600",color:k.cardText,marginTop:0,marginBottom:"1rem",borderBottom:`1px solid ${k.cardBorder}`,paddingBottom:"0.5rem"},children:"Utility Rates"}),n.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:k.labelText,marginBottom:"0.5rem"},children:"Demand Charge ($/kVA/month)"}),n.jsx("input",{type:"number",value:B,onChange:de=>H(de.target.value),placeholder:"10 - 25",step:"0.01",style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${k.inputBorder}`,borderRadius:"8px",backgroundColor:k.inputBg,color:k.cardText,boxSizing:"border-box"}}),n.jsx("div",{style:{fontSize:"0.75rem",color:k.subtleText,marginTop:"0.25rem"},children:"Check your utility bill"})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:k.labelText,marginBottom:"0.5rem"},children:"Energy Rate ($/kWh) - Optional"}),n.jsx("input",{type:"number",value:ee,onChange:de=>ce(de.target.value),placeholder:"0.08 - 0.15",step:"0.001",style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${k.inputBorder}`,borderRadius:"8px",backgroundColor:k.inputBg,color:k.cardText,boxSizing:"border-box"}}),n.jsx("div",{style:{fontSize:"0.75rem",color:k.subtleText,marginTop:"0.25rem"},children:"For energy loss savings"})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:k.labelText,marginBottom:"0.5rem"},children:"Monthly PF Penalty ($/month) - Optional"}),n.jsx("input",{type:"number",value:J,onChange:de=>D(de.target.value),placeholder:"0",style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${k.inputBorder}`,borderRadius:"8px",backgroundColor:k.inputBg,color:k.cardText,boxSizing:"border-box"}}),n.jsx("div",{style:{fontSize:"0.75rem",color:k.subtleText,marginTop:"0.25rem"},children:"If utility charges PF penalty"})]})]})]}),xe&&n.jsxs("div",{children:[n.jsxs("div",{style:{background:k.cardBg,border:`1px solid ${k.cardBorder}`,borderRadius:"12px",padding:"1.5rem",marginBottom:"1rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[n.jsx("h3",{style:{fontSize:"1rem",fontWeight:"600",color:k.cardText,marginTop:0,marginBottom:"1rem"},children:"Annual Cost Savings"}),n.jsxs("div",{style:{background:"#d1fae5",padding:"1rem",borderRadius:"8px",textAlign:"center",marginBottom:"1rem"},children:[n.jsx("div",{style:{fontSize:"0.875rem",color:"#059669",marginBottom:"0.5rem",fontWeight:"600"},children:"Total Annual Savings"}),n.jsxs("div",{style:{fontSize:"2.5rem",fontWeight:"700",color:"#059669"},children:["$",xe.totalAnnualSavings]}),n.jsx("div",{style:{fontSize:"0.875rem",color:"#059669",marginTop:"0.25rem"},children:"per year"})]}),n.jsxs("div",{style:{background:k.sectionBg,padding:"1rem",borderRadius:"8px",border:`1px solid ${k.cardBorder}`},children:[n.jsx("div",{style:{fontSize:"0.875rem",color:k.labelText,marginBottom:"0.5rem"},children:n.jsx("strong",{style:{color:k.cardText},children:"Savings Breakdown:"})}),n.jsxs("div",{style:{fontSize:"0.8125rem",color:k.labelText,display:"grid",gap:"0.25rem"},children:[n.jsxs("div",{children:["Demand Charge Savings: $",xe.annualDemandSavings,"/year"]}),parseFloat(xe.annualEnergySavings)>0&&n.jsxs("div",{children:["Energy Loss Savings: $",xe.annualEnergySavings,"/year"]}),parseFloat(xe.annualPenaltySavings)>0&&n.jsxs("div",{children:["Penalty Elimination: $",xe.annualPenaltySavings,"/year"]}),n.jsxs("div",{style:{marginTop:"0.5rem",paddingTop:"0.5rem",borderTop:`1px solid ${k.cardBorder}`},children:["kVA Reduction: ",xe.kVAReduction," kVA"]})]})]})]}),n.jsxs("div",{style:{background:k.cardBg,border:`1px solid ${k.cardBorder}`,borderRadius:"12px",padding:"1.5rem",marginBottom:"1rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[n.jsx("h3",{style:{fontSize:"1rem",fontWeight:"600",color:k.cardText,marginTop:0,marginBottom:"1rem"},children:"Return on Investment"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"1rem",marginBottom:"1rem"},children:[n.jsxs("div",{style:{background:k.sectionBg,padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:k.labelText,marginBottom:"0.25rem"},children:"Estimated Cost"}),n.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:k.cardText},children:["$",xe.estimatedCost]}),n.jsxs("div",{style:{fontSize:"0.75rem",color:k.labelText,marginTop:"0.25rem"},children:[xe.kVARRequired," kVAR @ $75/kVAR"]})]}),n.jsxs("div",{style:{background:"#dbeafe",padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:"#1e40af",marginBottom:"0.25rem"},children:"Payback Period"}),n.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:"#1e40af"},children:xe.paybackMonths}),n.jsxs("div",{style:{fontSize:"0.75rem",color:"#1e40af",marginTop:"0.25rem"},children:["months (",xe.paybackYears," years)"]})]})]}),n.jsx("div",{style:{background:k.sectionBg,padding:"1rem",borderRadius:"8px",border:`1px solid ${k.cardBorder}`},children:n.jsxs("div",{style:{fontSize:"0.875rem",color:k.labelText,display:"grid",gap:"0.25rem"},children:[n.jsx("div",{children:n.jsx("strong",{style:{color:k.cardText},children:"5-Year Net Savings:"})}),n.jsxs("div",{style:{fontSize:"1.25rem",fontWeight:"700",color:"#059669",marginTop:"0.25rem"},children:["$",xe.fiveYearSavings]}),n.jsx("div",{style:{fontSize:"0.8125rem",color:k.subtleText,marginTop:"0.25rem"},children:"Total savings minus initial investment"})]})})]}),n.jsx("div",{style:{background:"#dbeafe",border:"1px solid #3b82f6",borderRadius:"8px",padding:"1rem"},children:n.jsxs("div",{style:{display:"flex",alignItems:"start",gap:"0.75rem"},children:[n.jsx(co,{size:20,color:"#1e40af",style:{flexShrink:0,marginTop:"0.125rem"}}),n.jsxs("div",{style:{fontSize:"0.875rem",color:"#1e40af",lineHeight:"1.5"},children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"0.25rem"},children:"Note:"}),n.jsx("div",{style:{fontSize:"0.8125rem"},children:"Actual costs and savings may vary based on equipment selection, installation costs, utility rate structures, and load profiles. Consult with a qualified electrical engineer for detailed analysis."})]})]})})]})]}),n.jsxs("div",{style:{background:k.sectionBg,padding:"1rem",borderRadius:"8px",border:`1px solid ${k.cardBorder}`,fontSize:"0.8125rem",color:k.labelText},children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"0.5rem",color:k.cardText},children:"Power Factor Basics:"}),"PF = Real Power (kW)  Apparent Power (kVA)  Low PF causes higher current and utility charges  Target 0.95+ for optimal efficiency  Capacitors supply reactive power locally"]})]})}),Fb=ve.forwardRef(({isDarkMode:r=!1,onBack:t},e)=>{const[a,s]=ve.useState("from-kw-pf"),[l,d]=ve.useState(""),[u,m]=ve.useState(""),[p,y]=ve.useState(""),[j,_]=ve.useState(""),[x,P]=ve.useState("lagging"),A={cardBg:r?"#374151":"#ffffff",cardBorder:r?"#4b5563":"#e5e7eb",cardText:r?"#f9fafb":"#111827",labelText:r?"#d1d5db":"#374151",inputBg:r?"#1f2937":"#ffffff",inputBorder:r?"#4b5563":"#d1d5db",sectionBg:r?"#1f2937":"#f9fafb",subtleText:r?"#9ca3af":"#6b7280"},S=(()=>{let O=0,B=0,H=0,ee=0,ce=0;switch(a){case"from-kw-pf":if(!l||!j)return null;O=parseFloat(l),ee=parseFloat(j),H=O/ee,ce=Math.acos(ee)*(180/Math.PI),B=H*Math.sin(Math.acos(ee)),x==="leading"&&(B=-B);break;case"from-kw-kvar":if(!l||!u)return null;O=parseFloat(l),B=parseFloat(u),x==="leading"&&(B=-Math.abs(B)),H=Math.sqrt(Math.pow(O,2)+Math.pow(B,2)),ee=O/H,ce=Math.atan(Math.abs(B)/O)*(180/Math.PI);break;case"from-kva-pf":if(!p||!j)return null;H=parseFloat(p),ee=parseFloat(j),O=H*ee,ce=Math.acos(ee)*(180/Math.PI),B=H*Math.sin(Math.acos(ee)),x==="leading"&&(B=-B);break;case"from-kva-kw":if(!p||!l||(H=parseFloat(p),O=parseFloat(l),O>H))return null;ee=O/H,ce=Math.acos(ee)*(180/Math.PI),B=Math.sqrt(Math.pow(H,2)-Math.pow(O,2)),x==="leading"&&(B=-B);break;default:return null}return{kW:O,kVAR:B,kVA:H,powerFactor:ee,angle:ce,isLeading:x==="leading"}})(),F=O=>{const B=Math.abs(O);return B>=.95?{quality:"Excellent",color:"#10b981",bg:"#d1fae5",border:"#6ee7b7"}:B>=.9?{quality:"Good",color:"#3b82f6",bg:"#dbeafe",border:"#93c5fd"}:B>=.85?{quality:"Fair",color:"#f59e0b",bg:"#fef3c7",border:"#fcd34d"}:{quality:"Poor",color:"#ef4444",bg:"#fee2e2",border:"#fca5a5"}};return ve.useImperativeHandle(e,()=>({exportPDF:()=>{if(!S){alert("Please enter values before exporting to PDF");return}const O=F(S.powerFactor),H={calculatorName:"Power Triangle Calculator",inputs:{calculationMode:{"from-kw-pf":"Real Power (kW) and Power Factor","from-kw-kvar":"Real Power (kW) and Reactive Power (kVAR)","from-kva-pf":"Apparent Power (kVA) and Power Factor","from-kva-kw":"Apparent Power (kVA) and Real Power (kW)"}[a],...l&&{realPower:`${l} kW`},...u&&{reactivePower:`${u} kVAR`},...p&&{apparentPower:`${p} kVA`},...j&&{powerFactor:j},reactiveType:x==="leading"?"Leading (Capacitive)":"Lagging (Inductive)"},results:{realPower:`${S.kW.toFixed(2)} kW`,reactivePower:`${Math.abs(S.kVAR).toFixed(2)} kVAR (${S.isLeading?"Leading":"Lagging"})`,apparentPower:`${S.kVA.toFixed(2)} kVA`,powerFactor:`${S.powerFactor.toFixed(4)} ${S.isLeading?"(Leading)":"(Lagging)"}`,phaseAngle:`${S.angle.toFixed(2)}`,powerFactorQuality:O.quality},additionalInfo:{powerTriangleRelationship:"kVA = kW + kVAR",powerFactorFormula:"PF = kW  kVA = cos()",reactivePowerFormula:"kVAR = kVA  sin()",phaseAngleFormula:" = arccos(PF)",leadingVsLagging:S.isLeading?"Leading PF: Current leads voltage (capacitive loads)":"Lagging PF: Current lags voltage (inductive loads - most common)"},necReferences:["Power Factor: Ratio of real power to apparent power","Leading PF (capacitive): Synchronous motors, over-excited generators, capacitor banks","Lagging PF (inductive): Most common - motors, transformers, inductive loads","Poor power factor results in: Higher current draw, increased losses, utility penalties","Power factor correction: Add capacitors for lagging PF, add inductors for leading PF","Many utilities charge penalties for power factor below 0.90-0.95"]};Er(H)}})),n.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto"},children:[n.jsxs("div",{style:{background:A.cardBg,border:`1px solid ${A.cardBorder}`,borderRadius:"12px",padding:"1.5rem",marginBottom:"1rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[n.jsx("h3",{style:{fontSize:"1rem",fontWeight:"600",color:A.cardText,marginTop:0,marginBottom:"1rem",borderBottom:`1px solid ${A.cardBorder}`,paddingBottom:"0.5rem"},children:"Calculation Mode"}),n.jsx("div",{style:{display:"grid",gap:"0.5rem"},children:[{value:"from-kw-pf",label:"From kW and Power Factor"},{value:"from-kw-kvar",label:"From kW and kVAR"},{value:"from-kva-pf",label:"From kVA and Power Factor"},{value:"from-kva-kw",label:"From kVA and kW"}].map(O=>n.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.75rem",background:a===O.value?A.sectionBg:"transparent",border:`1px solid ${a===O.value?"#3b82f6":A.cardBorder}`,borderRadius:"8px",cursor:"pointer",transition:"all 0.2s"},onMouseOver:B=>{a!==O.value&&(B.currentTarget.style.background=A.sectionBg)},onMouseOut:B=>{a!==O.value&&(B.currentTarget.style.background="transparent")},children:[n.jsx("input",{type:"radio",name:"calculationMode",value:O.value,checked:a===O.value,onChange:B=>s(B.target.value),style:{width:"1.125rem",height:"1.125rem",cursor:"pointer"}}),n.jsx("span",{style:{fontSize:"0.875rem",fontWeight:"500",color:A.cardText},children:O.label})]},O.value))})]}),n.jsxs("div",{style:{background:A.cardBg,border:`1px solid ${A.cardBorder}`,borderRadius:"12px",padding:"1.5rem",marginBottom:"1rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[n.jsx("h3",{style:{fontSize:"1rem",fontWeight:"600",color:A.cardText,marginTop:0,marginBottom:"1rem",borderBottom:`1px solid ${A.cardBorder}`,paddingBottom:"0.5rem"},children:"Input Values"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"1rem",marginBottom:"1rem"},children:[(a==="from-kw-pf"||a==="from-kw-kvar"||a==="from-kva-kw")&&n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:A.labelText,marginBottom:"0.5rem"},children:"Real Power (kW)"}),n.jsx("input",{type:"number",value:l,onChange:O=>d(O.target.value),placeholder:"Enter kW",step:"0.01",style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${A.inputBorder}`,borderRadius:"8px",backgroundColor:A.inputBg,color:A.cardText,boxSizing:"border-box"}})]}),a==="from-kw-kvar"&&n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:A.labelText,marginBottom:"0.5rem"},children:"Reactive Power (kVAR)"}),n.jsx("input",{type:"number",value:u,onChange:O=>m(O.target.value),placeholder:"Enter kVAR",step:"0.01",style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${A.inputBorder}`,borderRadius:"8px",backgroundColor:A.inputBg,color:A.cardText,boxSizing:"border-box"}})]}),(a==="from-kva-pf"||a==="from-kva-kw")&&n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:A.labelText,marginBottom:"0.5rem"},children:"Apparent Power (kVA)"}),n.jsx("input",{type:"number",value:p,onChange:O=>y(O.target.value),placeholder:"Enter kVA",step:"0.01",style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${A.inputBorder}`,borderRadius:"8px",backgroundColor:A.inputBg,color:A.cardText,boxSizing:"border-box"}})]}),(a==="from-kw-pf"||a==="from-kva-pf")&&n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:A.labelText,marginBottom:"0.5rem"},children:"Power Factor"}),n.jsx("input",{type:"number",value:j,onChange:O=>_(O.target.value),placeholder:"0.00 to 1.00",step:"0.01",min:"0",max:"1",style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${A.inputBorder}`,borderRadius:"8px",backgroundColor:A.inputBg,color:A.cardText,boxSizing:"border-box"}})]})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:A.labelText,marginBottom:"0.5rem"},children:"Reactive Power Type"}),n.jsxs("select",{value:x,onChange:O=>P(O.target.value),style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${A.inputBorder}`,borderRadius:"8px",backgroundColor:A.inputBg,color:A.cardText,boxSizing:"border-box"},children:[n.jsx("option",{value:"lagging",children:"Lagging (Inductive - Most Common)"}),n.jsx("option",{value:"leading",children:"Leading (Capacitive)"})]}),n.jsx("div",{style:{fontSize:"0.75rem",color:A.subtleText,marginTop:"0.25rem"},children:"Inductive: Motors, transformers | Capacitive: Capacitor banks, lightly loaded cables"})]})]}),S&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{style:{background:A.cardBg,border:`1px solid ${A.cardBorder}`,borderRadius:"12px",padding:"1.5rem",marginBottom:"1rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[n.jsx("h3",{style:{fontSize:"1rem",fontWeight:"600",color:A.cardText,marginTop:0,marginBottom:"1rem"},children:"Power Triangle Results"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"1rem",marginBottom:"1rem"},children:[n.jsxs("div",{style:{background:A.sectionBg,padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:A.labelText,marginBottom:"0.25rem"},children:"Real Power (kW)"}),n.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:A.cardText},children:S.kW.toFixed(2)}),n.jsx("div",{style:{fontSize:"0.75rem",color:A.labelText,marginTop:"0.25rem"},children:"Working Power"})]}),n.jsxs("div",{style:{background:A.sectionBg,padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:A.labelText,marginBottom:"0.25rem"},children:"Reactive Power (kVAR)"}),n.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:A.cardText},children:Math.abs(S.kVAR).toFixed(2)}),n.jsx("div",{style:{fontSize:"0.75rem",color:A.labelText,marginTop:"0.25rem"},children:S.isLeading?"Leading":"Lagging"})]}),n.jsxs("div",{style:{background:A.sectionBg,padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:A.labelText,marginBottom:"0.25rem"},children:"Apparent Power (kVA)"}),n.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:A.cardText},children:S.kVA.toFixed(2)}),n.jsx("div",{style:{fontSize:"0.75rem",color:A.labelText,marginTop:"0.25rem"},children:"Total Power"})]})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"1rem"},children:[n.jsxs("div",{style:{background:F(S.powerFactor).bg,border:`1px solid ${F(S.powerFactor).border}`,padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:F(S.powerFactor).color,marginBottom:"0.25rem"},children:"Power Factor"}),n.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:F(S.powerFactor).color},children:S.powerFactor.toFixed(4)}),n.jsx("div",{style:{fontSize:"0.75rem",color:F(S.powerFactor).color,marginTop:"0.25rem"},children:F(S.powerFactor).quality})]}),n.jsxs("div",{style:{background:A.sectionBg,padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:A.labelText,marginBottom:"0.25rem"},children:"Phase Angle ()"}),n.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:A.cardText},children:[S.angle.toFixed(2),""]}),n.jsx("div",{style:{fontSize:"0.75rem",color:A.labelText,marginTop:"0.25rem"},children:"V-I Phase Shift"})]})]})]}),n.jsx("div",{style:{background:A.sectionBg,border:`1px solid ${A.cardBorder}`,borderRadius:"12px",padding:"1rem",marginBottom:"1rem"},children:n.jsxs("div",{style:{display:"flex",alignItems:"start",gap:"0.75rem"},children:[n.jsx(co,{size:20,color:"#3b82f6",style:{flexShrink:0,marginTop:"0.125rem"}}),n.jsxs("div",{style:{fontSize:"0.875rem",color:A.labelText,lineHeight:"1.5"},children:[n.jsx("div",{style:{fontWeight:"600",color:A.cardText,marginBottom:"0.5rem"},children:"Power Triangle Relationships:"}),n.jsxs("div",{style:{display:"grid",gap:"0.25rem"},children:[n.jsx("div",{children:" kVA = kW + kVAR (Pythagorean theorem)"}),n.jsx("div",{children:" Power Factor = kW  kVA = cos()"}),n.jsx("div",{children:" kVAR = kVA  sin()"}),n.jsxs("div",{children:[" ",S.isLeading?"Leading PF: Current leads voltage (capacitive loads)":"Lagging PF: Current lags voltage (inductive loads - most common)"]})]})]})]})}),S.powerFactor<.9&&n.jsx("div",{style:{background:"#fef3c7",border:"1px solid #fcd34d",borderRadius:"12px",padding:"1rem"},children:n.jsxs("div",{style:{display:"flex",alignItems:"start",gap:"0.75rem"},children:[n.jsx(co,{size:20,color:"#d97706",style:{flexShrink:0,marginTop:"0.125rem"}}),n.jsxs("div",{style:{fontSize:"0.875rem",color:"#92400e",lineHeight:"1.5"},children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"0.5rem"},children:"Low Power Factor Alert"}),n.jsxs("div",{children:["Power factor below 0.90 may result in utility penalties and increased energy costs. Consider power factor correction using ",S.isLeading?"inductors (reactors)":"capacitor banks","to improve efficiency and reduce demand charges."]})]})]})})]})]})}),Ob=ve.forwardRef(({isDarkMode:r=!1,onBack:t},e)=>{const[a,s]=ve.useState("find-power"),[l,d]=ve.useState("480"),[u,m]=ve.useState(""),[p,y]=ve.useState("0.85"),[j,_]=ve.useState(""),[x,P]=ve.useState("line-to-line"),[A,C]=ve.useState(""),S={cardBg:r?"#374151":"#ffffff",cardBorder:r?"#4b5563":"#e5e7eb",cardText:r?"#f9fafb":"#111827",labelText:r?"#d1d5db":"#374151",inputBg:r?"#1f2937":"#ffffff",inputBorder:r?"#4b5563":"#d1d5db",sectionBg:r?"#1f2937":"#f9fafb",subtleText:r?"#9ca3af":"#6b7280"},O=(()=>{const B=parseFloat(l),H=parseFloat(u),ee=parseFloat(p),ce=parseFloat(j),W=A?parseFloat(A)/100:1;if(a==="find-power"){if(!l||!u||!p)return null;const I=Math.sqrt(3)*B*H*ee/1e3,J=Math.sqrt(3)*B*H/1e3,D=Math.sqrt(Math.pow(J,2)-Math.pow(I,2));return{kW:I,kVA:J,kVAR:D,current:H,voltage:B,powerFactor:ee,amps:H}}else if(a==="find-current"){if(!l||!j||!p)return null;const I=ce*1e3/(Math.sqrt(3)*B*ee),J=Math.sqrt(3)*B*I/1e3,D=Math.sqrt(Math.pow(J,2)-Math.pow(ce,2));return{kW:ce,kVA:J,kVAR:D,current:I,voltage:B,powerFactor:ee,amps:I}}else if(a==="motor-power"){if(!j||!A)return null;const I=ce/W,J=ce*1.341;let D=0;return l&&p&&(D=I*1e3/(Math.sqrt(3)*B*ee)),{inputKW:I,outputKW:ce,outputHP:J,efficiency:W*100,amps:D,voltage:B,powerFactor:ee}}return null})();return ve.useImperativeHandle(e,()=>({exportPDF:()=>{if(!O){alert("Please enter all required values before exporting to PDF");return}const B={"find-power":"Calculate Power from Voltage & Current","find-current":"Calculate Current from Power & Voltage","motor-power":"Motor Power & Efficiency Calculation"};let H;a==="motor-power"?H={calculatorName:"Three-Phase Power Calculator - Motor",inputs:{calculationMode:B[a],outputPower:`${j} kW`,efficiency:`${A}%`,...l&&{voltage:`${l}V (${x==="line-to-line"?"Line-to-Line":"Line-to-Neutral"})`},...p&&{powerFactor:p}},results:{outputPower:`${O.outputKW.toFixed(2)} kW`,outputPowerHP:`${O.outputHP.toFixed(2)} HP`,inputPower:`${O.inputKW.toFixed(2)} kW`,efficiency:`${O.efficiency.toFixed(1)}%`,...O.amps>0&&{estimatedCurrent:`${O.amps.toFixed(2)} A`}},additionalInfo:{formula:"Input Power = Output Power  Efficiency",hpConversion:"1 kW = 1.341 HP",note:A?`At ${A}% efficiency, motor draws ${O.inputKW.toFixed(2)} kW to produce ${O.outputKW.toFixed(2)} kW output`:""}}:H={calculatorName:"Three-Phase Power Calculator",inputs:{calculationMode:B[a],voltage:`${l}V (${x==="line-to-line"?"Line-to-Line":"Line-to-Neutral"})`,...u&&{current:`${u} A`},...j&&{power:`${j} kW`},powerFactor:p},results:{realPower:`${O.kW.toFixed(2)} kW`,apparentPower:`${O.kVA.toFixed(2)} kVA`,reactivePower:`${O.kVAR.toFixed(2)} kVAR`,current:`${O.amps.toFixed(2)} A`,voltage:`${O.voltage}V`,powerFactor:O.powerFactor},additionalInfo:{powerFormula:"P = 3  V  I  PF (kW)",apparentPowerFormula:"S = 3  V  I (kVA)",currentFormula:"I = P / (3  V  PF)",sqrt3:"3 = 1.732",configuration:x==="line-to-line"?"Line-to-Line (most common)":"Line-to-Neutral",note:"Three-phase systems are more efficient for power transmission and are standard in industrial applications"},necReferences:["Three-phase power: P = 3  VL-L  I  PF","Line-to-Line voltage: Standard between any two phases","Line-to-Neutral voltage: VL-N = VL-L  3","Common voltages: 208V, 240V, 480V, 600V (North America)","Three-phase systems provide constant power delivery","More efficient than single-phase for large loads and motors"]},Er(H)}})),n.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto"},children:[n.jsxs("div",{style:{background:S.cardBg,border:`1px solid ${S.cardBorder}`,borderRadius:"12px",padding:"1.5rem",marginBottom:"1rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[n.jsx("h3",{style:{fontSize:"1rem",fontWeight:"600",color:S.cardText,marginTop:0,marginBottom:"1rem",borderBottom:`1px solid ${S.cardBorder}`,paddingBottom:"0.5rem"},children:"Calculation Mode"}),n.jsx("div",{style:{display:"grid",gap:"0.5rem"},children:[{value:"find-power",label:"Find Power (from Voltage & Current)"},{value:"find-current",label:"Find Current (from Power & Voltage)"},{value:"motor-power",label:"Motor Power & Efficiency"}].map(B=>n.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.75rem",background:a===B.value?S.sectionBg:"transparent",border:`1px solid ${a===B.value?"#3b82f6":S.cardBorder}`,borderRadius:"8px",cursor:"pointer",transition:"all 0.2s"},onMouseOver:H=>{a!==B.value&&(H.currentTarget.style.background=S.sectionBg)},onMouseOut:H=>{a!==B.value&&(H.currentTarget.style.background="transparent")},children:[n.jsx("input",{type:"radio",name:"calculationMode",value:B.value,checked:a===B.value,onChange:H=>s(H.target.value),style:{width:"1.125rem",height:"1.125rem",cursor:"pointer"}}),n.jsx("span",{style:{fontSize:"0.875rem",fontWeight:"500",color:S.cardText},children:B.label})]},B.value))})]}),n.jsxs("div",{style:{background:S.cardBg,border:`1px solid ${S.cardBorder}`,borderRadius:"12px",padding:"1.5rem",marginBottom:"1rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[n.jsx("h3",{style:{fontSize:"1rem",fontWeight:"600",color:S.cardText,marginTop:0,marginBottom:"1rem",borderBottom:`1px solid ${S.cardBorder}`,paddingBottom:"0.5rem"},children:"Input Values"}),a==="motor-power"?n.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:S.labelText,marginBottom:"0.5rem"},children:"Output Power (kW)"}),n.jsx("input",{type:"number",value:j,onChange:B=>_(B.target.value),placeholder:"Motor output power",step:"0.1",style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${S.inputBorder}`,borderRadius:"8px",backgroundColor:S.inputBg,color:S.cardText,boxSizing:"border-box"}})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:S.labelText,marginBottom:"0.5rem"},children:"Motor Efficiency (%)"}),n.jsx("input",{type:"number",value:A,onChange:B=>C(B.target.value),placeholder:"85-95% typical",step:"0.1",min:"0",max:"100",style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${S.inputBorder}`,borderRadius:"8px",backgroundColor:S.inputBg,color:S.cardText,boxSizing:"border-box"}}),n.jsx("div",{style:{fontSize:"0.75rem",color:S.subtleText,marginTop:"0.25rem"},children:"Optional: For current calculation, enter voltage and PF below"})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",alignItems:"end"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:S.labelText,marginBottom:"0.5rem"},children:"Voltage (V) - Optional"}),n.jsxs("select",{value:l,onChange:B=>d(B.target.value),style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${S.inputBorder}`,borderRadius:"8px",backgroundColor:S.inputBg,color:S.cardText,boxSizing:"border-box"},children:[n.jsx("option",{value:"",children:"Select"}),n.jsx("option",{value:"208",children:"208V"}),n.jsx("option",{value:"240",children:"240V"}),n.jsx("option",{value:"380",children:"380V"}),n.jsx("option",{value:"400",children:"400V"}),n.jsx("option",{value:"415",children:"415V"}),n.jsx("option",{value:"480",children:"480V"}),n.jsx("option",{value:"600",children:"600V"})]})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:S.labelText,marginBottom:"0.5rem"},children:"Power Factor - Optional"}),n.jsx("input",{type:"number",value:p,onChange:B=>y(B.target.value),placeholder:"0.80-0.95",step:"0.01",min:"0",max:"1",style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${S.inputBorder}`,borderRadius:"8px",backgroundColor:S.inputBg,color:S.cardText,boxSizing:"border-box"}})]})]})]}):n.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:S.labelText,marginBottom:"0.5rem"},children:"Voltage Configuration"}),n.jsxs("select",{value:x,onChange:B=>P(B.target.value),style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${S.inputBorder}`,borderRadius:"8px",backgroundColor:S.inputBg,color:S.cardText,boxSizing:"border-box"},children:[n.jsx("option",{value:"line-to-line",children:"Line-to-Line (Most Common)"}),n.jsx("option",{value:"line-to-neutral",children:"Line-to-Neutral"})]}),n.jsx("div",{style:{fontSize:"0.75rem",color:S.subtleText,marginTop:"0.25rem"},children:"Line-to-Line: Voltage between any two phases"})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:S.labelText,marginBottom:"0.5rem"},children:"Voltage (V)"}),n.jsxs("select",{value:l,onChange:B=>d(B.target.value),style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${S.inputBorder}`,borderRadius:"8px",backgroundColor:S.inputBg,color:S.cardText,boxSizing:"border-box"},children:[n.jsx("option",{value:"208",children:"208V"}),n.jsx("option",{value:"240",children:"240V"}),n.jsx("option",{value:"380",children:"380V"}),n.jsx("option",{value:"400",children:"400V"}),n.jsx("option",{value:"415",children:"415V"}),n.jsx("option",{value:"480",children:"480V"}),n.jsx("option",{value:"600",children:"600V"})]})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:S.labelText,marginBottom:"0.5rem"},children:"Power Factor"}),n.jsx("input",{type:"number",value:p,onChange:B=>y(B.target.value),placeholder:"0.80-0.95",step:"0.01",min:"0",max:"1",style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${S.inputBorder}`,borderRadius:"8px",backgroundColor:S.inputBg,color:S.cardText,boxSizing:"border-box"}})]})]}),a==="find-power"&&n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:S.labelText,marginBottom:"0.5rem"},children:"Current (Amps)"}),n.jsx("input",{type:"number",value:u,onChange:B=>m(B.target.value),placeholder:"Line current",step:"0.1",style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${S.inputBorder}`,borderRadius:"8px",backgroundColor:S.inputBg,color:S.cardText,boxSizing:"border-box"}})]}),a==="find-current"&&n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:S.labelText,marginBottom:"0.5rem"},children:"Power (kW)"}),n.jsx("input",{type:"number",value:j,onChange:B=>_(B.target.value),placeholder:"Real power",step:"0.1",style:{width:"100%",padding:"0.625rem",fontSize:"0.9375rem",border:`1px solid ${S.inputBorder}`,borderRadius:"8px",backgroundColor:S.inputBg,color:S.cardText,boxSizing:"border-box"}})]})]})]}),O&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{style:{background:S.cardBg,border:`1px solid ${S.cardBorder}`,borderRadius:"12px",padding:"1.5rem",marginBottom:"1rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[n.jsx("h3",{style:{fontSize:"1rem",fontWeight:"600",color:S.cardText,marginTop:0,marginBottom:"1rem"},children:"Results"}),a==="motor-power"?n.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"1rem"},children:[n.jsxs("div",{style:{background:S.sectionBg,padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:S.labelText,marginBottom:"0.25rem"},children:"Output Power"}),n.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:S.cardText},children:O.outputKW.toFixed(2)}),n.jsxs("div",{style:{fontSize:"0.75rem",color:S.labelText,marginTop:"0.25rem"},children:["kW (",O.outputHP.toFixed(2)," HP)"]})]}),n.jsxs("div",{style:{background:"#dbeafe",padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:"#1e40af",marginBottom:"0.25rem"},children:"Input Power Required"}),n.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:"#1e40af"},children:O.inputKW.toFixed(2)}),n.jsxs("div",{style:{fontSize:"0.75rem",color:"#1e40af",marginTop:"0.25rem"},children:["kW @ ",O.efficiency.toFixed(1),"% efficiency"]})]})]}),O.amps>0&&n.jsxs("div",{style:{background:S.sectionBg,padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:S.labelText,marginBottom:"0.25rem"},children:"Estimated Current Draw"}),n.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:S.cardText},children:O.amps.toFixed(2)}),n.jsxs("div",{style:{fontSize:"0.75rem",color:S.labelText,marginTop:"0.25rem"},children:["Amps @ ",l,"V, PF ",p]})]})]}):n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"1rem",marginBottom:"1rem"},children:[n.jsxs("div",{style:{background:S.sectionBg,padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:S.labelText,marginBottom:"0.25rem"},children:"Real Power (kW)"}),n.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:S.cardText},children:O.kW.toFixed(2)}),n.jsx("div",{style:{fontSize:"0.75rem",color:S.labelText,marginTop:"0.25rem"},children:"Working Power"})]}),n.jsxs("div",{style:{background:S.sectionBg,padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:S.labelText,marginBottom:"0.25rem"},children:"Apparent Power (kVA)"}),n.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:S.cardText},children:O.kVA.toFixed(2)}),n.jsx("div",{style:{fontSize:"0.75rem",color:S.labelText,marginTop:"0.25rem"},children:"Total Power"})]}),n.jsxs("div",{style:{background:"#dbeafe",padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:"#1e40af",marginBottom:"0.25rem"},children:"Current (A)"}),n.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:"#1e40af"},children:O.amps.toFixed(2)}),n.jsx("div",{style:{fontSize:"0.75rem",color:"#1e40af",marginTop:"0.25rem"},children:"Line Current"})]})]})]}),n.jsx("div",{style:{background:S.sectionBg,border:`1px solid ${S.cardBorder}`,borderRadius:"12px",padding:"1rem",marginBottom:"1rem"},children:n.jsxs("div",{style:{display:"flex",alignItems:"start",gap:"0.75rem"},children:[n.jsx(co,{size:20,color:"#3b82f6",style:{flexShrink:0,marginTop:"0.125rem"}}),n.jsxs("div",{style:{fontSize:"0.875rem",color:S.labelText,lineHeight:"1.5"},children:[n.jsx("div",{style:{fontWeight:"600",color:S.cardText,marginBottom:"0.5rem"},children:a==="motor-power"?"Motor Efficiency:":"Three-Phase Formulas:"}),n.jsx("div",{style:{display:"grid",gap:"0.25rem"},children:a==="motor-power"?n.jsxs(n.Fragment,{children:[n.jsx("div",{children:" Input Power = Output Power  Efficiency"}),n.jsx("div",{children:" 1 kW = 1.341 HP"}),n.jsx("div",{children:" Typical motor efficiency: 85-95%"}),n.jsx("div",{children:" Higher efficiency motors use less power"})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{children:" P (kW) = 3  V  I  PF  1000"}),n.jsx("div",{children:" S (kVA) = 3  V  I  1000"}),n.jsx("div",{children:" I (A) = P  1000  (3  V  PF)"}),n.jsx("div",{children:" 3 = 1.732 (constant for 3-phase)"}),n.jsxs("div",{children:[" ",x==="line-to-line"?"Using Line-to-Line voltage":"Using Line-to-Neutral voltage"]})]})})]})]})}),n.jsx("div",{style:{background:"#d1fae5",border:"1px solid #6ee7b7",borderRadius:"12px",padding:"1rem"},children:n.jsxs("div",{style:{display:"flex",alignItems:"start",gap:"0.75rem"},children:[n.jsx(en,{size:20,color:"#059669",style:{flexShrink:0,marginTop:"0.125rem"}}),n.jsxs("div",{style:{fontSize:"0.875rem",color:"#047857",lineHeight:"1.5"},children:[n.jsx("div",{style:{fontWeight:"600",marginBottom:"0.5rem"},children:"Three-Phase Advantages:"}),n.jsxs("div",{style:{display:"grid",gap:"0.25rem"},children:[n.jsx("div",{children:" Delivers constant, smooth power (no pulsation)"}),n.jsx("div",{children:" More efficient for high-power applications"}),n.jsx("div",{children:" Smaller conductor sizes for same power"}),n.jsx("div",{children:" Standard for industrial and commercial buildings"}),n.jsx("div",{children:" Required for large motors and heavy equipment"})]})]})]})})]})]})}),Wb=({isDarkMode:r,jobs:t})=>{const[e,a]=ve.useState(new Date),[s,l]=ve.useState(new Date),d={bg:r?"#000000":"#f9fafb",cardBg:r?"#0a0a0a":"#ffffff",text:r?"#ffffff":"#111827",subtext:r?"#666666":"#6b7280",border:r?"#1a1a1a":"#e5e7eb",selectedDay:"#3b82f6",todayBg:r?"#1a1a1a":"#f3f4f6"},u={scheduled:"#3b82f6","in-progress":"#f59e0b",completed:"#10b981"},m=t.map(I=>({...I,dateObj:I.date?new Date(I.date+"T00:00:00"):null})),p=I=>new Date(I.getFullYear(),I.getMonth()+1,0).getDate(),y=I=>new Date(I.getFullYear(),I.getMonth(),1).getDay(),j=(I,J)=>!I||!J?!1:I.getDate()===J.getDate()&&I.getMonth()===J.getMonth()&&I.getFullYear()===J.getFullYear(),_=I=>j(I,new Date),x=I=>m.filter(J=>J.dateObj&&j(J.dateObj,I)),P=I=>m.some(J=>J.dateObj&&j(J.dateObj,I)),A=()=>{a(new Date(e.getFullYear(),e.getMonth()-1))},C=()=>{a(new Date(e.getFullYear(),e.getMonth()+1))},S=["January","February","March","April","May","June","July","August","September","October","November","December"],F=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],O=p(e),B=y(e),H=[];for(let I=0;I<B;I++)H.push(null);for(let I=1;I<=O;I++)H.push(new Date(e.getFullYear(),e.getMonth(),I));const ee=x(s),ce=new Date,W=m.filter(I=>I.dateObj&&I.dateObj>=ce&&I.status==="scheduled").sort((I,J)=>I.dateObj-J.dateObj).slice(0,5);return n.jsx("div",{style:{minHeight:"100vh",background:d.bg,paddingBottom:"5rem",maxWidth:"100vw",overflowX:"hidden"},children:n.jsxs("div",{style:{padding:"1rem"},children:[n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"0.5rem",marginBottom:"1rem",maxWidth:"100%",overflow:"hidden"},children:[n.jsxs("div",{style:{background:d.cardBg,border:`1px solid ${d.border}`,borderRadius:"0.75rem",padding:"0.75rem",textAlign:"center",minWidth:0},children:[n.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:"#3b82f6",marginBottom:"0.25rem",overflow:"hidden",textOverflow:"ellipsis"},children:W.length}),n.jsx("div",{style:{fontSize:"0.75rem",color:d.subtext,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:"Upcoming"})]}),n.jsxs("div",{style:{background:d.cardBg,border:`1px solid ${d.border}`,borderRadius:"0.75rem",padding:"0.75rem",textAlign:"center",minWidth:0},children:[n.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:"#f59e0b",marginBottom:"0.25rem",overflow:"hidden",textOverflow:"ellipsis"},children:t.filter(I=>I.status==="in-progress").length}),n.jsx("div",{style:{fontSize:"0.75rem",color:d.subtext,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:"In Progress"})]}),n.jsxs("div",{style:{background:d.cardBg,border:`1px solid ${d.border}`,borderRadius:"0.75rem",padding:"0.75rem",textAlign:"center",minWidth:0},children:[n.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:"#10b981",marginBottom:"0.25rem",overflow:"hidden",textOverflow:"ellipsis"},children:t.filter(I=>I.status==="completed").length}),n.jsx("div",{style:{fontSize:"0.75rem",color:d.subtext,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:"Completed"})]})]}),n.jsxs("div",{style:{background:d.cardBg,border:`1px solid ${d.border}`,borderRadius:"0.75rem",padding:"1rem",marginBottom:"1rem",boxShadow:"none"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[n.jsxs("h3",{style:{margin:0,fontSize:"1.125rem",fontWeight:"600",color:d.text},children:[S[e.getMonth()]," ",e.getFullYear()]}),n.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[n.jsx("button",{onClick:A,style:{background:d.bg,border:`1px solid ${d.border}`,borderRadius:"0.5rem",padding:"0.5rem",cursor:"pointer",display:"flex",alignItems:"center",color:d.text},children:n.jsx(v2,{size:20})}),n.jsx("button",{onClick:C,style:{background:d.bg,border:`1px solid ${d.border}`,borderRadius:"0.5rem",padding:"0.5rem",cursor:"pointer",display:"flex",alignItems:"center",color:d.text},children:n.jsx(w2,{size:20})})]})]}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"0.25rem",marginBottom:"0.5rem"},children:F.map(I=>n.jsx("div",{style:{textAlign:"center",fontSize:"0.75rem",fontWeight:"600",color:d.subtext,padding:"0.5rem 0"},children:I},I))}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"0.125rem"},children:H.map((I,J)=>{if(!I)return n.jsx("div",{},`empty-${J}`);const D=j(I,s),k=_(I),X=P(I);return n.jsxs("button",{onClick:()=>l(I),style:{aspectRatio:"1",border:"none",borderRadius:"0.375rem",background:D?d.selectedDay:k?d.todayBg:"transparent",color:D?"white":d.text,cursor:"pointer",fontSize:"0.75rem",fontWeight:D||k?"600":"400",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s",padding:"0.25rem",minWidth:0,width:"100%"},onMouseEnter:R=>{D||(R.currentTarget.style.background=d.todayBg)},onMouseLeave:R=>{!D&&!k?R.currentTarget.style.background="transparent":!D&&k&&(R.currentTarget.style.background=d.todayBg)},children:[I.getDate(),X&&n.jsx("div",{style:{position:"absolute",bottom:"0.125rem",left:"50%",transform:"translateX(-50%)",display:"flex",gap:"0.0625rem"},children:x(I).slice(0,3).map((R,se)=>n.jsx("div",{style:{width:"3px",height:"3px",borderRadius:"50%",background:D?"white":u[R.status]}},se))})]},J)})})]}),n.jsxs("div",{style:{background:d.cardBg,border:`1px solid ${d.border}`,borderRadius:"0.75rem",padding:"1rem",marginBottom:"1rem",boxShadow:"none"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[n.jsx("h3",{style:{margin:0,fontSize:"1.125rem",fontWeight:"600",color:d.text},children:j(s,new Date)?"Today":s.toLocaleDateString("en-US",{month:"long",day:"numeric"})}),n.jsxs("span",{style:{fontSize:"0.75rem",color:d.subtext,background:d.bg,padding:"0.25rem 0.75rem",borderRadius:"1rem"},children:[ee.length," ",ee.length===1?"job":"jobs"]})]}),ee.length===0?n.jsxs("div",{style:{textAlign:"center",padding:"2rem 1rem",color:d.subtext},children:[n.jsx(mf,{size:48,style:{margin:"0 auto 0.5rem",opacity:.3}}),n.jsx("p",{style:{margin:0,fontSize:"0.875rem"},children:"No jobs scheduled for this day"})]}):n.jsx("div",{style:{display:"grid",gap:"0.75rem"},children:ee.map(I=>n.jsxs("div",{style:{background:d.bg,border:`1px solid ${d.border}`,borderLeft:`4px solid ${u[I.status]}`,borderRadius:"0.5rem",padding:"1rem"},children:[n.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"0.5rem"},children:n.jsxs("div",{children:[n.jsx("h4",{style:{margin:"0 0 0.25rem 0",fontSize:"1rem",fontWeight:"600",color:d.text},children:I.title}),n.jsx("p",{style:{margin:0,fontSize:"0.875rem",color:d.subtext},children:I.client})]})}),n.jsxs("div",{style:{display:"grid",gap:"0.25rem",fontSize:"0.875rem",color:d.subtext},children:[I.time&&n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[n.jsx(Wf,{size:14}),n.jsxs("span",{children:[I.time,I.duration&&` (${I.duration})`]})]}),I.location&&n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[n.jsx(y1,{size:14}),n.jsx("span",{children:I.location})]}),I.estimatedCost&&n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[n.jsx(Mf,{size:14}),n.jsxs("span",{children:["$",Number(I.estimatedCost).toLocaleString()]})]})]})]},I.id))})]}),n.jsxs("div",{style:{background:d.cardBg,border:`1px solid ${d.border}`,borderRadius:"0.75rem",padding:"1rem",boxShadow:"none"},children:[n.jsx("h3",{style:{margin:"0 0 1rem 0",fontSize:"1.125rem",fontWeight:"600",color:d.text},children:"Upcoming Jobs"}),W.length===0?n.jsx("div",{style:{textAlign:"center",padding:"2rem 1rem",color:d.subtext},children:n.jsx("p",{style:{margin:0,fontSize:"0.875rem"},children:"No upcoming jobs scheduled"})}):n.jsx("div",{style:{display:"grid",gap:"0.75rem"},children:W.map(I=>n.jsxs("div",{style:{background:d.bg,border:`1px solid ${d.border}`,borderRadius:"0.5rem",padding:"1rem",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsxs("div",{style:{flex:1},children:[n.jsx("h4",{style:{margin:"0 0 0.25rem 0",fontSize:"0.9375rem",fontWeight:"600",color:d.text},children:I.title}),n.jsx("p",{style:{margin:"0 0 0.25rem 0",fontSize:"0.8125rem",color:d.subtext},children:I.client}),n.jsxs("div",{style:{fontSize:"0.75rem",color:d.subtext,display:"flex",alignItems:"center",gap:"0.25rem"},children:[n.jsx(mf,{size:12}),I.dateObj.toLocaleDateString("en-US",{month:"short",day:"numeric"}),I.time&&` at ${I.time}`]})]}),n.jsx("div",{style:{width:"4px",height:"40px",borderRadius:"2px",background:u[I.status]}})]},I.id))})]})]})})},Mb=()=>{};var Lm={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wg=function(r){const t=[];let e=0;for(let a=0;a<r.length;a++){let s=r.charCodeAt(a);s<128?t[e++]=s:s<2048?(t[e++]=s>>6|192,t[e++]=s&63|128):(s&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(s=65536+((s&1023)<<10)+(r.charCodeAt(++a)&1023),t[e++]=s>>18|240,t[e++]=s>>12&63|128,t[e++]=s>>6&63|128,t[e++]=s&63|128):(t[e++]=s>>12|224,t[e++]=s>>6&63|128,t[e++]=s&63|128)}return t},Db=function(r){const t=[];let e=0,a=0;for(;e<r.length;){const s=r[e++];if(s<128)t[a++]=String.fromCharCode(s);else if(s>191&&s<224){const l=r[e++];t[a++]=String.fromCharCode((s&31)<<6|l&63)}else if(s>239&&s<365){const l=r[e++],d=r[e++],u=r[e++],m=((s&7)<<18|(l&63)<<12|(d&63)<<6|u&63)-65536;t[a++]=String.fromCharCode(55296+(m>>10)),t[a++]=String.fromCharCode(56320+(m&1023))}else{const l=r[e++],d=r[e++];t[a++]=String.fromCharCode((s&15)<<12|(l&63)<<6|d&63)}}return t.join("")},Sg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let s=0;s<r.length;s+=3){const l=r[s],d=s+1<r.length,u=d?r[s+1]:0,m=s+2<r.length,p=m?r[s+2]:0,y=l>>2,j=(l&3)<<4|u>>4;let _=(u&15)<<2|p>>6,x=p&63;m||(x=64,d||(_=64)),a.push(e[y],e[j],e[_],e[x])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(wg(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):Db(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let s=0;s<r.length;){const l=e[r.charAt(s++)],u=s<r.length?e[r.charAt(s)]:0;++s;const p=s<r.length?e[r.charAt(s)]:64;++s;const j=s<r.length?e[r.charAt(s)]:64;if(++s,l==null||u==null||p==null||j==null)throw new $b;const _=l<<2|u>>4;if(a.push(_),p!==64){const x=u<<4&240|p>>2;if(a.push(x),j!==64){const P=p<<6&192|j;a.push(P)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class $b extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Vb=function(r){const t=wg(r);return Sg.encodeByteArray(t,!0)},jg=function(r){return Vb(r).replace(/\./g,"")},kg=function(r){try{return Sg.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ub(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb=()=>Ub().__FIREBASE_DEFAULTS__,Hb=()=>{if(typeof process>"u"||typeof Lm>"u")return;const r=Lm.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Gb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&kg(r[1]);return t&&JSON.parse(t)},Gf=()=>{try{return Mb()||qb()||Hb()||Gb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Kb=r=>{var t,e;return(e=(t=Gf())==null?void 0:t.emulatorHosts)==null?void 0:e[r]},Cg=()=>{var r;return(r=Gf())==null?void 0:r.config},Tg=r=>{var t;return(t=Gf())==null?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,a)=>{e?this.reject(e):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uu(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Jb(r){return(await fetch(r,{credentials:"include"})).ok}const dd={};function Xb(){const r={prod:[],emulator:[]};for(const t of Object.keys(dd))dd[t]?r.emulator.push(t):r.prod.push(t);return r}function Zb(r){let t=document.getElementById(r),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),e=!0),{created:e,element:t}}let Rm=!1;function Qb(r,t){if(typeof window>"u"||typeof document>"u"||!Uu(window.location.host)||dd[r]===t||dd[r]||Rm)return;dd[r]=t;function e(_){return`__firebase__banner__${_}`}const a="__firebase__banner",l=Xb().prod.length>0;function d(){const _=document.getElementById(a);_&&_.remove()}function u(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function m(_,x){_.setAttribute("width","24"),_.setAttribute("id",x),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function p(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{Rm=!0,d()},_}function y(_,x){_.setAttribute("id",x),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function j(){const _=Zb(a),x=e("text"),P=document.getElementById(x)||document.createElement("span"),A=e("learnmore"),C=document.getElementById(A)||document.createElement("a"),S=e("preprendIcon"),F=document.getElementById(S)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const O=_.element;u(O),y(C,A);const B=p();m(F,S),O.append(F,P,C,B),document.body.appendChild(O)}l?(P.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",j):j()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function e3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(si())}function t3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function r3(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function n3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function i3(){const r=si();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function o3(){try{return typeof indexedDB=="object"}catch{return!1}}function a3(){return new Promise((r,t)=>{try{let e=!0;const a="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(a);s.onsuccess=()=>{s.result.close(),e||self.indexedDB.deleteDatabase(a),r(!0)},s.onupgradeneeded=()=>{e=!1},s.onerror=()=>{var l;t(((l=s.error)==null?void 0:l.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s3="FirebaseError";class Ds extends Error{constructor(t,e,a){super(e),this.code=t,this.customData=a,this.name=s3,Object.setPrototypeOf(this,Ds.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bd.prototype.create)}}class bd{constructor(t,e,a){this.service=t,this.serviceName=e,this.errors=a}create(t,...e){const a=e[0]||{},s=`${this.service}/${t}`,l=this.errors[t],d=l?l3(l,a):"Error",u=`${this.serviceName}: ${d} (${s}).`;return new Ds(s,u,a)}}function l3(r,t){return r.replace(c3,(e,a)=>{const s=t[a];return s!=null?String(s):`<${a}?>`})}const c3=/\{\$([^}]+)}/g;function d3(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Tc(r,t){if(r===t)return!0;const e=Object.keys(r),a=Object.keys(t);for(const s of e){if(!a.includes(s))return!1;const l=r[s],d=t[s];if(Pm(l)&&Pm(d)){if(!Tc(l,d))return!1}else if(l!==d)return!1}for(const s of a)if(!e.includes(s))return!1;return!0}function Pm(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wd(r){const t=[];for(const[e,a]of Object.entries(r))Array.isArray(a)?a.forEach(s=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function ad(r){const t={};return r.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[s,l]=a.split("=");t[decodeURIComponent(s)]=decodeURIComponent(l)}}),t}function sd(r){const t=r.indexOf("?");if(!t)return"";const e=r.indexOf("#",t);return r.substring(t,e>0?e:void 0)}function u3(r,t){const e=new h3(r,t);return e.subscribe.bind(e)}class h3{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,a){let s;if(t===void 0&&e===void 0&&a===void 0)throw new Error("Missing Observer.");f3(t,["next","error","complete"])?s=t:s={next:t,error:e,complete:a},s.next===void 0&&(s.next=lf),s.error===void 0&&(s.error=lf),s.complete===void 0&&(s.complete=lf);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),l}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function f3(r,t){if(typeof r!="object"||r===null)return!1;for(const e of t)if(e in r&&typeof r[e]=="function")return!0;return!1}function lf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xa(r){return r&&r._delegate?r._delegate:r}class Ac{constructor(t,e,a){this.name=t,this.instanceFactory=e,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p3{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const a=new Yb;if(this.instancesDeferred.set(e,a),this.isInitialized(e)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:e});s&&a.resolve(s)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),a=(t==null?void 0:t.optional)??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(s){if(a)return null;throw s}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(g3(t))try{this.getOrInitializeService({instanceIdentifier:vl})}catch{}for(const[e,a]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(e);try{const l=this.getOrInitializeService({instanceIdentifier:s});a.resolve(l)}catch{}}}}clearInstance(t=vl){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=vl){return this.instances.has(t)}getOptions(t=vl){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:a,options:e});for(const[l,d]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(l);a===u&&d.resolve(s)}return s}onInit(t,e){const a=this.normalizeInstanceIdentifier(e),s=this.onInitCallbacks.get(a)??new Set;s.add(t),this.onInitCallbacks.set(a,s);const l=this.instances.get(a);return l&&t(l,a),()=>{s.delete(t)}}invokeOnInitCallbacks(t,e){const a=this.onInitCallbacks.get(e);if(a)for(const s of a)try{s(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:m3(t),options:e}),this.instances.set(t,a),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=vl){return this.component?this.component.multipleInstances?t:vl:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function m3(r){return r===vl?void 0:r}function g3(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new p3(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vr;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(vr||(vr={}));const y3={debug:vr.DEBUG,verbose:vr.VERBOSE,info:vr.INFO,warn:vr.WARN,error:vr.ERROR,silent:vr.SILENT},v3=vr.INFO,b3={[vr.DEBUG]:"log",[vr.VERBOSE]:"log",[vr.INFO]:"info",[vr.WARN]:"warn",[vr.ERROR]:"error"},w3=(r,t,...e)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),s=b3[t];if(s)console[s](`[${a}]  ${r.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Ag{constructor(t){this.name=t,this._logLevel=v3,this._logHandler=w3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in vr))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?y3[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,vr.DEBUG,...t),this._logHandler(this,vr.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,vr.VERBOSE,...t),this._logHandler(this,vr.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,vr.INFO,...t),this._logHandler(this,vr.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,vr.WARN,...t),this._logHandler(this,vr.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,vr.ERROR,...t),this._logHandler(this,vr.ERROR,...t)}}const S3=(r,t)=>t.some(e=>r instanceof e);let Im,Em;function j3(){return Im||(Im=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function k3(){return Em||(Em=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _g=new WeakMap,_f=new WeakMap,Bg=new WeakMap,cf=new WeakMap,Kf=new WeakMap;function C3(r){const t=new Promise((e,a)=>{const s=()=>{r.removeEventListener("success",l),r.removeEventListener("error",d)},l=()=>{e(Os(r.result)),s()},d=()=>{a(r.error),s()};r.addEventListener("success",l),r.addEventListener("error",d)});return t.then(e=>{e instanceof IDBCursor&&_g.set(e,r)}).catch(()=>{}),Kf.set(t,r),t}function T3(r){if(_f.has(r))return;const t=new Promise((e,a)=>{const s=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",d),r.removeEventListener("abort",d)},l=()=>{e(),s()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),s()};r.addEventListener("complete",l),r.addEventListener("error",d),r.addEventListener("abort",d)});_f.set(r,t)}let Bf={get(r,t,e){if(r instanceof IDBTransaction){if(t==="done")return _f.get(r);if(t==="objectStoreNames")return r.objectStoreNames||Bg.get(r);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Os(r[t])},set(r,t,e){return r[t]=e,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function A3(r){Bf=r(Bf)}function _3(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const a=r.call(df(this),t,...e);return Bg.set(a,t.sort?t.sort():[t]),Os(a)}:k3().includes(r)?function(...t){return r.apply(df(this),t),Os(_g.get(this))}:function(...t){return Os(r.apply(df(this),t))}}function B3(r){return typeof r=="function"?_3(r):(r instanceof IDBTransaction&&T3(r),S3(r,j3())?new Proxy(r,Bf):r)}function Os(r){if(r instanceof IDBRequest)return C3(r);if(cf.has(r))return cf.get(r);const t=B3(r);return t!==r&&(cf.set(r,t),Kf.set(t,r)),t}const df=r=>Kf.get(r);function N3(r,t,{blocked:e,upgrade:a,blocking:s,terminated:l}={}){const d=indexedDB.open(r,t),u=Os(d);return a&&d.addEventListener("upgradeneeded",m=>{a(Os(d.result),m.oldVersion,m.newVersion,Os(d.transaction),m)}),e&&d.addEventListener("blocked",m=>e(m.oldVersion,m.newVersion,m)),u.then(m=>{l&&m.addEventListener("close",()=>l()),s&&m.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),u}const L3=["get","getKey","getAll","getAllKeys","count"],R3=["put","add","delete","clear"],uf=new Map;function zm(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(uf.get(t))return uf.get(t);const e=t.replace(/FromIndex$/,""),a=t!==e,s=R3.includes(e);if(!(e in(a?IDBIndex:IDBObjectStore).prototype)||!(s||L3.includes(e)))return;const l=async function(d,...u){const m=this.transaction(d,s?"readwrite":"readonly");let p=m.store;return a&&(p=p.index(u.shift())),(await Promise.all([p[e](...u),s&&m.done]))[0]};return uf.set(t,l),l}A3(r=>({...r,get:(t,e,a)=>zm(t,e)||r.get(t,e,a),has:(t,e)=>!!zm(t,e)||r.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(I3(e)){const a=e.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(e=>e).join(" ")}}function I3(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Nf="@firebase/app",Fm="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ya=new Ag("@firebase/app"),E3="@firebase/app-compat",z3="@firebase/analytics-compat",F3="@firebase/analytics",O3="@firebase/app-check-compat",W3="@firebase/app-check",M3="@firebase/auth",D3="@firebase/auth-compat",$3="@firebase/database",V3="@firebase/data-connect",U3="@firebase/database-compat",q3="@firebase/functions",H3="@firebase/functions-compat",G3="@firebase/installations",K3="@firebase/installations-compat",Y3="@firebase/messaging",J3="@firebase/messaging-compat",X3="@firebase/performance",Z3="@firebase/performance-compat",Q3="@firebase/remote-config",ew="@firebase/remote-config-compat",tw="@firebase/storage",rw="@firebase/storage-compat",nw="@firebase/firestore",iw="@firebase/ai",ow="@firebase/firestore-compat",aw="firebase",sw="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lf="[DEFAULT]",lw={[Nf]:"fire-core",[E3]:"fire-core-compat",[F3]:"fire-analytics",[z3]:"fire-analytics-compat",[W3]:"fire-app-check",[O3]:"fire-app-check-compat",[M3]:"fire-auth",[D3]:"fire-auth-compat",[$3]:"fire-rtdb",[V3]:"fire-data-connect",[U3]:"fire-rtdb-compat",[q3]:"fire-fn",[H3]:"fire-fn-compat",[G3]:"fire-iid",[K3]:"fire-iid-compat",[Y3]:"fire-fcm",[J3]:"fire-fcm-compat",[X3]:"fire-perf",[Z3]:"fire-perf-compat",[Q3]:"fire-rc",[ew]:"fire-rc-compat",[tw]:"fire-gcs",[rw]:"fire-gcs-compat",[nw]:"fire-fst",[ow]:"fire-fst-compat",[iw]:"fire-vertex","fire-js":"fire-js",[aw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iu=new Map,cw=new Map,Rf=new Map;function Om(r,t){try{r.container.addComponent(t)}catch(e){Ya.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,e)}}function md(r){const t=r.name;if(Rf.has(t))return Ya.debug(`There were multiple attempts to register component ${t}.`),!1;Rf.set(t,r);for(const e of Iu.values())Om(e,r);for(const e of cw.values())Om(e,r);return!0}function Ng(r,t){const e=r.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),r.container.getProvider(t)}function Po(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ws=new bd("app","Firebase",dw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(t,e,a){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Ac("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ws.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sd=sw;function Lg(r,t={}){let e=r;typeof t!="object"&&(t={name:t});const a={name:Lf,automaticDataCollectionEnabled:!0,...t},s=a.name;if(typeof s!="string"||!s)throw Ws.create("bad-app-name",{appName:String(s)});if(e||(e=Cg()),!e)throw Ws.create("no-options");const l=Iu.get(s);if(l){if(Tc(e,l.options)&&Tc(a,l.config))return l;throw Ws.create("duplicate-app",{appName:s})}const d=new x3(s);for(const m of Rf.values())d.addComponent(m);const u=new uw(e,a,d);return Iu.set(s,u),u}function hw(r=Lf){const t=Iu.get(r);if(!t&&r===Lf&&Cg())return Lg();if(!t)throw Ws.create("no-app",{appName:r});return t}function Sc(r,t,e){let a=lw[r]??r;e&&(a+=`-${e}`);const s=a.match(/\s|\//),l=t.match(/\s|\//);if(s||l){const d=[`Unable to register library "${a}" with version "${t}":`];s&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),s&&l&&d.push("and"),l&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ya.warn(d.join(" "));return}md(new Ac(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw="firebase-heartbeat-database",pw=1,gd="firebase-heartbeat-store";let hf=null;function Rg(){return hf||(hf=N3(fw,pw,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(gd)}catch(e){console.warn(e)}}}}).catch(r=>{throw Ws.create("idb-open",{originalErrorMessage:r.message})})),hf}async function mw(r){try{const e=(await Rg()).transaction(gd),a=await e.objectStore(gd).get(Pg(r));return await e.done,a}catch(t){if(t instanceof Ds)Ya.warn(t.message);else{const e=Ws.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Ya.warn(e.message)}}}async function Wm(r,t){try{const a=(await Rg()).transaction(gd,"readwrite");await a.objectStore(gd).put(t,Pg(r)),await a.done}catch(e){if(e instanceof Ds)Ya.warn(e.message);else{const a=Ws.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});Ya.warn(a.message)}}}function Pg(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw=1024,xw=30;class yw{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new bw(e),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var t,e;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Mm();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(d=>d.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:s}),this._heartbeatsCache.heartbeats.length>xw){const d=ww(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Ya.warn(a)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Mm(),{heartbeatsToSend:a,unsentEntries:s}=vw(this._heartbeatsCache.heartbeats),l=jg(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return Ya.warn(e),""}}}function Mm(){return new Date().toISOString().substring(0,10)}function vw(r,t=gw){const e=[];let a=r.slice();for(const s of r){const l=e.find(d=>d.agent===s.agent);if(l){if(l.dates.push(s.date),Dm(e)>t){l.dates.pop();break}}else if(e.push({agent:s.agent,dates:[s.date]}),Dm(e)>t){e.pop();break}a=a.slice(1)}return{heartbeatsToSend:e,unsentEntries:a}}class bw{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return o3()?a3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await mw(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Wm(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Wm(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function Dm(r){return jg(JSON.stringify({version:2,heartbeats:r})).length}function ww(r){if(r.length===0)return-1;let t=0,e=r[0].date;for(let a=1;a<r.length;a++)r[a].date<e&&(e=r[a].date,t=a);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sw(r){md(new Ac("platform-logger",t=>new P3(t),"PRIVATE")),md(new Ac("heartbeat",t=>new yw(t),"PRIVATE")),Sc(Nf,Fm,r),Sc(Nf,Fm,"esm2020"),Sc("fire-js","")}Sw("");var jw="firebase",kw="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sc(jw,kw,"app");function Ig(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Cw=Ig,Eg=new bd("auth","Firebase",Ig());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eu=new Ag("@firebase/auth");function Tw(r,...t){Eu.logLevel<=vr.WARN&&Eu.warn(`Auth (${Sd}): ${r}`,...t)}function Cu(r,...t){Eu.logLevel<=vr.ERROR&&Eu.error(`Auth (${Sd}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zo(r,...t){throw Yf(r,...t)}function aa(r,...t){return Yf(r,...t)}function zg(r,t,e){const a={...Cw(),[t]:e};return new bd("auth","Firebase",a).create(t,{appName:r.name})}function Ka(r){return zg(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Yf(r,...t){if(typeof r!="string"){const e=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(e,...a)}return Eg.create(r,...t)}function St(r,t,...e){if(!r)throw Yf(t,...e)}function Ha(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Cu(t),new Error(t)}function Ja(r,t){r||Ha(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pf(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.href)||""}function Aw(){return $m()==="http:"||$m()==="https:"}function $m(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _w(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Aw()||r3()||"connection"in navigator)?navigator.onLine:!0}function Bw(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(t,e){this.shortDelay=t,this.longDelay=e,Ja(e>t,"Short delay should be less than long delay!"),this.isMobile=e3()||n3()}get(){return _w()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jf(r,t){Ja(r.emulator,"Emulator should always be set here");const{url:e}=r.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{static initialize(t,e,a){this.fetchImpl=t,e&&(this.headersImpl=e),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ha("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ha("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ha("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Rw=new jd(3e4,6e4);function $s(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function Vs(r,t,e,a,s={}){return Og(r,s,async()=>{let l={},d={};a&&(t==="GET"?d=a:l={body:JSON.stringify(a)});const u=wd({key:r.config.apiKey,...d}).slice(1),m=await r._getAdditionalHeaders();m["Content-Type"]="application/json",r.languageCode&&(m["X-Firebase-Locale"]=r.languageCode);const p={method:t,headers:m,...l};return t3()||(p.referrerPolicy="no-referrer"),r.emulatorConfig&&Uu(r.emulatorConfig.host)&&(p.credentials="include"),Fg.fetch()(await Wg(r,r.config.apiHost,e,u),p)})}async function Og(r,t,e){r._canInitEmulator=!1;const a={...Nw,...t};try{const s=new Iw(r),l=await Promise.race([e(),s.promise]);s.clearNetworkTimeout();const d=await l.json();if("needConfirmation"in d)throw xu(r,"account-exists-with-different-credential",d);if(l.ok&&!("errorMessage"in d))return d;{const u=l.ok?d.errorMessage:d.error.message,[m,p]=u.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw xu(r,"credential-already-in-use",d);if(m==="EMAIL_EXISTS")throw xu(r,"email-already-in-use",d);if(m==="USER_DISABLED")throw xu(r,"user-disabled",d);const y=a[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw zg(r,y,p);zo(r,y)}}catch(s){if(s instanceof Ds)throw s;zo(r,"network-request-failed",{message:String(s)})}}async function kd(r,t,e,a,s={}){const l=await Vs(r,t,e,a,s);return"mfaPendingCredential"in l&&zo(r,"multi-factor-auth-required",{_serverResponse:l}),l}async function Wg(r,t,e,a){const s=`${t}${e}?${a}`,l=r,d=l.config.emulator?Jf(r.config,s):`${r.config.apiScheme}://${s}`;return Lw.includes(e)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(d).toString():d}function Pw(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Iw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,a)=>{this.timer=setTimeout(()=>a(aa(this.auth,"network-request-failed")),Rw.get())})}}function xu(r,t,e){const a={appName:r.name};e.email&&(a.email=e.email),e.phoneNumber&&(a.phoneNumber=e.phoneNumber);const s=aa(r,t,a);return s.customData._tokenResponse=e,s}function Vm(r){return r!==void 0&&r.enterprise!==void 0}class Ew{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return Pw(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function zw(r,t){return Vs(r,"GET","/v2/recaptchaConfig",$s(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fw(r,t){return Vs(r,"POST","/v1/accounts:delete",t)}async function zu(r,t){return Vs(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ud(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Ow(r,t=!1){const e=Xa(r),a=await e.getIdToken(t),s=Xf(a);St(s&&s.exp&&s.auth_time&&s.iat,e.auth,"internal-error");const l=typeof s.firebase=="object"?s.firebase:void 0,d=l==null?void 0:l.sign_in_provider;return{claims:s,token:a,authTime:ud(ff(s.auth_time)),issuedAtTime:ud(ff(s.iat)),expirationTime:ud(ff(s.exp)),signInProvider:d||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function ff(r){return Number(r)*1e3}function Xf(r){const[t,e,a]=r.split(".");if(t===void 0||e===void 0||a===void 0)return Cu("JWT malformed, contained fewer than 3 sections"),null;try{const s=kg(e);return s?JSON.parse(s):(Cu("Failed to decode base64 JWT payload"),null)}catch(s){return Cu("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Um(r){const t=Xf(r);return St(t,"internal-error"),St(typeof t.exp<"u","internal-error"),St(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xd(r,t,e=!1){if(e)return t;try{return await t}catch(a){throw a instanceof Ds&&Ww(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function Ww({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=ud(this.lastLoginAt),this.creationTime=ud(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fu(r){var j;const t=r.auth,e=await r.getIdToken(),a=await xd(r,zu(t,{idToken:e}));St(a==null?void 0:a.users.length,t,"internal-error");const s=a.users[0];r._notifyReloadListener(s);const l=(j=s.providerUserInfo)!=null&&j.length?Mg(s.providerUserInfo):[],d=$w(r.providerData,l),u=r.isAnonymous,m=!(r.email&&s.passwordHash)&&!(d!=null&&d.length),p=u?m:!1,y={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:d,metadata:new If(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(r,y)}async function Dw(r){const t=Xa(r);await Fu(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function $w(r,t){return[...r.filter(a=>!t.some(s=>s.providerId===a.providerId)),...t]}function Mg(r){return r.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vw(r,t){const e=await Og(r,{},async()=>{const a=wd({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:l}=r.config,d=await Wg(r,s,"/v1/token",`key=${l}`),u=await r._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:u,body:a};return r.emulatorConfig&&Uu(r.emulatorConfig.host)&&(m.credentials="include"),Fg.fetch()(d,m)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function Uw(r,t){return Vs(r,"POST","/v2/accounts:revokeToken",$s(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){St(t.idToken,"internal-error"),St(typeof t.idToken<"u","internal-error"),St(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Um(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){St(t.length!==0,"internal-error");const e=Um(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(St(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:a,refreshToken:s,expiresIn:l}=await Vw(t,e);this.updateTokensAndExpiration(a,s,Number(l))}updateTokensAndExpiration(t,e,a){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,e){const{refreshToken:a,accessToken:s,expirationTime:l}=e,d=new jc;return a&&(St(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),s&&(St(typeof s=="string","internal-error",{appName:t}),d.accessToken=s),l&&(St(typeof l=="number","internal-error",{appName:t}),d.expirationTime=l),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new jc,this.toJSON())}_performRefresh(){return Ha("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rs(r,t){St(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Io{constructor({uid:t,auth:e,stsTokenManager:a,...s}){this.providerId="firebase",this.proactiveRefresh=new Mw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new If(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const e=await xd(this,this.stsTokenManager.getToken(this.auth,t));return St(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return Ow(this,t)}reload(){return Dw(this)}_assign(t){this!==t&&(St(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Io({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){St(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),e&&await Fu(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Po(this.auth.app))return Promise.reject(Ka(this.auth));const t=await this.getIdToken();return await xd(this,Fw(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const a=e.displayName??void 0,s=e.email??void 0,l=e.phoneNumber??void 0,d=e.photoURL??void 0,u=e.tenantId??void 0,m=e._redirectEventId??void 0,p=e.createdAt??void 0,y=e.lastLoginAt??void 0,{uid:j,emailVerified:_,isAnonymous:x,providerData:P,stsTokenManager:A}=e;St(j&&A,t,"internal-error");const C=jc.fromJSON(this.name,A);St(typeof j=="string",t,"internal-error"),Rs(a,t.name),Rs(s,t.name),St(typeof _=="boolean",t,"internal-error"),St(typeof x=="boolean",t,"internal-error"),Rs(l,t.name),Rs(d,t.name),Rs(u,t.name),Rs(m,t.name),Rs(p,t.name),Rs(y,t.name);const S=new Io({uid:j,auth:t,email:s,emailVerified:_,displayName:a,isAnonymous:x,photoURL:d,phoneNumber:l,tenantId:u,stsTokenManager:C,createdAt:p,lastLoginAt:y});return P&&Array.isArray(P)&&(S.providerData=P.map(F=>({...F}))),m&&(S._redirectEventId=m),S}static async _fromIdTokenResponse(t,e,a=!1){const s=new jc;s.updateFromServerResponse(e);const l=new Io({uid:e.localId,auth:t,stsTokenManager:s,isAnonymous:a});return await Fu(l),l}static async _fromGetAccountInfoResponse(t,e,a){const s=e.users[0];St(s.localId!==void 0,"internal-error");const l=s.providerUserInfo!==void 0?Mg(s.providerUserInfo):[],d=!(s.email&&s.passwordHash)&&!(l!=null&&l.length),u=new jc;u.updateFromIdToken(a);const m=new Io({uid:s.localId,auth:t,stsTokenManager:u,isAnonymous:d}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new If(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(l!=null&&l.length)};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm=new Map;function Ga(r){Ja(r instanceof Function,"Expected a class definition");let t=qm.get(r);return t?(Ja(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,qm.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}Dg.type="NONE";const Hm=Dg;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tu(r,t,e){return`firebase:${r}:${t}:${e}`}class kc{constructor(t,e,a){this.persistence=t,this.auth=e,this.userKey=a;const{config:s,name:l}=this.auth;this.fullUserKey=Tu(this.userKey,s.apiKey,l),this.fullPersistenceKey=Tu("persistence",s.apiKey,l),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await zu(this.auth,{idToken:t}).catch(()=>{});return e?Io._fromGetAccountInfoResponse(this.auth,e,t):null}return Io._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,a="authUser"){if(!e.length)return new kc(Ga(Hm),t,a);const s=(await Promise.all(e.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=s[0]||Ga(Hm);const d=Tu(a,t.config.apiKey,t.name);let u=null;for(const p of e)try{const y=await p._get(d);if(y){let j;if(typeof y=="string"){const _=await zu(t,{idToken:y}).catch(()=>{});if(!_)break;j=await Io._fromGetAccountInfoResponse(t,_,y)}else j=Io._fromJSON(t,y);p!==l&&(u=j),l=p;break}}catch{}const m=s.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new kc(l,t,a):(l=m[0],u&&await l._set(d,u.toJSON()),await Promise.all(e.map(async p=>{if(p!==l)try{await p._remove(d)}catch{}})),new kc(l,t,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gm(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(qg(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if($g(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Gg(t))return"Blackberry";if(Kg(t))return"Webos";if(Vg(t))return"Safari";if((t.includes("chrome/")||Ug(t))&&!t.includes("edge/"))return"Chrome";if(Hg(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(e);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function $g(r=si()){return/firefox\//i.test(r)}function Vg(r=si()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Ug(r=si()){return/crios\//i.test(r)}function qg(r=si()){return/iemobile/i.test(r)}function Hg(r=si()){return/android/i.test(r)}function Gg(r=si()){return/blackberry/i.test(r)}function Kg(r=si()){return/webos/i.test(r)}function Zf(r=si()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function qw(r=si()){var t;return Zf(r)&&!!((t=window.navigator)!=null&&t.standalone)}function Hw(){return i3()&&document.documentMode===10}function Yg(r=si()){return Zf(r)||Hg(r)||Kg(r)||Gg(r)||/windows phone/i.test(r)||qg(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jg(r,t=[]){let e;switch(r){case"Browser":e=Gm(si());break;case"Worker":e=`${Gm(si())}-${r}`;break;default:e=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Sd}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const a=l=>new Promise((d,u)=>{try{const m=t(l);d(m)}catch(m){u(m)}});a.onAbort=e,this.queue.push(a);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const a of this.queue)await a(t),a.onAbort&&e.push(a.onAbort)}catch(a){e.reverse();for(const s of e)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kw(r,t={}){return Vs(r,"GET","/v2/passwordPolicy",$s(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw=6;class Jw{constructor(t){var a;const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??Yw,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((a=t.allowedNonAlphanumericCharacters)==null?void 0:a.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const a=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;a&&(e.meetsMinPasswordLength=t.length>=a),s&&(e.meetsMaxPasswordLength=t.length<=s)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let a;for(let s=0;s<t.length;s++)a=t.charAt(s),this.updatePasswordCharacterOptionsStatuses(e,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,e,a,s,l){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(t,e,a,s){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=a,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Km(this),this.idTokenSubscription=new Km(this),this.beforeStateQueue=new Gw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Eg,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Ga(e)),this._initializationPromise=this.queue(async()=>{var a,s,l;if(!this._deleted&&(this.persistenceManager=await kc.create(this,t),(a=this._resolvePersistenceManagerAvailable)==null||a.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((l=this.currentUser)==null?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await zu(this,{idToken:t}),a=await Io._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(a)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var l;if(Po(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(u,u))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let a=e,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(l=this.redirectUser)==null?void 0:l._redirectEventId,u=a==null?void 0:a._redirectEventId,m=await this.tryRedirectSignIn(t);(!d||d===u)&&(m!=null&&m.user)&&(a=m.user,s=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(a)}catch(d){a=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return St(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Fu(t)}catch(e){if((e==null?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Bw()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Po(this.app))return Promise.reject(Ka(this));const e=t?Xa(t):null;return e&&St(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&St(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Po(this.app)?Promise.reject(Ka(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Po(this.app)?Promise.reject(Ka(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ga(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Kw(this),e=new Jw(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new bd("auth","Firebase",t())}onAuthStateChanged(t,e,a){return this.registerStateListener(this.authStateSubscription,t,e,a)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,a){return this.registerStateListener(this.idTokenSubscription,t,e,a)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(a.tenantId=this.tenantId),await Uw(this,a)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,e){const a=await this.getOrInitRedirectPersistenceManager(e);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Ga(t)||this._popupRedirectResolver;St(e,this,"argument-error"),this.redirectPersistenceManager=await kc.create(this,[Ga(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,a;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)==null?void 0:e._redirectEventId)===t?this._currentUser:((a=this.redirectUser)==null?void 0:a._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((e=this.currentUser)==null?void 0:e.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,a,s){if(this._deleted)return()=>{};const l=typeof e=="function"?e:e.next.bind(e);let d=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(St(u,this,"internal-error"),u.then(()=>{d||l(this.currentUser)}),typeof e=="function"){const m=t.addObserver(e,a,s);return()=>{d=!0,m()}}else{const m=t.addObserver(e);return()=>{d=!0,m()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return St(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Jg(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());e&&(t["X-Firebase-Client"]=e);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(Po(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:e.getToken());return t!=null&&t.error&&Tw(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Ll(r){return Xa(r)}class Km{constructor(t){this.auth=t,this.observer=null,this.addObserver=u3(e=>this.observer=e)}get next(){return St(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qu={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Zw(r){qu=r}function Xg(r){return qu.loadJS(r)}function Qw(){return qu.recaptchaEnterpriseScript}function e4(){return qu.gapiScript}function t4(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class r4{constructor(){this.enterprise=new n4}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class n4{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const i4="recaptcha-enterprise",Zg="NO_RECAPTCHA";class o4{constructor(t){this.type=i4,this.auth=Ll(t)}async verify(t="verify",e=!1){async function a(l){if(!e){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(d,u)=>{zw(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const p=new Ew(m);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,d(p.siteKey)}}).catch(m=>{u(m)})})}function s(l,d,u){const m=window.grecaptcha;Vm(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:t}).then(p=>{d(p)}).catch(()=>{d(Zg)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new r4().execute("siteKey",{action:"verify"}):new Promise((l,d)=>{a(this.auth).then(u=>{if(!e&&Vm(window.grecaptcha))s(u,l,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let m=Qw();m.length!==0&&(m+=u),Xg(m).then(()=>{s(u,l,d)}).catch(p=>{d(p)})}}).catch(u=>{d(u)})})}}async function Ym(r,t,e,a=!1,s=!1){const l=new o4(r);let d;if(s)d=Zg;else try{d=await l.verify(e)}catch{d=await l.verify(e,!0)}const u={...t};if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const m=u.phoneEnrollmentInfo.phoneNumber,p=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:p,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const m=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return a?Object.assign(u,{captchaResp:d}):Object.assign(u,{captchaResponse:d}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function Ef(r,t,e,a,s){var l;if((l=r._getRecaptchaConfig())!=null&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const d=await Ym(r,t,e,e==="getOobCode");return a(r,d)}else return a(r,t).catch(async d=>{if(d.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await Ym(r,t,e,e==="getOobCode");return a(r,u)}else return Promise.reject(d)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a4(r,t){const e=Ng(r,"auth");if(e.isInitialized()){const s=e.getImmediate(),l=e.getOptions();if(Tc(l,t??{}))return s;zo(s,"already-initialized")}return e.initialize({options:t})}function s4(r,t){const e=(t==null?void 0:t.persistence)||[],a=(Array.isArray(e)?e:[e]).map(Ga);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t==null?void 0:t.popupRedirectResolver)}function l4(r,t,e){const a=Ll(r);St(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const s=!1,l=Qg(t),{host:d,port:u}=c4(t),m=u===null?"":`:${u}`,p={url:`${l}//${d}${m}/`},y=Object.freeze({host:d,port:u,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!a._canInitEmulator){St(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),St(Tc(p,a.config.emulator)&&Tc(y,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=p,a.emulatorConfig=y,a.settings.appVerificationDisabledForTesting=!0,Uu(d)?(Jb(`${l}//${d}${m}`),Qb("Auth",!0)):d4()}function Qg(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function c4(r){const t=Qg(r),e=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!e)return{host:"",port:null};const a=e[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(a);if(s){const l=s[1];return{host:l,port:Jm(a.substr(l.length+1))}}else{const[l,d]=a.split(":");return{host:l,port:Jm(d)}}}function Jm(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function d4(){function r(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Ha("not implemented")}_getIdTokenResponse(t){return Ha("not implemented")}_linkToIdToken(t,e){return Ha("not implemented")}_getReauthenticationResolver(t){return Ha("not implemented")}}async function u4(r,t){return Vs(r,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h4(r,t){return kd(r,"POST","/v1/accounts:signInWithPassword",$s(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f4(r,t){return kd(r,"POST","/v1/accounts:signInWithEmailLink",$s(r,t))}async function p4(r,t){return kd(r,"POST","/v1/accounts:signInWithEmailLink",$s(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd extends Qf{constructor(t,e,a,s=null){super("password",a),this._email=t,this._password=e,this._tenantId=s}static _fromEmailAndPassword(t,e){return new yd(t,e,"password")}static _fromEmailAndCode(t,e,a=null){return new yd(t,e,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e!=null&&e.email&&(e!=null&&e.password)){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ef(t,e,"signInWithPassword",h4);case"emailLink":return f4(t,{email:this._email,oobCode:this._password});default:zo(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const a={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ef(t,a,"signUpPassword",u4);case"emailLink":return p4(t,{idToken:e,email:this._email,oobCode:this._password});default:zo(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cc(r,t){return kd(r,"POST","/v1/accounts:signInWithIdp",$s(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m4="http://localhost";class Tl extends Qf{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Tl(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):zo("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:s,...l}=e;if(!a||!s)return null;const d=new Tl(a,s);return d.idToken=l.idToken||void 0,d.accessToken=l.accessToken||void 0,d.secret=l.secret,d.nonce=l.nonce,d.pendingToken=l.pendingToken||null,d}_getIdTokenResponse(t){const e=this.buildRequest();return Cc(t,e)}_linkToIdToken(t,e){const a=this.buildRequest();return a.idToken=e,Cc(t,a)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Cc(t,e)}buildRequest(){const t={requestUri:m4,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=wd(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g4(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function x4(r){const t=ad(sd(r)).link,e=t?ad(sd(t)).deep_link_id:null,a=ad(sd(r)).deep_link_id;return(a?ad(sd(a)).link:null)||a||e||t||r}class ep{constructor(t){const e=ad(sd(t)),a=e.apiKey??null,s=e.oobCode??null,l=g4(e.mode??null);St(a&&s&&l,"argument-error"),this.apiKey=a,this.operation=l,this.code=s,this.continueUrl=e.continueUrl??null,this.languageCode=e.lang??null,this.tenantId=e.tenantId??null}static parseLink(t){const e=x4(t);try{return new ep(e)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(){this.providerId=Bc.PROVIDER_ID}static credential(t,e){return yd._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const a=ep.parseLink(e);return St(a,"argument-error"),yd._fromEmailAndCode(t,a.code,a.tenantId)}}Bc.PROVIDER_ID="password";Bc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Bc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e5{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd extends e5{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps extends Cd{constructor(){super("facebook.com")}static credential(t){return Tl._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ps.credentialFromTaggedObject(t)}static credentialFromError(t){return Ps.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ps.credential(t.oauthAccessToken)}catch{return null}}}Ps.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ps.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is extends Cd{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Tl._fromParams({providerId:Is.PROVIDER_ID,signInMethod:Is.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Is.credentialFromTaggedObject(t)}static credentialFromError(t){return Is.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:a}=t;if(!e&&!a)return null;try{return Is.credential(e,a)}catch{return null}}}Is.GOOGLE_SIGN_IN_METHOD="google.com";Is.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es extends Cd{constructor(){super("github.com")}static credential(t){return Tl._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Es.credentialFromTaggedObject(t)}static credentialFromError(t){return Es.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Es.credential(t.oauthAccessToken)}catch{return null}}}Es.GITHUB_SIGN_IN_METHOD="github.com";Es.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs extends Cd{constructor(){super("twitter.com")}static credential(t,e){return Tl._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return zs.credentialFromTaggedObject(t)}static credentialFromError(t){return zs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:a}=t;if(!e||!a)return null;try{return zs.credential(e,a)}catch{return null}}}zs.TWITTER_SIGN_IN_METHOD="twitter.com";zs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y4(r,t){return kd(r,"POST","/v1/accounts:signUp",$s(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,a,s=!1){const l=await Io._fromIdTokenResponse(t,a,s),d=Xm(a);return new Al({user:l,providerId:d,_tokenResponse:a,operationType:e})}static async _forOperation(t,e,a){await t._updateTokensIfNecessary(a,!0);const s=Xm(a);return new Al({user:t,providerId:s,_tokenResponse:a,operationType:e})}}function Xm(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou extends Ds{constructor(t,e,a,s){super(e.code,e.message),this.operationType=a,this.user=s,Object.setPrototypeOf(this,Ou.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,e,a,s){return new Ou(t,e,a,s)}}function t5(r,t,e,a){return(t==="reauthenticate"?e._getReauthenticationResolver(r):e._getIdTokenResponse(r)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Ou._fromErrorAndOperation(r,l,t,a):l})}async function v4(r,t,e=!1){const a=await xd(r,t._linkToIdToken(r.auth,await r.getIdToken()),e);return Al._forOperation(r,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b4(r,t,e=!1){const{auth:a}=r;if(Po(a.app))return Promise.reject(Ka(a));const s="reauthenticate";try{const l=await xd(r,t5(a,s,t,r),e);St(l.idToken,a,"internal-error");const d=Xf(l.idToken);St(d,a,"internal-error");const{sub:u}=d;return St(r.uid===u,a,"user-mismatch"),Al._forOperation(r,s,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&zo(a,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r5(r,t,e=!1){if(Po(r.app))return Promise.reject(Ka(r));const a="signIn",s=await t5(r,a,t),l=await Al._fromIdTokenResponse(r,a,s);return e||await r._updateCurrentUser(l.user),l}async function w4(r,t){return r5(Ll(r),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n5(r){const t=Ll(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function S4(r,t,e){if(Po(r.app))return Promise.reject(Ka(r));const a=Ll(r),d=await Ef(a,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",y4).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&n5(r),m}),u=await Al._fromIdTokenResponse(a,"signIn",d);return await a._updateCurrentUser(u.user),u}function j4(r,t,e){return Po(r.app)?Promise.reject(Ka(r)):w4(Xa(r),Bc.credential(t,e)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&n5(r),a})}function k4(r,t,e,a){return Xa(r).onIdTokenChanged(t,e,a)}function C4(r,t,e){return Xa(r).beforeAuthStateChanged(t,e)}function T4(r,t,e,a){return Xa(r).onAuthStateChanged(t,e,a)}function A4(r){return Xa(r).signOut()}const Wu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i5{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Wu,"1"),this.storage.removeItem(Wu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _4=1e3,B4=10;class o5 extends i5{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Yg(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const a=this.storage.getItem(e),s=this.localCache[e];a!==s&&t(e,s,a)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((d,u,m)=>{this.notifyListeners(d,m)});return}const a=t.key;e?this.detachListener():this.stopPolling();const s=()=>{const d=this.storage.getItem(a);!e&&this.localCache[a]===d||this.notifyListeners(a,d)},l=this.storage.getItem(a);Hw()&&l!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,B4):s()}notifyListeners(t,e){this.localCache[t]=e;const a=this.listeners[t];if(a)for(const s of Array.from(a))s(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:a}),!0)})},_4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}o5.type="LOCAL";const N4=o5;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a5 extends i5{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}a5.type="SESSION";const s5=a5;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L4(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(s=>s.isListeningto(t));if(e)return e;const a=new Hu(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:a,eventType:s,data:l}=e.data,d=this.handlersMap[s];if(!(d!=null&&d.size))return;e.ports[0].postMessage({status:"ack",eventId:a,eventType:s});const u=Array.from(d).map(async p=>p(e.origin,l)),m=await L4(u);e.ports[0].postMessage({status:"done",eventId:a,eventType:s,response:m})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Hu.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tp(r="",t=10){let e="";for(let a=0;a<t;a++)e+=Math.floor(Math.random()*10);return r+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,a=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let l,d;return new Promise((u,m)=>{const p=tp("",20);s.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},a);d={messageChannel:s,onMessage(j){const _=j;if(_.data.eventId===p)switch(_.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),u(_.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(d),s.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:p,data:e},[s.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sa(){return window}function P4(r){sa().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l5(){return typeof sa().WorkerGlobalScope<"u"&&typeof sa().importScripts=="function"}async function I4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function E4(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)==null?void 0:r.controller)||null}function z4(){return l5()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c5="firebaseLocalStorageDb",F4=1,Mu="firebaseLocalStorage",d5="fbase_key";class Td{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Gu(r,t){return r.transaction([Mu],t?"readwrite":"readonly").objectStore(Mu)}function O4(){const r=indexedDB.deleteDatabase(c5);return new Td(r).toPromise()}function zf(){const r=indexedDB.open(c5,F4);return new Promise((t,e)=>{r.addEventListener("error",()=>{e(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Mu,{keyPath:d5})}catch(s){e(s)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Mu)?t(a):(a.close(),await O4(),t(await zf()))})})}async function Zm(r,t,e){const a=Gu(r,!0).put({[d5]:t,value:e});return new Td(a).toPromise()}async function W4(r,t){const e=Gu(r,!1).get(t),a=await new Td(e).toPromise();return a===void 0?null:a.value}function Qm(r,t){const e=Gu(r,!0).delete(t);return new Td(e).toPromise()}const M4=800,D4=3;class u5{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await zf(),this.db)}async _withRetries(t){let e=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(e++>D4)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return l5()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hu._getInstance(z4()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var e,a;if(this.activeServiceWorker=await I4(),!this.activeServiceWorker)return;this.sender=new R4(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(e=t[0])!=null&&e.fulfilled&&(a=t[0])!=null&&a.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||E4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await zf();return await Zm(t,Wu,"1"),await Qm(t,Wu),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(a=>Zm(a,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(a=>W4(a,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>Qm(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(s=>{const l=Gu(s,!1).getAll();return new Td(l).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],a=new Set;if(t.length!==0)for(const{fbase_key:s,value:l}of t)a.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(l)&&(this.notifyListeners(s,l),e.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!a.has(s)&&(this.notifyListeners(s,null),e.push(s));return e}notifyListeners(t,e){this.localCache[t]=e;const a=this.listeners[t];if(a)for(const s of Array.from(a))s(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),M4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}u5.type="LOCAL";const $4=u5;new jd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V4(r,t){return t?Ga(t):(St(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp extends Qf{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Cc(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Cc(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Cc(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function U4(r){return r5(r.auth,new rp(r),r.bypassAuthState)}function q4(r){const{auth:t,user:e}=r;return St(e,t,"internal-error"),b4(e,new rp(r),r.bypassAuthState)}async function H4(r){const{auth:t,user:e}=r;return St(e,t,"internal-error"),v4(e,new rp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h5{constructor(t,e,a,s,l=!1){this.auth=t,this.resolver=a,this.user=s,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:a,postBody:s,tenantId:l,error:d,type:u}=t;if(d){this.reject(d);return}const m={auth:this.auth,requestUri:e,sessionId:a,tenantId:l||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(m))}catch(p){this.reject(p)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return U4;case"linkViaPopup":case"linkViaRedirect":return H4;case"reauthViaPopup":case"reauthViaRedirect":return q4;default:zo(this.auth,"internal-error")}}resolve(t){Ja(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ja(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G4=new jd(2e3,1e4);class xc extends h5{constructor(t,e,a,s,l){super(t,e,s,l),this.provider=a,this.authWindow=null,this.pollId=null,xc.currentPopupAction&&xc.currentPopupAction.cancel(),xc.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return St(t,this.auth,"internal-error"),t}async onExecution(){Ja(this.filter.length===1,"Popup operations only handle one event");const t=tp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(aa(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(aa(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xc.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,a;if((a=(e=this.authWindow)==null?void 0:e.window)!=null&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(aa(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,G4.get())};t()}}xc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K4="pendingRedirect",Au=new Map;class Y4 extends h5{constructor(t,e,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,a),this.eventId=null}async execute(){let t=Au.get(this.auth._key());if(!t){try{const a=await J4(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(e){t=()=>Promise.reject(e)}Au.set(this.auth._key(),t)}return this.bypassAuthState||Au.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function J4(r,t){const e=Q4(t),a=Z4(r);if(!await a._isAvailable())return!1;const s=await a._get(e)==="true";return await a._remove(e),s}function X4(r,t){Au.set(r._key(),t)}function Z4(r){return Ga(r._redirectPersistence)}function Q4(r){return Tu(K4,r.config.apiKey,r.name)}async function eS(r,t,e=!1){if(Po(r.app))return Promise.reject(Ka(r));const a=Ll(r),s=V4(a,t),d=await new Y4(a,s,e).execute();return d&&!e&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS=600*1e3;class rS{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(e=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!nS(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var a;if(t.error&&!f5(t)){const s=((a=t.error.code)==null?void 0:a.split("auth/")[1])||"internal-error";e.onError(aa(this.auth,s))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const a=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=tS&&this.cachedEventUids.clear(),this.cachedEventUids.has(e1(t))}saveEventToCache(t){this.cachedEventUids.add(e1(t)),this.lastProcessedEventTime=Date.now()}}function e1(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function f5({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function nS(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return f5(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iS(r,t={}){return Vs(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,aS=/^https?/;async function sS(r){if(r.config.emulator)return;const{authorizedDomains:t}=await iS(r);for(const e of t)try{if(lS(e))return}catch{}zo(r,"unauthorized-domain")}function lS(r){const t=Pf(),{protocol:e,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?e==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&d.hostname===a}if(!aS.test(e))return!1;if(oS.test(r))return a===r;const s=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS=new jd(3e4,6e4);function t1(){const r=sa().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let e=0;e<r.CP.length;e++)r.CP[e]=null}}function dS(r){return new Promise((t,e)=>{var s,l,d;function a(){t1(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{t1(),e(aa(r,"network-request-failed"))},timeout:cS.get()})}if((l=(s=sa().gapi)==null?void 0:s.iframes)!=null&&l.Iframe)t(gapi.iframes.getContext());else if((d=sa().gapi)!=null&&d.load)a();else{const u=t4("iframefcb");return sa()[u]=()=>{gapi.load?a():e(aa(r,"network-request-failed"))},Xg(`${e4()}?onload=${u}`).catch(m=>e(m))}}).catch(t=>{throw _u=null,t})}let _u=null;function uS(r){return _u=_u||dS(r),_u}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS=new jd(5e3,15e3),fS="__/auth/iframe",pS="emulator/auth/iframe",mS={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gS=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xS(r){const t=r.config;St(t.authDomain,r,"auth-domain-config-required");const e=t.emulator?Jf(t,pS):`https://${r.config.authDomain}/${fS}`,a={apiKey:t.apiKey,appName:r.name,v:Sd},s=gS.get(r.config.apiHost);s&&(a.eid=s);const l=r._getFrameworks();return l.length&&(a.fw=l.join(",")),`${e}?${wd(a).slice(1)}`}async function yS(r){const t=await uS(r),e=sa().gapi;return St(e,r,"internal-error"),t.open({where:document.body,url:xS(r),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mS,dontclear:!0},a=>new Promise(async(s,l)=>{await a.restyle({setHideOnLeave:!1});const d=aa(r,"network-request-failed"),u=sa().setTimeout(()=>{l(d)},hS.get());function m(){sa().clearTimeout(u),s(a)}a.ping(m).then(m,()=>{l(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},bS=500,wS=600,SS="_blank",jS="http://localhost";class r1{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function kS(r,t,e,a=bS,s=wS){const l=Math.max((window.screen.availHeight-s)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let u="";const m={...vS,width:a.toString(),height:s.toString(),top:l,left:d},p=si().toLowerCase();e&&(u=Ug(p)?SS:e),$g(p)&&(t=t||jS,m.scrollbars="yes");const y=Object.entries(m).reduce((_,[x,P])=>`${_}${x}=${P},`,"");if(qw(p)&&u!=="_self")return CS(t||"",u),new r1(null);const j=window.open(t||"",u,y);St(j,r,"popup-blocked");try{j.focus()}catch{}return new r1(j)}function CS(r,t){const e=document.createElement("a");e.href=r,e.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS="__/auth/handler",AS="emulator/auth/handler",_S=encodeURIComponent("fac");async function n1(r,t,e,a,s,l){St(r.config.authDomain,r,"auth-domain-config-required"),St(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:e,redirectUrl:a,v:Sd,eventId:s};if(t instanceof e5){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",d3(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,j]of Object.entries({}))d[y]=j}if(t instanceof Cd){const y=t.getScopes().filter(j=>j!=="");y.length>0&&(d.scopes=y.join(","))}r.tenantId&&(d.tid=r.tenantId);const u=d;for(const y of Object.keys(u))u[y]===void 0&&delete u[y];const m=await r._getAppCheckToken(),p=m?`#${_S}=${encodeURIComponent(m)}`:"";return`${BS(r)}?${wd(u).slice(1)}${p}`}function BS({config:r}){return r.emulator?Jf(r,AS):`https://${r.authDomain}/${TS}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pf="webStorageSupport";class NS{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=s5,this._completeRedirectFn=eS,this._overrideRedirectResult=X4}async _openPopup(t,e,a,s){var d;Ja((d=this.eventManagers[t._key()])==null?void 0:d.manager,"_initialize() not called before _openPopup()");const l=await n1(t,e,a,Pf(),s);return kS(t,l,tp())}async _openRedirect(t,e,a,s){await this._originValidation(t);const l=await n1(t,e,a,Pf(),s);return P4(l),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:s,promise:l}=this.eventManagers[e];return s?Promise.resolve(s):(Ja(l,"If manager is not set, promise should be"),l)}const a=this.initAndGetManager(t);return this.eventManagers[e]={promise:a},a.catch(()=>{delete this.eventManagers[e]}),a}async initAndGetManager(t){const e=await yS(t),a=new rS(t);return e.register("authEvent",s=>(St(s==null?void 0:s.authEvent,t,"invalid-auth-event"),{status:a.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=e,a}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(pf,{type:pf},s=>{var d;const l=(d=s==null?void 0:s[0])==null?void 0:d[pf];l!==void 0&&e(!!l),zo(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=sS(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return Yg()||Vg()||Zf()}}const LS=NS;var i1="@firebase/auth",o1="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(a=>{t((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){St(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function IS(r){md(new Ac("auth",(t,{options:e})=>{const a=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),l=t.getProvider("app-check-internal"),{apiKey:d,authDomain:u}=a.options;St(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const m={apiKey:d,authDomain:u,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Jg(r)},p=new Xw(a,s,l,m);return s4(p,e),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,a)=>{t.getProvider("auth-internal").initialize()})),md(new Ac("auth-internal",t=>{const e=Ll(t.getProvider("auth").getImmediate());return(a=>new RS(a))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Sc(i1,o1,PS(r)),Sc(i1,o1,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES=300,zS=Tg("authIdTokenMaxAge")||ES;let a1=null;const FS=r=>async t=>{const e=t&&await t.getIdTokenResult(),a=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(a&&a>zS)return;const s=e==null?void 0:e.token;a1!==s&&(a1=s,await fetch(r,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function OS(r=hw()){const t=Ng(r,"auth");if(t.isInitialized())return t.getImmediate();const e=a4(r,{popupRedirectResolver:LS,persistence:[$4,N4,s5]}),a=Tg("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(a,location.origin);if(location.origin===l.origin){const d=FS(l.toString());C4(e,d,()=>d(e.currentUser)),k4(e,u=>d(u))}}const s=Kb("auth");return s&&l4(e,`http://${s}`),e}function WS(){var r;return((r=document.getElementsByTagName("head"))==null?void 0:r[0])??document}Zw({loadJS(r){return new Promise((t,e)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=s=>{const l=aa("internal-error");l.customData=s,e(l)},a.type="text/javascript",a.charset="UTF-8",WS().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});IS("Browser");const MS={apiKey:"AIzaSyCyIga2EWsEZLqApS633i9uRIy5p745EJg",authDomain:"electrician-toolkit-33497.firebaseapp.com",projectId:"electrician-toolkit-33497",storageBucket:"electrician-toolkit-33497.firebasestorage.app",messagingSenderId:"878846360709",appId:"1:878846360709:web:af750d7f4d2a9495b17dec",measurementId:"G-JWZ1TDP25R"},DS=Lg(MS),yu=OS(DS),$S=({isDarkMode:r})=>{const[t,e]=ve.useState(null),[a,s]=ve.useState(!0),[l,d]=ve.useState(!0),[u,m]=ve.useState(""),[p,y]=ve.useState(""),[j,_]=ve.useState(""),x={bg:r?"#000000":"#f9fafb",cardBg:r?"#0a0a0a":"#ffffff",text:r?"#ffffff":"#111827",subtext:r?"#666666":"#6b7280",border:r?"#1a1a1a":"#e5e7eb",inputBg:r?"#000000":"#ffffff"};ve.useEffect(()=>{const S=T4(yu,F=>{e(F),s(!1)});return()=>S()},[]);const P=async S=>{S.preventDefault(),_("");try{const F=await S4(yu,u,p);try{await fetch("/.netlify/functions/send-welcome-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:u})})}catch(O){console.error("Welcome email failed:",O)}alert("Welcome! Please check your email to verify your account."),m(""),y("")}catch(F){_(F.message)}},A=async S=>{S.preventDefault(),_("");try{await j4(yu,u,p),m(""),y("")}catch(F){_(F.message)}},C=async()=>{try{await A4(yu)}catch(S){_(S.message)}};return a?n.jsx("div",{style:{background:x.bg,minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx("div",{style:{color:x.text},children:"Loading..."})}):t?n.jsx("div",{style:{background:x.bg,paddingBottom:"5rem"},children:n.jsxs("div",{style:{padding:"1rem"},children:[n.jsxs("div",{style:{background:x.cardBg,borderRadius:"0.75rem",border:`1px solid ${x.border}`,padding:"2rem 1rem",marginBottom:"1rem",textAlign:"center",boxShadow:"none"},children:[n.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:"#3b82f6",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1rem"},children:n.jsx(Bu,{size:40,color:"white"})}),n.jsx("h2",{style:{margin:"0 0 0.5rem 0",color:x.text,fontSize:"1.25rem",fontWeight:"600"},children:t.email}),n.jsx("p",{style:{margin:0,color:x.subtext,fontSize:"0.875rem"},children:"Electrician Account"})]}),n.jsxs("div",{style:{background:x.cardBg,borderRadius:"0.75rem",border:`1px solid ${x.border}`,overflow:"hidden",marginBottom:"1rem",boxShadow:"none"},children:[n.jsx("h3",{style:{margin:0,padding:"1rem",color:x.text,fontSize:"1rem",fontWeight:"600",borderBottom:`1px solid ${x.border}`},children:"Account Settings"}),n.jsxs("button",{style:{width:"100%",padding:"1rem",background:"transparent",border:"none",borderBottom:`1px solid ${x.border}`,display:"flex",alignItems:"center",gap:"0.75rem",cursor:"pointer",color:x.text},children:[n.jsx(m0,{size:20,color:x.subtext}),n.jsxs("div",{style:{flex:1,textAlign:"left"},children:[n.jsx("div",{style:{fontSize:"0.9375rem",fontWeight:"500"},children:"Email"}),n.jsx("div",{style:{fontSize:"0.8125rem",color:x.subtext},children:t.email})]})]}),n.jsxs("button",{style:{width:"100%",padding:"1rem",background:"transparent",border:"none",borderBottom:`1px solid ${x.border}`,display:"flex",alignItems:"center",gap:"0.75rem",cursor:"pointer",color:x.text},children:[n.jsx(d2,{size:20,color:x.subtext}),n.jsxs("div",{style:{flex:1,textAlign:"left"},children:[n.jsx("div",{style:{fontSize:"0.9375rem",fontWeight:"500"},children:"Notifications"}),n.jsx("div",{style:{fontSize:"0.8125rem",color:x.subtext},children:"Manage preferences"})]})]}),n.jsxs("button",{style:{width:"100%",padding:"1rem",background:"transparent",border:"none",display:"flex",alignItems:"center",gap:"0.75rem",cursor:"pointer",color:x.text},children:[n.jsx(Q2,{size:20,color:x.subtext}),n.jsxs("div",{style:{flex:1,textAlign:"left"},children:[n.jsx("div",{style:{fontSize:"0.9375rem",fontWeight:"500"},children:"Privacy & Security"}),n.jsx("div",{style:{fontSize:"0.8125rem",color:x.subtext},children:"Account protection"})]})]})]}),n.jsxs("button",{onClick:C,style:{width:"100%",padding:"1rem",background:"#ef4444",color:"white",border:"none",borderRadius:"0.75rem",fontSize:"0.9375rem",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",boxShadow:"none"},children:[n.jsx(W2,{size:20}),"Log Out"]})]})}):n.jsx("div",{style:{background:x.bg,minHeight:"100vh",paddingBottom:"5rem"},children:n.jsx("div",{style:{padding:"1rem"},children:n.jsxs("div",{style:{background:x.cardBg,borderRadius:"0.75rem",border:`1px solid ${x.border}`,padding:"2rem 1rem",marginTop:"2rem",boxShadow:"none"},children:[n.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:"#3b82f6",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1.5rem"},children:n.jsx(Bu,{size:40,color:"white"})}),n.jsx("h2",{style:{margin:"0 0 0.5rem 0",color:x.text,fontSize:"1.5rem",fontWeight:"700",textAlign:"center"},children:l?"Welcome Back":"Create Account"}),n.jsx("p",{style:{margin:"0 0 2rem 0",color:x.subtext,fontSize:"0.875rem",textAlign:"center"},children:l?"Sign in to your account":"Sign up to get started"}),j&&n.jsx("div",{style:{padding:"0.75rem",background:"#fee2e2",border:"1px solid #fca5a5",borderRadius:"0.5rem",color:"#dc2626",fontSize:"0.875rem",marginBottom:"1rem"},children:j}),n.jsxs("form",{onSubmit:l?A:P,children:[n.jsxs("div",{style:{marginBottom:"1rem"},children:[n.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:x.text,fontSize:"0.875rem",fontWeight:"500"},children:"Email"}),n.jsxs("div",{style:{position:"relative"},children:[n.jsx(m0,{size:18,style:{position:"absolute",left:"0.75rem",top:"50%",transform:"translateY(-50%)",color:x.subtext}}),n.jsx("input",{type:"email",value:u,onChange:S=>m(S.target.value),placeholder:"your@email.com",required:!0,style:{width:"100%",padding:"0.75rem 0.75rem 0.75rem 2.5rem",border:`1px solid ${x.border}`,borderRadius:"0.5rem",fontSize:"0.9375rem",background:x.inputBg,color:x.text,boxSizing:"border-box"}})]})]}),n.jsxs("div",{style:{marginBottom:"1.5rem"},children:[n.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:x.text,fontSize:"0.875rem",fontWeight:"500"},children:"Password"}),n.jsxs("div",{style:{position:"relative"},children:[n.jsx(F2,{size:18,style:{position:"absolute",left:"0.75rem",top:"50%",transform:"translateY(-50%)",color:x.subtext}}),n.jsx("input",{type:"password",value:p,onChange:S=>y(S.target.value),placeholder:"",required:!0,style:{width:"100%",padding:"0.75rem 0.75rem 0.75rem 2.5rem",border:`1px solid ${x.border}`,borderRadius:"0.5rem",fontSize:"0.9375rem",background:x.inputBg,color:x.text,boxSizing:"border-box"}})]})]}),n.jsx("button",{type:"submit",style:{width:"100%",padding:"0.875rem",background:"#2563eb",color:"white",border:"none",borderRadius:"0.5rem",fontSize:"1rem",fontWeight:"600",cursor:"pointer",marginBottom:"1rem"},children:l?"Sign In":"Sign Up"}),n.jsxs("div",{style:{textAlign:"center",color:x.subtext,fontSize:"0.875rem"},children:[l?"Don't have an account? ":"Already have an account? ",n.jsx("button",{type:"button",onClick:()=>{d(!l),_("")},style:{background:"none",border:"none",color:"#2563eb",cursor:"pointer",fontSize:"0.875rem",fontWeight:"600",textDecoration:"underline"},children:l?"Sign Up":"Sign In"})]})]})]})})})},VS=({isDarkMode:r,jobs:t,addJob:e,updateJob:a,deleteJob:s,pendingEstimate:l,onEstimateApplied:d})=>{const[u,m]=ve.useState(!1),[p,y]=ve.useState(null),[j,_]=ve.useState({title:"",client:"",location:"",status:"scheduled",date:"",time:"",estimatedCost:"",duration:"",notes:""}),x={bg:r?"#000000":"#f9fafb",cardBg:r?"#0a0a0a":"#ffffff",text:r?"#ffffff":"#111827",subtext:r?"#666666":"#6b7280",border:r?"#1a1a1a":"#e5e7eb",inputBg:r?"#000000":"#ffffff"},P={scheduled:{color:"#3b82f6",icon:Wf,label:"Scheduled"},"in-progress":{color:"#f59e0b",icon:Du,label:"In Progress"},completed:{color:"#10b981",icon:en,label:"Completed"}},A=()=>{_({title:"",client:"",location:"",status:"scheduled",date:"",time:"",estimatedCost:"",duration:"",notes:""}),m(!1),y(null)},C=()=>{j.title&&j.client&&(e(j),A())},S=()=>{j.title&&j.client&&(a(p.id,j),A())},F=B=>{y(B),_({title:B.title,client:B.client,location:B.location||"",status:B.status,date:B.date||"",time:B.time||"",estimatedCost:B.estimatedCost||"",duration:B.duration||"",notes:B.notes||""}),m(!0),window.scrollTo({top:0,behavior:"smooth"})},O=B=>{window.confirm("Are you sure you want to delete this job?")&&s(B)};return n.jsx("div",{style:{minHeight:"100vh",background:x.bg,paddingBottom:"5rem"},children:n.jsxs("div",{style:{padding:"1rem"},children:[n.jsxs("div",{style:{background:x.cardBg,borderRadius:"0.75rem",border:`1px solid ${x.border}`,boxShadow:"none",marginBottom:"1rem",overflow:"hidden"},children:[n.jsxs("button",{onClick:()=>m(!u),style:{width:"100%",padding:"1rem",background:"transparent",border:"none",display:"flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer",color:x.text},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"1.125rem",fontWeight:"600"},children:[n.jsx(Sl,{size:20}),p?"Edit Job":"Add New Job"]}),n.jsx(gf,{size:20,style:{transform:u?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s"}})]}),u&&n.jsx("div",{style:{padding:"0 1rem 1rem 1rem",borderTop:`1px solid ${x.border}`},children:n.jsxs("div",{style:{paddingTop:"1rem"},children:[n.jsx("input",{type:"text",placeholder:"Job Title *",value:j.title,onChange:B=>_(H=>({...H,title:B.target.value})),style:{width:"100%",padding:"0.75rem",marginBottom:"0.75rem",border:`1px solid ${x.border}`,borderRadius:"0.5rem",fontSize:"0.9375rem",background:x.inputBg,color:x.text,boxSizing:"border-box"}}),n.jsx("input",{type:"text",placeholder:"Client Name *",value:j.client,onChange:B=>_(H=>({...H,client:B.target.value})),style:{width:"100%",padding:"0.75rem",marginBottom:"0.75rem",border:`1px solid ${x.border}`,borderRadius:"0.5rem",fontSize:"0.9375rem",background:x.inputBg,color:x.text,boxSizing:"border-box"}}),n.jsx("input",{type:"text",placeholder:"Location",value:j.location,onChange:B=>_(H=>({...H,location:B.target.value})),style:{width:"100%",padding:"0.75rem",marginBottom:"0.75rem",border:`1px solid ${x.border}`,borderRadius:"0.5rem",fontSize:"0.9375rem",background:x.inputBg,color:x.text,boxSizing:"border-box"}}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.75rem",marginBottom:"0.75rem"},children:[n.jsx("input",{type:"date",value:j.date,onChange:B=>_(H=>({...H,date:B.target.value})),style:{padding:"0.75rem",border:`1px solid ${x.border}`,borderRadius:"0.5rem",fontSize:"0.9375rem",background:x.inputBg,color:x.text,boxSizing:"border-box"}}),n.jsx("input",{type:"time",placeholder:"Time",value:j.time,onChange:B=>_(H=>({...H,time:B.target.value})),style:{padding:"0.75rem",border:`1px solid ${x.border}`,borderRadius:"0.5rem",fontSize:"0.9375rem",background:x.inputBg,color:x.text,boxSizing:"border-box"}})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.75rem",marginBottom:"0.75rem"},children:[n.jsx("input",{type:"number",placeholder:"Cost ($)",value:j.estimatedCost,onChange:B=>_(H=>({...H,estimatedCost:B.target.value})),style:{padding:"0.75rem",border:`1px solid ${x.border}`,borderRadius:"0.5rem",fontSize:"0.9375rem",background:x.inputBg,color:x.text,boxSizing:"border-box"}}),n.jsx("input",{type:"text",placeholder:"Duration",value:j.duration,onChange:B=>_(H=>({...H,duration:B.target.value})),style:{padding:"0.75rem",border:`1px solid ${x.border}`,borderRadius:"0.5rem",fontSize:"0.9375rem",background:x.inputBg,color:x.text,boxSizing:"border-box"}})]}),n.jsxs("select",{value:j.status,onChange:B=>_(H=>({...H,status:B.target.value})),style:{width:"100%",padding:"0.75rem",marginBottom:"0.75rem",border:`1px solid ${x.border}`,borderRadius:"0.5rem",fontSize:"0.9375rem",background:x.inputBg,color:x.text,boxSizing:"border-box"},children:[n.jsx("option",{value:"scheduled",children:"Scheduled"}),n.jsx("option",{value:"in-progress",children:"In Progress"}),n.jsx("option",{value:"completed",children:"Completed"})]}),n.jsx("textarea",{placeholder:"Notes",value:j.notes,onChange:B=>_(H=>({...H,notes:B.target.value})),rows:"3",style:{width:"100%",padding:"0.75rem",marginBottom:"0.75rem",border:`1px solid ${x.border}`,borderRadius:"0.5rem",fontSize:"0.9375rem",background:x.inputBg,color:x.text,boxSizing:"border-box",resize:"vertical"}}),n.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[n.jsx("button",{onClick:p?S:C,disabled:!j.title||!j.client,style:{flex:1,padding:"0.75rem",background:!j.title||!j.client?x.border:"#2563eb",color:"white",border:"none",borderRadius:"0.5rem",fontSize:"0.9375rem",fontWeight:"600",cursor:!j.title||!j.client?"not-allowed":"pointer",opacity:!j.title||!j.client?.5:1},children:p?"Update Job":"Add Job"}),n.jsx("button",{onClick:A,style:{flex:1,padding:"0.75rem",background:"transparent",color:x.text,border:`1px solid ${x.border}`,borderRadius:"0.5rem",fontSize:"0.9375rem",fontWeight:"600",cursor:"pointer"},children:"Cancel"})]})]})})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem",padding:"0 0.25rem"},children:[n.jsx("h3",{style:{margin:0,color:x.text,fontSize:"1.125rem",fontWeight:"600"},children:"Job List"}),n.jsxs("span",{style:{fontSize:"0.875rem",color:x.subtext,background:x.cardBg,padding:"0.25rem 0.75rem",borderRadius:"1rem",border:`1px solid ${x.border}`},children:[t.length," ",t.length===1?"job":"jobs"]})]}),t.length===0?n.jsxs("div",{style:{background:x.cardBg,border:`1px solid ${x.border}`,borderRadius:"0.75rem",textAlign:"center",padding:"3rem 1rem",color:x.subtext},children:[n.jsx(Of,{size:48,style:{margin:"0 auto 1rem",opacity:.5}}),n.jsx("p",{style:{margin:0,fontSize:"0.9375rem"},children:"No jobs yet. Add your first job above!"})]}):[...t].sort((B,H)=>!B.date&&!H.date?0:B.date?H.date?new Date(H.date)-new Date(B.date):-1:1).map(B=>{const H=P[B.status].icon,ee=p&&p.id===B.id;return n.jsxs("div",{style:{background:x.cardBg,border:`1px solid ${ee?"#3b82f6":x.border}`,borderRadius:"0.75rem",padding:"1rem",marginBottom:"0.75rem",boxShadow:ee?"0 0 0 3px rgba(59, 130, 246, 0.1)":"none",transition:"all 0.2s"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"0.75rem"},children:[n.jsxs("div",{style:{flex:1},children:[n.jsx("h3",{style:{margin:"0 0 0.25rem 0",color:x.text,fontSize:"1rem",fontWeight:"600"},children:B.title}),n.jsx("p",{style:{margin:0,color:x.subtext,fontSize:"0.875rem"},children:B.client})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem",padding:"0.25rem 0.75rem",borderRadius:"1rem",background:`${P[B.status].color}20`,color:P[B.status].color,fontSize:"0.75rem",fontWeight:"600",whiteSpace:"nowrap"},children:[n.jsx(H,{size:14}),n.jsx("span",{children:P[B.status].label})]})]}),B.location&&n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem",color:x.subtext,fontSize:"0.875rem"},children:[n.jsx(y1,{size:16}),n.jsx("span",{children:B.location})]}),B.date&&n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem",color:x.subtext,fontSize:"0.875rem"},children:[n.jsx(mf,{size:16}),n.jsxs("span",{children:[new Date(B.date+"T00:00:00").toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),B.time&&` at ${B.time}`,B.duration&&` (${B.duration})`]})]}),B.estimatedCost&&n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem",color:x.subtext,fontSize:"0.875rem"},children:[n.jsx(Mf,{size:16}),n.jsxs("span",{children:["$",Number(B.estimatedCost).toLocaleString()]})]}),B.notes&&n.jsx("p",{style:{margin:"0.75rem 0 0 0",padding:"0.75rem",background:x.bg,borderRadius:"0.5rem",color:x.text,fontSize:"0.875rem",lineHeight:"1.5"},children:B.notes}),n.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginTop:"0.75rem"},children:[n.jsxs("button",{onClick:()=>F(B),style:{flex:1,padding:"0.5rem",background:ee?"#3b82f6":"transparent",border:`1px solid ${ee?"#3b82f6":x.border}`,borderRadius:"0.5rem",color:ee?"white":x.text,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.25rem",fontSize:"0.875rem",fontWeight:ee?"600":"400"},children:[n.jsx(C1,{size:16}),ee?"Editing...":"Edit"]}),n.jsxs("button",{onClick:()=>O(B.id),style:{flex:1,padding:"0.5rem",background:"transparent",border:"1px solid #ef4444",borderRadius:"0.5rem",color:"#ef4444",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.25rem",fontSize:"0.875rem"},children:[n.jsx(jl,{size:16}),"Delete"]})]})]},B.id)})]})})},US=({isDarkMode:r,jobs:t=[],onApplyToJob:e})=>{const[a,s]=ve.useState([]),[l,d]=ve.useState(!1),[u,m]=ve.useState(null),[p,y]=ve.useState(null),[j,_]=ve.useState({name:"",laborHours:"",laborRate:"",materials:[]}),[x,P]=ve.useState({name:"",cost:""}),A={bg:r?"#000000":"#f9fafb",cardBg:r?"#0a0a0a":"#ffffff",text:r?"#ffffff":"#111827",subtext:r?"#666666":"#6b7280",border:r?"#1a1a1a":"#e5e7eb",inputBg:r?"#000000":"#ffffff"},C=(I,J,D)=>{const k=(parseFloat(I)||0)*(parseFloat(J)||0),X=D.reduce((R,se)=>R+(parseFloat(se.cost)||0),0);return k+X},S=C(j.laborHours,j.laborRate,j.materials),F=()=>{x.name&&x.cost&&(_(I=>({...I,materials:[...I.materials,{...x}]})),P({name:"",cost:""}))},O=I=>{_(J=>({...J,materials:J.materials.filter((D,k)=>k!==I)}))},B=()=>{if(j.name){const I=C(j.laborHours,j.laborRate,j.materials);s(u?a.map(J=>J.id===u.id?{...j,id:J.id,total:I,createdAt:J.createdAt}:J):[...a,{...j,id:Date.now(),total:I,createdAt:new Date}]),H()}},H=()=>{_({name:"",laborHours:"",laborRate:"",materials:[]}),P({name:"",cost:""}),d(!1),m(null)},ee=I=>{m(I),_({name:I.name,laborHours:I.laborHours,laborRate:I.laborRate,materials:[...I.materials]}),d(!0),window.scrollTo({top:0,behavior:"smooth"})},ce=I=>{window.confirm("Delete this estimate?")&&s(a.filter(J=>J.id!==I))},W=(I,J)=>{e&&e(I,J),y(null)};return n.jsx("div",{style:{background:A.bg,paddingBottom:"5rem"},children:n.jsxs("div",{style:{padding:"1rem"},children:[n.jsxs("div",{style:{background:A.cardBg,borderRadius:"0.75rem",border:`1px solid ${A.border}`,boxShadow:"none",marginBottom:"1rem",overflow:"hidden"},children:[n.jsxs("button",{onClick:()=>d(!l),style:{width:"100%",padding:"1rem",background:"transparent",border:"none",display:"flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer",color:A.text},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"1.125rem",fontWeight:"600"},children:[n.jsx(Sl,{size:20}),u?"Edit Estimate":"New Estimate"]}),n.jsx(gf,{size:20,style:{transform:l?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s"}})]}),l&&n.jsx("div",{style:{padding:"0 1rem 1rem 1rem",borderTop:`1px solid ${A.border}`},children:n.jsxs("div",{style:{paddingTop:"1rem"},children:[n.jsx("input",{type:"text",placeholder:"Estimate Name *",value:j.name,onChange:I=>_(J=>({...J,name:I.target.value})),style:{width:"100%",padding:"0.75rem",marginBottom:"0.75rem",border:`1px solid ${A.border}`,borderRadius:"0.5rem",fontSize:"0.9375rem",background:A.inputBg,color:A.text,boxSizing:"border-box"}}),n.jsx("h4",{style:{margin:"0 0 0.5rem 0",fontSize:"0.875rem",fontWeight:"600",color:A.text},children:"Labor"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.75rem",marginBottom:"0.75rem"},children:[n.jsx("input",{type:"number",placeholder:"Hours",value:j.laborHours,onChange:I=>_(J=>({...J,laborHours:I.target.value})),style:{padding:"0.75rem",border:`1px solid ${A.border}`,borderRadius:"0.5rem",fontSize:"0.9375rem",background:A.inputBg,color:A.text,boxSizing:"border-box"}}),n.jsx("input",{type:"number",placeholder:"Rate ($/hr)",value:j.laborRate,onChange:I=>_(J=>({...J,laborRate:I.target.value})),style:{padding:"0.75rem",border:`1px solid ${A.border}`,borderRadius:"0.5rem",fontSize:"0.9375rem",background:A.inputBg,color:A.text,boxSizing:"border-box"}})]}),n.jsx("h4",{style:{margin:"1rem 0 0.5rem 0",fontSize:"0.875rem",fontWeight:"600",color:A.text},children:"Materials"}),j.materials.map((I,J)=>n.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"0.5rem",padding:"0.75rem",background:A.bg,borderRadius:"0.5rem"},children:[n.jsxs("div",{style:{flex:1},children:[n.jsx("div",{style:{fontSize:"0.875rem",fontWeight:"500",color:A.text},children:I.name}),n.jsxs("div",{style:{fontSize:"0.75rem",color:A.subtext},children:["$",parseFloat(I.cost).toFixed(2)]})]}),n.jsx("button",{onClick:()=>O(J),style:{background:"transparent",border:"none",color:"#ef4444",cursor:"pointer",padding:"0.25rem"},children:n.jsx(jl,{size:16})})]},J)),n.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"0.75rem"},children:[n.jsx("input",{type:"text",placeholder:"Material name",value:x.name,onChange:I=>P(J=>({...J,name:I.target.value})),style:{flex:1,padding:"0.75rem",border:`1px solid ${A.border}`,borderRadius:"0.5rem",fontSize:"0.875rem",background:A.inputBg,color:A.text,boxSizing:"border-box"}}),n.jsx("input",{type:"number",placeholder:"Cost",value:x.cost,onChange:I=>P(J=>({...J,cost:I.target.value})),style:{width:"100px",padding:"0.75rem",border:`1px solid ${A.border}`,borderRadius:"0.5rem",fontSize:"0.875rem",background:A.inputBg,color:A.text,boxSizing:"border-box"}}),n.jsx("button",{onClick:F,style:{padding:"0.75rem",background:"#2563eb",color:"white",border:"none",borderRadius:"0.5rem",cursor:"pointer",display:"flex",alignItems:"center"},children:n.jsx(Sl,{size:16})})]}),n.jsx("div",{style:{padding:"0.75rem",background:A.bg,borderRadius:"0.5rem",marginBottom:"0.75rem"},children:n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"1.125rem",fontWeight:"600",color:A.text},children:[n.jsx("span",{children:"Total:"}),n.jsxs("span",{children:["$",S.toFixed(2)]})]})}),n.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[n.jsxs("button",{onClick:B,disabled:!j.name,style:{flex:1,padding:"0.75rem",background:j.name?"#2563eb":A.border,color:"white",border:"none",borderRadius:"0.5rem",fontSize:"0.9375rem",fontWeight:"600",cursor:j.name?"pointer":"not-allowed",opacity:j.name?1:.5},children:[u?"Update":"Save"," Estimate"]}),n.jsx("button",{onClick:H,style:{flex:1,padding:"0.75rem",background:"transparent",color:A.text,border:`1px solid ${A.border}`,borderRadius:"0.5rem",fontSize:"0.9375rem",fontWeight:"600",cursor:"pointer"},children:"Cancel"})]})]})})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem",padding:"0 0.25rem"},children:[n.jsx("h3",{style:{margin:0,color:A.text,fontSize:"1.125rem",fontWeight:"600"},children:"Saved Estimates"}),n.jsx("span",{style:{fontSize:"0.875rem",color:A.subtext,background:A.cardBg,padding:"0.25rem 0.75rem",borderRadius:"1rem",border:`1px solid ${A.border}`},children:a.length})]}),a.length===0?n.jsxs("div",{style:{background:A.cardBg,border:`1px solid ${A.border}`,borderRadius:"0.75rem",textAlign:"center",padding:"3rem 1rem",color:A.subtext},children:[n.jsx(Df,{size:48,style:{margin:"0 auto 1rem",opacity:.5}}),n.jsx("p",{style:{margin:0,fontSize:"0.9375rem"},children:"No estimates yet. Create one above!"})]}):a.map(I=>n.jsxs("div",{style:{background:A.cardBg,border:`1px solid ${A.border}`,borderRadius:"0.75rem",padding:"1rem",marginBottom:"0.75rem",boxShadow:"none"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"0.75rem"},children:[n.jsxs("div",{children:[n.jsx("h3",{style:{margin:"0 0 0.25rem 0",color:A.text,fontSize:"1rem",fontWeight:"600"},children:I.name}),n.jsx("p",{style:{margin:0,color:A.subtext,fontSize:"0.75rem"},children:I.createdAt.toLocaleDateString()})]}),n.jsxs("div",{style:{fontSize:"1.25rem",fontWeight:"700",color:"#10b981"},children:["$",I.total.toFixed(2)]})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem",color:A.subtext,fontSize:"0.875rem"},children:[n.jsx(Wf,{size:16}),n.jsxs("span",{children:[I.laborHours,"h  $",I.laborRate,"/hr = $",(I.laborHours*I.laborRate).toFixed(2)]})]}),I.materials.length>0&&n.jsx("div",{style:{padding:"0.75rem",background:A.bg,borderRadius:"0.5rem",marginBottom:"0.75rem"},children:I.materials.map((J,D)=>n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.875rem",color:A.subtext,marginBottom:D<I.materials.length-1?"0.25rem":0},children:[n.jsx("span",{children:J.name}),n.jsxs("span",{children:["$",parseFloat(J.cost).toFixed(2)]})]},D))}),n.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[n.jsxs("div",{style:{position:"relative",flex:1},children:[n.jsxs("button",{onClick:()=>y(p===I.id?null:I.id),style:{width:"100%",padding:"0.5rem",background:"#2563eb",border:"none",borderRadius:"0.5rem",color:"white",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.25rem",fontSize:"0.875rem",fontWeight:"500"},children:[n.jsx(Mf,{size:16}),"Add to Job",n.jsx(gf,{size:14})]}),p===I.id&&n.jsxs(n.Fragment,{children:[n.jsx("div",{onClick:()=>y(null),style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:9998}}),n.jsxs("div",{style:{position:"absolute",bottom:"100%",left:0,right:0,marginBottom:"0.5rem",background:A.cardBg,border:`1px solid ${A.border}`,borderRadius:"0.5rem",boxShadow:r?"0 4px 12px rgba(0,0,0,0.6)":"0 4px 12px rgba(0,0,0,0.15)",maxHeight:"200px",overflowY:"auto",zIndex:9999},children:[n.jsx("button",{onClick:()=>W(I,"new"),style:{width:"100%",padding:"0.75rem",background:"transparent",border:"none",borderBottom:`1px solid ${A.border}`,color:"#2563eb",cursor:"pointer",textAlign:"left",fontSize:"0.875rem",fontWeight:"500"},children:"+ Create New Job"}),t.map(J=>n.jsx("button",{onClick:()=>W(I,J.id),style:{width:"100%",padding:"0.75rem",background:"transparent",border:"none",borderBottom:`1px solid ${A.border}`,color:A.text,cursor:"pointer",textAlign:"left",fontSize:"0.875rem"},children:J.title},J.id))]})]})]}),n.jsx("button",{onClick:()=>ee(I),style:{padding:"0.5rem",background:"transparent",border:`1px solid ${A.border}`,borderRadius:"0.5rem",color:A.text,cursor:"pointer",display:"flex",alignItems:"center"},children:n.jsx(C1,{size:16})}),n.jsx("button",{onClick:()=>ce(I.id),style:{padding:"0.5rem",background:"transparent",border:"1px solid #ef4444",borderRadius:"0.5rem",color:"#ef4444",cursor:"pointer",display:"flex",alignItems:"center"},children:n.jsx(jl,{size:16})})]})]},I.id))]})})};function qS(){const[r,t]=ve.useState(()=>localStorage.getItem("activeView")||null),[e,a]=ve.useState(()=>localStorage.getItem("isDarkMode")==="true"),[s,l]=ve.useState(!1),[d,u]=ve.useState(!1),[m,p]=ve.useState(null),[y,j]=ve.useState(!0),[_,x]=ve.useState(0),[P,A]=ve.useState([]);fc.useEffect(()=>{r===null?localStorage.setItem("activeView",""):localStorage.setItem("activeView",r)},[r]),fc.useEffect(()=>{localStorage.setItem("isDarkMode",e)},[e]),fc.useEffect(()=>{const X=()=>{const se=document.querySelector('meta[name="theme-color"]');se&&se.setAttribute("content",e?"#000000":"#2563eb")};X();const R=()=>{document.visibilityState==="visible"&&X()};return document.addEventListener("visibilitychange",R),()=>{document.removeEventListener("visibilitychange",R)}},[e]),fc.useEffect(()=>{window.scrollTo(0,0)},[r]);const C=X=>{A([...P,{...X,id:Date.now()}])},S=(X,R)=>{A(P.map(se=>se.id===X?{...R,id:se.id}:se))},F=X=>{A(P.filter(R=>R.id!==X))},O=ve.useRef(null);fc.useEffect(()=>{const X=()=>{const R=window.scrollY;R<10?j(!0):R>_&&R>80?j(!1):R<_&&j(!0),x(R)};return window.addEventListener("scroll",X,{passive:!0}),()=>window.removeEventListener("scroll",X)},[_]);const B=X=>{X==="home"?t(null):X==="calculators"?t("calculators"):X==="profile"?t("profile"):X==="jobs"?t("jobs"):X==="estimates"&&t("estimates")},H=()=>{t(null)},ee=(X,R)=>{R==="new"?(p(X),t("jobs")):(p({...X,jobId:R}),t("jobs"))},ce=()=>{if(O.current&&O.current.exportPDF)try{O.current.exportPDF(),l(!1),u(!0),setTimeout(()=>u(!1),3e3)}catch(X){console.error("PDF export failed:",X),alert("Failed to export PDF. Please try again.")}},W={headerBorder:e?"#000000":"#e5e7eb",menuBg:e?"#000000":"white",cardBorder:e?"#1a1a1a":"#e5e7eb",cardText:e?"#ffffff":"#111827"},I=()=>{switch(r){case"voltage-drop":return n.jsx(rb,{ref:O,isDarkMode:e,onBack:H});case"ohms-law":return n.jsx(nb,{ref:O,isDarkMode:e,onBack:H});case"box-fill":return n.jsx(ib,{ref:O,isDarkMode:e,onBack:H});case"conduit-fill":return n.jsx(ob,{ref:O,isDarkMode:e,onBack:H});case"ampacity":return n.jsx(ab,{ref:O,isDarkMode:e,onBack:H});case"motor-calculations":return n.jsx(db,{ref:O,isDarkMode:e,onBack:H});case"load-calculations":return n.jsx(fb,{ref:O,isDarkMode:e,onBack:H});case"transformer-sizing":return n.jsx(pb,{ref:O,isDarkMode:e,onBack:H});case"service-entrance":return n.jsx(mb,{ref:O,isDarkMode:e,onBack:H});case"grounding-bonding":return n.jsx(vb,{ref:O,isDarkMode:e,onBack:H});case"conduit-bending":return n.jsx(kb,{ref:O,isDarkMode:e,onBack:H});case"lighting":return n.jsx(_b,{ref:O,isDarkMode:e,onBack:H});case"receptacles":return n.jsx(Rb,{ref:O,isDarkMode:e,onBack:H});case"vfd-sizing":return n.jsx(Ib,{ref:O,isDarkMode:e,onBack:H});case"reactance-impedance":return n.jsx(Eb,{ref:O,isDarkMode:e,onBack:H});case"power-factor":return n.jsx(zb,{ref:O,isDarkMode:e,onBack:H});case"power-triangle":return n.jsx(Fb,{ref:O,isDarkMode:e,onBack:H});case"three-phase-power":return n.jsx(Ob,{ref:O,isDarkMode:e,onBack:H});case"calculators":return n.jsx(ux,{isDarkMode:e,onSelectCalculator:t});case"profile":return n.jsx($S,{isDarkMode:e});case"jobs":return n.jsx(VS,{isDarkMode:e,jobs:P,addJob:C,updateJob:S,deleteJob:F,pendingEstimate:m,onEstimateApplied:()=>p(null)});case"estimates":return n.jsx(US,{isDarkMode:e,onApplyToJob:ee});default:return n.jsx(Wb,{isDarkMode:e,jobs:P})}},D=r?r==="calculators"?{title:"Calculator Menu",icon:hd}:r==="profile"?{title:"Profile",icon:Bu}:r==="jobs"?{title:"Job Log",icon:Of}:r==="estimates"?{title:"Estimates",icon:Df}:{"voltage-drop":{title:"Voltage Drop",icon:_1},"ohms-law":{title:"Ohm's Law",icon:k1},"reactance-impedance":{title:"Reactance & Impedance",icon:v1},"power-factor":{title:"Power Factor Correction",icon:A1},"box-fill":{title:"Box Fill",icon:b1},"conduit-fill":{title:"Conduit Fill",icon:h1},ampacity:{title:"Ampacity",icon:d1},"motor-calculations":{title:"Motors",icon:j1},"load-calculations":{title:"Load Calculations",icon:u1},"transformer-sizing":{title:"Transformers",icon:S1},"service-entrance":{title:"Service Entrance Sizing",icon:c1},"grounding-bonding":{title:"Grounding & Bonding",icon:m1},"conduit-bending":{title:"Conduit Bending",icon:f1},lighting:{title:"Lighting",icon:x1},receptacles:{title:"Receptacles",icon:w1},"vfd-sizing":{title:"VFD Sizing",icon:p1},"power-triangle":{title:"Power Triangle",icon:B1},"three-phase-power":{title:"Three-Phase Power",icon:T1}}[r]||{title:"Electrician's Toolkit",icon:hd}:{title:"Home",icon:g1},k=D.icon;return n.jsxs("div",{className:"App",style:{background:e?"#000000":"#ffffff"},children:[n.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,height:"env(safe-area-inset-top)",background:e?"#000000":"#2563eb",zIndex:101}}),n.jsxs("div",{style:{background:e?"#000000":"#2563eb",padding:"0.5rem 1rem",borderBottom:`1px solid ${W.headerBorder}`,position:"fixed",top:"env(safe-area-inset-top)",left:0,right:0,zIndex:100,display:"flex",justifyContent:"space-between",alignItems:"center",minHeight:"48px",transform:y?"translateY(0)":"translateY(calc(-100% - env(safe-area-inset-top)))",transition:"transform 0.3s ease-in-out",paddingLeft:"max(1rem, env(safe-area-inset-left))",paddingRight:"max(1rem, env(safe-area-inset-right))"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[n.jsx(k,{size:20,color:"white",strokeWidth:2}),n.jsx("h1",{style:{fontSize:"1rem",fontWeight:"600",color:"white",margin:0,letterSpacing:"-0.01em"},children:D.title})]}),n.jsxs("div",{style:{position:"relative"},children:[n.jsx("button",{onClick:()=>l(!s),style:{background:"none",border:"none",cursor:"pointer",padding:"0.5rem",display:"flex",alignItems:"center",justifyContent:"center",minWidth:"40px",minHeight:"40px",lineHeight:1},children:n.jsx(V2,{size:24,color:"white",style:{display:"block",flexShrink:0}})}),s&&n.jsxs(n.Fragment,{children:[n.jsx("div",{onClick:()=>l(!1),style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:998}}),n.jsx("div",{style:{position:"absolute",top:"2.5rem",right:0,zIndex:999,background:W.menuBg,border:`1px solid ${W.cardBorder}`,borderRadius:"0.5rem",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",minWidth:"200px",overflow:"hidden"},children:n.jsxs("div",{style:{padding:"0.5rem 0"},children:[r&&r!=="profile"&&r!=="jobs"&&r!=="calculators"&&r!=="estimates"&&n.jsxs(n.Fragment,{children:[n.jsxs("button",{onClick:ce,style:{width:"100%",padding:"0.75rem 1rem",background:"transparent",border:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",color:W.cardText,fontSize:"0.875rem",fontWeight:"500"},onMouseEnter:X=>X.target.style.background=e?"#374151":"#f3f4f6",onMouseLeave:X=>X.target.style.background="transparent",children:[n.jsx(B2,{size:16}),n.jsx("span",{children:"Export to PDF"})]}),n.jsx("div",{style:{height:"1px",background:W.cardBorder,margin:"0.5rem 0"}})]}),n.jsxs("button",{onClick:()=>{a(!e),l(!1)},style:{width:"100%",padding:"0.75rem 1rem",background:"transparent",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",color:W.cardText,fontSize:"0.875rem",fontWeight:"500"},onMouseEnter:X=>X.target.style.background=e?"#374151":"#f3f4f6",onMouseLeave:X=>X.target.style.background="transparent",children:[n.jsx("span",{children:e?"Light Mode":"Dark Mode"}),n.jsx("span",{children:e?"":""})]})]})})]})]})]}),n.jsx("div",{style:{paddingBottom:"calc(65px + env(safe-area-inset-bottom))",paddingTop:"calc(48px + env(safe-area-inset-top))",paddingLeft:r==="calculators"?"0":"env(safe-area-inset-left)",paddingRight:r==="calculators"?"0":"env(safe-area-inset-right)",position:"relative",minHeight:"100vh",boxSizing:"border-box"},children:r?n.jsx("div",{style:{minHeight:"calc(100vh - 3.5rem)",padding:r==="calculators"||r==="jobs"||r==="profile"||r==="estimates"?"0":"1rem",paddingBottom:"5rem"},children:I()}):I()}),d&&n.jsxs("div",{style:{position:"fixed",bottom:"6rem",left:"50%",transform:"translateX(-50%)",background:"#10b981",color:"white",padding:"0.75rem 1.5rem",borderRadius:"0.5rem",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",zIndex:1e3,display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.875rem",fontWeight:"500",animation:"slideUp 0.3s ease-out",maxWidth:"90%",textAlign:"center"},children:[n.jsx("span",{style:{fontSize:"1.25rem"},children:""}),n.jsx("span",{children:"PDF saved to Downloads"})]}),n.jsx(Pb,{onNavigate:B,currentView:r==="profile"?"profile":r==="jobs"?"jobs":r==="estimates"?"estimates":r==="calculators"||r?"calculators":"home",isDarkMode:e})]})}const HS=n2.createRoot(document.getElementById("root"));HS.render(n.jsx(fc.StrictMode,{children:n.jsx(qS,{})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{if(window.location.hostname==="localhost"){console.log("Skipping service worker on localhost");return}navigator.serviceWorker.register("/electrician-toolkit/service-worker.js").then(r=>{console.log("ServiceWorker registration successful:",r.scope)}).catch(r=>{console.log("ServiceWorker registration failed:",r)})});export{ur as _,KS as c,s1 as g};
